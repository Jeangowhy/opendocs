
# ğŸš© Algorithms & Data Structures ç®—æ³•ä¸æ•°æ®ç»“æ„
- [åŒå› ç´ è®¤è¯ï¼ˆ2FAï¼‰æ•™ç¨‹ - TOTP](https://ruanyifeng.com/blog/2017/11/2fa-tutorial.html)
- Online Judge åœ¨çº¿åˆ¤é¢˜ç³»ç»Ÿ https://vjudge.net
- https://www.lintcode.com
- http://leetcode.com/
- https://www.codewars.com
- http://open.163.com/newview/movie/courseintro?newurl=/special/opencourse/algorithms.html
- https://www.algoexpert.io/questions
- PAT - Programming Ability Test è®¡ç®—æœºç¨‹åºè®¾è®¡èƒ½åŠ›è€ƒè¯• https://www.patest.cn/practice
- Algorithm Visualizer https://algorithm-visualizer.org/
- Data Structure Visualizations https://www.cs.usfca.edu/~galles/visualization/Algorithms.html
- Data Structure Tutorial https://www.tutorialspoint.com/index.htm
- Top 20 Dynamic Programming Interview Questions https://www.geeksforgeeks.org/top-20-dynamic-programming-interview-questions/
- COS 226: Introduction to Data Structures https://www.cs.princeton.edu/courses/archive/fall18/cos226/syllabus.php
- Robert Sedgewick - Algorithms, 4th Edition, Princeton University https://algs4.cs.princeton.edu/34hash/
- Introduction to Algorithms, 3rd, the MIT Press - 8.4 Bucket sort

ç½‘ç»œæœ‰å¤§é‡ç®—æ³•è®­ç»ƒå¹³å°ï¼Œå¦‚ AlgoExpert æ˜¯ä¸€ä¸ª LeetCode ç²¾é€‰çš„æœåŠ¡ï¼Œå› ä¸º LeetCode ç°åœ¨çš„é¢˜ç›®å®åœ¨æ˜¯å¤ªå¤šäº†ï¼Œä½†è§£ç­”ã€æç¤ºç­‰å†…å®¹çš„è´¨é‡åˆå‚å·®ä¸é½ã€‚AlgoExpert è§£å†³äº†è¿™äº›é—®é¢˜ï¼šé¦–å…ˆï¼Œå®ƒæä¾›ä¸åˆ° 100 é“ç®—æ³•é¢˜ï¼Œè¦†ç›–ä¸åŒéš¾åº¦å’Œä¸åŒçŸ¥è¯†ç‚¹ï¼›å…¶æ¬¡ï¼Œæ¯é“é¢˜éƒ½æœ‰ä¸€ç³»åˆ—å¾ªåºæ¸è¿›çš„æç¤ºï¼Œä½¿å¾—ä½ å¯ä»¥ä»æ¯«æ— å¤´ç»ªå¼€å§‹ä¸€æ­¥ä¸€æ­¥åšåˆ°æœ€ä¼˜è§£ï¼›æœ€åï¼Œæ¯é“é¢˜æœ€åéƒ½æœ‰è§†é¢‘è®²è§£ï¼Œä»æœ€ç¬¨çš„è§£æ³•å¼€å§‹ä¸€æ­¥ä¸€æ­¥è®²è§£å¦‚ä½•ä¼˜åŒ–ï¼Œæœ€åè¾¾æˆæœ€ä¼˜è§£ã€‚ 

Data structures & algorithms æ˜¯è®¡ç®—æœºè¯­è¨€çš„åŸºçŸ³ï¼Œæ˜¯è½¯ä»¶çµé­‚çš„æ”¯æ’‘ã€‚ç ”ç©¶è®¡ç®—æœºç¼–ç¨‹æœ¬è´¨ä¸Šå°±æ˜¯åœ¨å¼„æ¸…æ¥šåº•å±‚çš„æ•°æ®ç»“æ„ä¸ç®—æ³•ï¼Œäº†è§£ä¿¡æ¯çš„æ•°å­—åŒ–ä¸å…¶ä¿å­˜åœ¨å†…å­˜çš„ç»“æ„æ’åˆ—ï¼Œä¸å„ç§ç®—æ³•å’Œæ•°æ®ç»“æ„çš„æ€§èƒ½ã€‚

é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸ä¼ ç»Ÿçš„å‡½æ•°å¼ç¼–ç¨‹æœ€å¤§å·®åˆ«å°±æ˜¯ï¼Œä»æ•°æ® --> å‡½æ•° --> ç»“æœçš„è¿™æ¡æµç¨‹è½¬å˜ä¸ºï¼Œå¯¹è±¡åŒ…å«å‡½æ•°æ–¹æ³•ï¼Œä¸åŒçš„å¯¹è±¡å®ç°ä¸åŒçš„åŠŸèƒ½ï¼Œå¯¹è±¡æœ¬èº«åŒ…å«æ•°æ®ï¼Œä¹Ÿå¯ä»¥å¤„ç†æ•°æ®çš„è¾“å…¥è¾“å‡ºã€‚

ä¸å‡½æ•°å¼ç¼–ç¨‹ç®€æ´çš„è¡¨è¾¾ä¸åŒï¼Œé¢å‘å¯¹è±¡ç¼–ç¨‹å¼•å…¥çš„ä¸€å¥—æŠ½è±¡ç†è®ºå’Œå¯¹è±¡å°è£…æ–¹æ³• Abstraction & Encapsulationï¼Œä¼šå¤§å¤§å¢åŠ è½¯ä»¶çš„å¤æ‚åº¦ã€‚æ‰€ä»¥æ— è®ºæ˜¯ OOP - Object-Oriented Programming è¿˜ FP - Functional Programming æ²¡æœ‰ç»å¯¹çš„å¥½åï¼Œåªæœ‰åˆé€‚çš„æ‰æ˜¯æœ€å¥½çš„ã€‚

é¢å‘å¯¹è±¡çš„è¯­è¨€è®¾è®¡ï¼ŒåŸºäºæŠ½è±¡çš„æ•°æ®ç±»å‹å®šä¹‰ ADT - Abstract Data Typeï¼Œå°†æœ€åŸºæœ¬çš„æ•°æ®ç±»å‹ï¼Œå§‹æ•°å€¼ã€å­—ç¬¦ä¸²ç­‰ç­‰é‡æ–°åšäº†æ•´ä½“ç»„ç»‡ï¼ŒæŠ½è±¡æˆé¢å‘å¯¹è±¡çš„ç¼–ç¨‹ä½“ç³»ã€‚åŒ…æ‹¬ä¸ä»…é™äº stacks, queues, deques, ordered lists, sorted lists, hash and scatter tables, trees, priority queues, sets, and graphs.

åœ¨è®¾è®¡ç®—æ³•æ—¶ï¼Œéœ€è¦è€ƒè™‘çŸ¥ç§å› ç´ ï¼Œå¦‚å†…å­˜éœ€æ±‚é‡ã€æ—¶é—´æ•ˆç‡ç­‰å¤æ‚åº¦ï¼ŒTime Factorã€Space Factor è¿™ä¸¤ä¸ªçš„æŒ‡æ ‡æ˜¯æœ€å…³é”®ï¼Œæœ‰å„ç§æ¸è¿›è¯„ä»·æ–¹æ³• Asymptotic Notationsï¼Œå¦‚ Big O, Little o, Theta, Omega, Little wã€‚

æ ¹æ®ç®—æ³•çš„å…·ä½“ç‰¹ç‚¹å·®å¼‚ï¼Œå¯èƒ½å¯¹ä¸åŒçš„æ•°æ®ä¼šæœ‰ä¸åŒçš„è¡¨ç°ï¼Œæ‰€ä»¥ Worst Caseã€ Average Caseã€ Best Case ä¸‰ç§æƒ…å†µä¹Ÿæ˜¯æ¯”è¾ƒé‡è¦çš„è¯„åˆ¤ä¾æ®ã€‚

æ¸è¿‘åˆ†ææ³•å¤§ O è¡¨ç¤ºæ³•è¾ƒå¸¸è§ï¼Œæ ¹æ®è¾“å…¥çš„ä¸åŒï¼Œå¤æ‚åº¦å¯ä»¥å¦‚ä¸‹è¡¨ç¤ºï¼š

- O(1)      å¸¸æ•°å¤æ‚åº¦ constantï¼Œæœ€å¥½ï¼Œè¡¨ç¤ºä¸è¾“å…¥æ²¡æœ‰å…³ç³»ï¼Œç®—æ³•ä¿æŒå›ºå®šçš„æ—¶é—´æˆ–ç©ºé—´æ•ˆç‡ã€‚
- O(logn)   å¯¹æ•°å¤æ‚åº¦ logarithmicï¼Œç›¸å½“å¥½ã€‚
- O(n)      çº¿æ€§å¤æ‚åº¦ linearï¼Œå’Œè¾“å…¥æˆæ­£ç›¸å…³ï¼Œè¿˜ä¸é”™ï¼Œè¾“å…¥æ•°æ®è¶Šå¤šéœ€è¦æ—¶é—´ä¹Ÿè¶Šå¤šã€‚
- O(nlogn)  çº¿æ€§å¯¹æ•°é˜¶ n log nï¼ŒQuickSort æ’åºå±äºè¿™ä¸ªçº§åˆ«ï¼Œè¾“å…¥å˜é‡å¼•èµ·çš„å¤æ‚åº¦æ˜¯çº¿æ€§å¤æ‚åº¦çš„å€ç‡å¢é•¿ã€‚
- O(n^2)    å¹³æ–¹é˜¶ quadraticï¼Œæœ‰ç‚¹é—®é¢˜äº†ã€‚
- O(n^3)    ç«‹æ–¹é˜¶ cubicï¼Œç®—æ³•ç‰¹æ²¡æ•ˆç‡ã€‚
- O(2^n)    æŒ‡æ•°é˜¶ polynomialï¼Œå¹‚å¤æ‚åº¦ï¼Œéå¸¸å¤æ‚ï¼Œè¾“å…¥æ•°æ®ç¨æœ‰å¢åŠ ï¼Œéœ€è¦æ¶ˆè€—çš„æ—¶é—´ä¼šå‰§å¢ã€‚  
- O(n!)     é˜¶ä¹˜çº§ exponentialï¼ŒTraveling Salesman Problem æ—…è¡Œå•†é—®é¢˜åœ¨è®¡ç®—æœºç§‘å­¦é¢†åŸŸæ˜¯æ— è§£çš„ï¼Œn ä¸ªåŸå¸‚å°±æœ‰ n! ç§è§„åˆ’æ–¹æ¡ˆã€‚


ä½œä¸ºæ•°æ®ç»“æ„å…¥é—¨ï¼Œä¸€èˆ¬éƒ½ä¼šä»æœç´¢ç®—æ³•ã€æ’åºç®—æ³•ã€é€’å½’ç­‰åŸºç¡€é—®é¢˜å…¥æ‰‹ï¼Œé…åˆç›¸åº”çš„æ•°æ®ç»“æ„ï¼Œå¦‚æ•°ç»„ã€é“¾è¡¨ã€Stackã€Queueã€äºŒå‰æ ‘ï¼Œç”±ç®€å•åˆ°å¤æ‚ï¼š

- Searching Techniques
    - Linear Search
    - Binary Search
    - Interpolation Search
    - Hash Table
- Sorting Techniques
    - Comparison Sorting
        - Bubble Sort
        - Selection Sort
        - Insertion Sort
        - Shell Sort
        - Merge Sort
        - Comb Sort
        - Quck Sort
    - Bucket Sort
    - Counting Sort
    - Radix Sort
    - Heap Sort
- Recursion
    - Recursion Basics
    - Tower of Hanoi
    - Fibonacci Series

æ•°æ®ç»“æ„å’Œç®—æ³•æ˜¯å¯†ä¸å¯åˆ†ï¼Œå‰è€…é‡äºæ•°æ®çš„ç»„ç»‡ï¼Œè€Œåè€…ç€é‡äºå…·ä½“é—®é¢˜çš„æ–¹æ³•é€»è¾‘å®ç°ã€‚æ ¹æ®é—®é¢˜çš„ä¸åŒï¼Œç®—æ³•çš„ä¸€èˆ¬ç­–ç•¥æœ‰ä»¥ä¸‹è¿™äº›ï¼š

- Greedy Algorithms è´ªå©ªç®—æ³•
    - Travelling Salesman Problem
    - Prim's Minimal Spanning Tree Algorithm
    - Kruskal's Minimal Spanning Tree Algorithm
    - Dijkstra's Minimal Spanning Tree Algorithm
    - Graph - Map Coloring
    - Graph - Vertex Cover
    - Knapsack Problem
    - Job Scheduling Problem
- Divide and Conquer åˆ†è€Œæ²»ä¹‹
    - Merge Sort
    - Quick Sort
    - Binary Search
    - Strassen's Matrix Multiplication
    - Closest pair (points)
- Dynamic Programming åŠ¨æ€è§„åˆ’
    - Fibonacci number series
    - Knapsack problem
    - Tower of Hanoi
    - All pair shortest path by Floyd-Warshall
    - Shortest path by Dijkstra
    - Project scheduling

åŠ¨æ€è§„åˆ’ï¼ˆDynamic Programmingï¼ŒDPï¼‰æ˜¯è¿ç­¹å­¦çš„ä¸€ä¸ªåˆ†æ”¯ï¼Œæ˜¯æ±‚è§£å†³ç­–è¿‡ç¨‹æœ€ä¼˜åŒ–çš„è¿‡ç¨‹ã€‚20 ä¸–çºª 50 å¹´ä»£åˆï¼Œç¾å›½æ•°å­¦å®¶è´å°”æ›¼ï¼ˆR.Bellmanï¼‰ç­‰äººåœ¨ç ”ç©¶å¤šé˜¶æ®µå†³ç­–è¿‡ç¨‹çš„ä¼˜åŒ–é—®é¢˜æ—¶ï¼Œæå‡ºäº†è‘—åçš„æœ€ä¼˜åŒ–åŸç†ï¼Œä»è€Œåˆ›ç«‹äº†åŠ¨æ€è§„åˆ’ã€‚åŠ¨æ€è§„åˆ’çš„åº”ç”¨æå…¶å¹¿æ³›ï¼ŒåŒ…æ‹¬å·¥ç¨‹æŠ€æœ¯ã€ç»æµã€å·¥ä¸šç”Ÿäº§ã€å†›äº‹ä»¥åŠè‡ªåŠ¨åŒ–æ§åˆ¶ç­‰é¢†åŸŸï¼Œå¹¶åœ¨èƒŒåŒ…é—®é¢˜ã€ç”Ÿäº§ç»è¥é—®é¢˜ã€èµ„é‡‘ç®¡ç†é—®é¢˜ã€èµ„æºåˆ†é…é—®é¢˜ã€æœ€çŸ­è·¯å¾„é—®é¢˜å’Œå¤æ‚ç³»ç»Ÿå¯é æ€§é—®é¢˜ç­‰ä¸­å–å¾—äº†æ˜¾è‘—çš„æ•ˆæœã€‚

åŠ¨æ€è§„åˆ’å’Œåˆ†æ²»æ³•éå¸¸ç±»ä¼¼ï¼Œä½†æ˜¯å­é—®é¢˜é—´çš„è§£å†³æ–¹æ¡ˆè”ç³»æ›´å¯†åˆ‡ï¼š

- è¿™ä¸ªé—®é¢˜åº”è¯¥å¯ä»¥åˆ’åˆ†æˆæ›´å°çš„é‡å å­é—®é¢˜ã€‚
- ç”¨è¾ƒå°çš„å­é—®é¢˜çš„æœ€ä¼˜è§£å¯ä»¥å¾—åˆ°æœ€ä¼˜è§£ã€‚
- åŠ¨æ€ç®—æ³•ä½¿ç”¨è®°å¿†ï¼Œå·²æœ‰çš„è§£å¯ä»¥è¾…åŠ©è§£å†³æœªè§£å†³çš„å­é—®é¢˜ã€‚


# ğŸš© Chrome Disk-Cache

Windows å¹³å°ä¸‹ Chrome Cache å­˜å‚¨ä½ç½®åœ¨

    %localappdata%\Google\Chrome\User Data\Default\Cache

æœ‰ä¸€ä¸ª index æ–‡ä»¶ï¼Œæ˜¾ç„¶å®ƒæ˜¯ç´¢å¼•æ–‡ä»¶ã€‚

æ¥æ¨æµ‹ä¸‹ HTTP Cache åº”è¯¥å­˜ç‚¹ä»€ä¹ˆä¸œè¥¿ï¼Œresponse header å’Œ body ç¼ºä¸€ä¸å¯ã€‚å¦å¤–æ¯ä¸ª response æ€»ä¼šæœ‰è‡ªå·±çš„ä¸€äº›å±æ€§éœ€è¦å­˜ç€ï¼Œæ¯”å¦‚ï¼šä¸Šæ¬¡ä»€ä¹ˆæ—¶å€™ç”¨äº†è¿™ä¸ª cache èµ„æºï¼Œæœ€è¿‘è¿™ä¸ªèµ„æºç”¨äº†å‡ æ¬¡ï¼Œrequest header å¦‚æœæœ‰ Vary å­—æ®µï¼Œåˆ¤æ–­èµ„æºæ˜¯å¦æœ‰æ•ˆï¼Œå°±è¦è®°ç€ request header çš„å†…å®¹ï¼Œä½†ä¸ç”¨è®°åŸå§‹å†…å®¹ï¼Œè®°ä¸ªå¯¹åº”çš„ MD5 å€¼å°±è¡Œï¼ŒåŠ ä¸Šç¨‹åºå†…éƒ¨è¦ç”¨åˆ°çš„å±æ€§ï¼Œæ‚ä¸ƒæ‚å…«æœ‰ä¸€å †ï¼Œéƒ½éœ€è¦å­˜ç€ï¼Œè¿™äº›å«åš metadataã€‚

æ‰€ä»¥ï¼ŒHTTP Cache é‡Œæ¯ä¸ªèµ„æºå­˜çš„ä¸œè¥¿æœ‰ä¸‰ç§ï¼Œresponse headerï¼Œ bodyï¼Œ metadata

è¿”å›çš„ Response å†…å®¹ï¼Œæœ‰é•¿æœ‰çŸ­ï¼Œä¸” url æ•°é‡ä¼—å¤šï¼Œå¦‚æœç›´æ¥å­˜æˆä¸€ä¸ªæ–‡ä»¶ï¼ˆIEå°±æ˜¯è¿™ä¹ˆåšçš„ï¼‰ï¼Œé‚£ç»“æœå°±æ˜¯cacheç›®å½•ä¸‹æ–‡ä»¶æ•°é‡ç‰¹åˆ«å¤šï¼Œå¹¶ä¸”æœ‰å¥½å¤šéå¸¸éå¸¸å°çš„æ–‡ä»¶ã€‚æ¯æ¬¡è¯»è¿™æ ·çš„ Cacheï¼Œæ˜¾ç„¶é€Ÿåº¦å¿«ä¸äº†ã€‚

æ‰€ä»¥ï¼Œæ”¹è¿›æ–¹æ¡ˆå¾ˆç®€å•ï¼Œå¤§æ–‡ä»¶è¿˜æ˜¯ä¿æŒåŸæ ·ï¼Œå°æ–‡ä»¶åˆå¹¶ï¼Œåˆå¹¶åçš„æ–‡ä»¶å°±æ˜¯ data_0 data_1 data_2 data_3 è¿™å‡ ä¸ªæ–‡ä»¶ã€‚è¿™äº›æ–‡ä»¶ä¸å…‰è¦è¯»ï¼Œè¿˜è¦å†™å•Šï¼Œåªæ˜¯ç®€å•åœ°æŠŠæ¯ä¸ª response çš„å†…å®¹æ‹¼æ¥èµ·æ¥ï¼Œé‚£è¯»å†™æ•ˆç‡æ˜¾ç„¶è¿˜æ˜¯ä¸è¡Œã€‚å› ä¸ºå†…å®¹ä¸å®šé•¿å•Šï¼Œå†™å…¥ä¹‹åï¼Œå†æƒ³æ›´æ–°ï¼Œä¼šå½±å“å…¶å®ƒ response å†…å®¹åœ¨æ–‡ä»¶é‡Œçš„ä½ç½®ï¼Œè¿™ä¸åˆ©äºå»ºç«‹ç´¢å¼•å¿«é€Ÿæ‰¾åˆ°å¯¹åº”çš„æ–‡ä»¶ã€‚

æ‰€ä»¥è¿˜å¾—ä¼˜åŒ–ï¼Œäºæ˜¯äº§ç”Ÿäº† block è¿™ä¸ªæ¦‚å¿µï¼Œä¸ºä»€ä¹ˆ block ä¼šæœ‰ 256byteï¼Œ1kï¼Œ4k è¿™ä¹ˆä¸‰ç§å‘¢ï¼Ÿ

å¤§æ¦‚æ˜¯å› ä¸º Windows NTFS æ–‡ä»¶ç³»ç»Ÿçš„ 4k å¯¹é½ï¼ŒWindows ç³»ç»Ÿè¯»æ–‡ä»¶ä¹Ÿæ˜¯æœ‰ç¼“å­˜çš„ï¼Œç¼“å­˜çš„æœ€å°å•ä½æ˜¯ 4kï¼Œå“ªæ€•åªè¯» 1-byteï¼Œä¹Ÿä¼šæŠŠå‰å 4k å†…å®¹ä¸€å¹¶è¯»å–ï¼Œè¿™ä¸ª IO æ“ä½œçš„å¼€é”€é¿ä¸å¼€ã€‚

å†åŠ ä¸Š 256-byteï¼Œ1kï¼Œ4k çš„ 4 å€è¿›é˜¶æ–¹å¼ï¼Œå† 4 å€å°±æ˜¯ 16k çš„èµ„æºå°±è¶³å¤Ÿå¤§äº†ï¼Œç›´æ¥å­˜æˆå•ç‹¬æ–‡ä»¶ã€‚è¿™æ ·çš„åŠæ³•å·§å¦™ï¼Œå¹¶ä¸”ç²’åº¦èƒ½ç»†åˆ° 256-byteï¼Œä¹Ÿä¸è‡³äºå¤ªæµªè´¹ç¡¬ç›˜ç©ºé—´ï¼Œå¦åˆ™ block æœ€å°å•ä½å°±æ˜¯ 1k çš„è¯ï¼Œæ¯ä¸ªå‡  byte çš„èµ„æºä¹Ÿä¼šå ç”¨ 1k çš„ç©ºé—´ï¼Œä¼šå¯¼è‡´ cache ç›®å½•ä¸‹æ–‡ä»¶å¤§å°æ€»å’Œè¿…é€Ÿè†¨èƒ€ã€‚

Chrome ç°åœ¨çš„ HTTP Cache ç­–ç•¥æ˜¯ 2.0 ç‰ˆï¼ˆä»£ç é‡Œ kCurrentVersion æ˜¯ç‰ˆæœ¬å·ï¼‰ï¼Œè¿™ä¸€ç‰ˆå·²ç»ä½¿ç”¨å¤šå¹´æ²¡æ›´æ–°ï¼ŒGoogle å·²ç»åœ¨è°‹åˆ’ 3.0 ç‰ˆï¼Œå› ä¸ºç°åœ¨è¿™ç‰ˆè¿˜å­˜åœ¨å¾ˆå¤šé—®é¢˜ï¼ŒåŒ…æ‹¬ï¼šç³»ç»Ÿå´©æºƒæ—¶ï¼Œå¯èƒ½å¯¼è‡´æ•´ä¸ª Cache ç³»ç»Ÿçš„æ–‡ä»¶éƒ½æ— æ•ˆï¼›ç£ç›˜åˆ©ç”¨ç‡ä¸é«˜ï¼Œç›¸åŒå¤§å°çš„ç£ç›˜ç©ºé—´ï¼Œå¯ä»¥å­˜æ›´å¤šèµ„æºï¼Œå…·ä½“è¯·çœ‹åŸ disk-cache ä»£ç ï¼š

- http://dev.chromium.org/developers/design-documents/network-stack/disk-cache
- https://src.chromium.org/viewvc/chrome/trunk/src/net/disk_cache/disk_cache.h


# ğŸš© Square Root å¹³æ–¹æ ¹ç®—æ³•å®ç°
- https://leetcode.com/problems/sqrtx/
- Fast InvSqrt https://www.packetmania.net/2021/07/23/PGITVW-2-sqrt/

è¿™é“é¢˜çš„éš¾åº¦çº§åˆ«æ˜¯â€œå®¹æ˜“â€ï¼Œä½†æ˜¯ç°å®ä¸­å‘ç°ä¸å°‘æ±‚èŒè€…éƒ½åœ¨æ­¤æ ½å€’ã€‚

çŸ¥åçš„é«˜æ•ˆè§£æ³•å°±æ˜¯ç‰›é¡¿è¿­ä»£æ³•ï¼Œæ˜¯åŸºäºæ•°å€¼åˆ†æä¸­åœ¨å®æ•°åŸŸä¸Šè¿‘ä¼¼æ±‚è§£æ–¹ç¨‹çš„ç‰›é¡¿-æ‹‰å¼—æ£®æ–¹æ³•ï¼ˆNewton-Raphson methodï¼‰ã€‚å¾—åˆ°çš„ç‰›é¡¿è¿­ä»£å¼å‘ˆå¹³æ–¹æ”¶æ•›ï¼Œæ¯è½®è¿­ä»£ä¹‹åï¼Œç²¾ç¡®æ•°ä½çš„ä¸ªæ•°ç¿»å€ã€‚ä»¤äººæƒŠå–œçš„æ˜¯ï¼Œæ•°å­¦å®¶è¯æ˜äº†ç‰›é¡¿è¿­ä»£æ³•å¯¹æ±‚æ•´æ•°å¹³æ–¹æ ¹ä¸€æ ·æœ‰æ•ˆã€‚å®ç°ç‰›é¡¿è¿­ä»£æ³•æ±‚æ•´æ•°å¹³æ–¹æ ¹æ—¶çš„éš¾ç‚¹ï¼Œåœ¨äºè¦ç¡®ä¿é¦–æ¬¡ä¼°å€¼æ»¡è¶³ä»¥ä¸Šçš„åˆå§‹æ¡ä»¶ã€‚

æ±‚å¹³æ–¹æ ¹çš„è§£æ³•å…¶å®å¾ˆå¤šï¼Œæœ‰ä¸€ç§é€ä¸ªæ•°ä½çš„è®¡ç®—æ–¹æ³•ç‰¹åˆ«é€‚åˆäºæ‰‹ç®—ï¼ˆæˆ–å¿ƒç®—ï¼‰ï¼Œè€Œä¸”è¿˜é€‚ç”¨äºä»»æ„è¿›ä½åˆ¶ã€‚è¿™ç§æ–¹æ³•åŒ…æ‹¬å†…åœ¨çš„æœç´¢å’Œæµ‹è¯•å¾ªç¯ï¼Œä»é«˜åˆ°ä½é€çº§åˆ¤å®šå•ä¸ªæ•°ä½ã€‚å…¶åŸºæœ¬çš„è®¡ç®—å…¬å¼æ˜¯äºŒé¡¹å¹³æ–¹å±•å¼€å¼ã€‚åº”ç”¨åˆ°äºŒè¿›åˆ¶æ•°ä½ç³»ç»Ÿï¼Œæœç´¢å’Œæµ‹è¯•çš„è¿‡ç¨‹å˜å¾—æ›´é«˜æ•ˆï¼Œå› ä¸ºå•ä¸ªæ¯”ç‰¹ä½éƒ½æ˜¯2çš„å¹‚ï¼Œæ‰€æœ‰ä¹˜ç§¯éƒ½å¯ä»¥ç”¨å¿«é€Ÿæ¯”ç‰¹ç§»ä½æ“ä½œå®ç°ã€‚James Ulery å†™è¿‡ä¸€ç¯‡çŸ­æ–‡ï¼Œè¯¦ç»†åœ°æ¨æ¼”äº†è®¡ç®—æ•´æ•°å¹³æ–¹æ ¹çš„äºŒè¿›åˆ¶ç®—æ³•ã€‚

æ¯”æ±‚æ•´æ•°å¹³æ–¹æ ¹æ›´æ™®éçš„æ˜¯æ±‚ä»»æ„å®æ•°çš„å¹³æ–¹æ ¹ã€‚è¿™æ—¶è¾“å…¥å€¼å¯èƒ½æœ‰å°æ•°ä½ï¼Œè¾“å‡ºå€¼ä¹Ÿä¼šæ˜¯å¸¦å°æ•°ç‚¹çš„å®æ•°ã€‚å‡†å¤‡è¿™æ ·çš„é¢è¯•é¢˜ï¼Œéœ€è¦å…ˆå¤ä¹ æµ®ç‚¹æ•°çš„æ¦‚å¿µå’Œåº”ç”¨ã€‚

å·´æ¯”ä¼¦è§£æ³•æ˜¯è®¡ç®—æµ®ç‚¹æ•°å¹³æ–¹æ ¹çš„æœ´ç´ æ–¹æ³•ã€‚è¿™æ˜¯å‘æºäºå¤å…¸ä¸–ç•Œçš„ã€æœ‰æ‚ ä¹…å†å²çš„ç®—æ³•ã€‚æ®ä¿¡å°†è¿‘å››åƒå¹´å‰çš„å·´æ¯”ä¼¦äººå°±çŸ¥æ™“äº†è¿™ç§æ±‚å¹³æ–¹æ ¹çš„æ–¹æ³•ï¼Œä½†æ˜¯ç›´åˆ°å…¬å…ƒä¸€ä¸–çºªæ‰ç”±å¤å¸Œè…Šæ•°å­¦å®¶å¸Œç½—ç»™å‡ºæ˜ç¡®çš„æè¿°ã€‚

å·´æ¯”ä¼¦è§£æ³•çš„æœ´ç´ æ€æƒ³æ˜¯ï¼šå¦‚æœä¼°è®¡ç®—éè´Ÿå®æ•° x çš„å¹³æ–¹æ ¹ï¼Œé‚£ä¹ˆä¸€å®šæ˜¯å°äº x/a å’Œ a äºŒè€…çš„å‡å€¼å°†æ›´æ¥è¿‘ï¼Œa ä¸ºéè´Ÿå®æ•°ã€‚å› ä¸ºç®—æœ¯å¹³å‡æ•°æ€»æ˜¯å¤§äºæˆ–ç­‰äºå‡ ä½•å¹³å‡å€¼ï¼Œæ‰€ä»¥è¿™ä¸€ç®—æ³•ä¸€å®šæ”¶æ•›ã€‚ä½¿ç”¨ç®—æœ¯å¹³å‡å€¼è¿‘ä¼¼å‡ ä½•å¹³å‡å€¼è¿™ç§æƒ³æ³•ï¼Œå’Œç‰›é¡¿è¿­ä»£æ³•æœ‰ç›¸é€šä¹‹å¤„ï¼Œå·´æ¯”ä¼¦è§£æ³•ä¸ç‰›é¡¿è¿­ä»£æ³•æœ¬è´¨ä¸Šæ˜¯ç­‰åŒã€‚

æä¾›ä»¥ä¸‹ JavaScript å®ç°å‚è€ƒï¼Œç²¾åº¦å¯ä»¥è°ƒæ•´ï¼š

```js
function sq(x, precision=0.00000000000001)
{
    var val = x;
    var last = 1;
    var tick = 0;
    while ((val - last) > precision) {
        val = (val + last) / 2;
        last = x / val;
        tick ++;
    }
    console.log("Tick:", tick);
    return val;
}
```

sq(2) = 1.414213562373095
Math.sqrt(2) = 1.4142135623730951

åœ¨3Dæ¸¸æˆç¨‹åºå¼€å‘ä¸­ï¼Œä¾æ®è®¡ç®—æœºå›¾å½¢å­¦çš„åŸç†ï¼Œéœ€è¦ä½¿ç”¨è§„ä¸€åŒ–å‘é‡æ¥å®ç°å…‰ç…§å’ŒæŠ•å½±æ•ˆæœã€‚ç”±æ­¤å¯èƒ½æ¯ç§’è¦åšä¸Šç™¾ä¸‡æ¬¡å¹³æ–¹æ ¹å€’æ•°è¿ç®—ï¼Œæ‰€ä»¥æ‰¾åˆ°ä¸€ç§å¿«é€Ÿå¹³æ–¹æ ¹å€’æ•°çš„è®¡ç®—æ–¹æ³•è‡³å…³é‡è¦ã€‚æ­¤å¤–ï¼Œå¹³æ–¹æ ¹å€’æ•°ä¹Ÿå¹¿æ³›åº”ç”¨åœ¨é‡åŒ–ç¥ç»ç½‘ç»œã€æ·±åº¦å­¦ä¹ ã€æ°”è±¡æ•°æ®å¤„ç†åŠåŸºå‡†æµ‹è¯•ï¼ˆbenchmarkingï¼‰è½¯ä»¶ä¸­ã€‚

è¦å°†ä¸€ä¸ªçŸ¢é‡æ ‡å‡†åŒ–ï¼Œå°±å¿…é¡»è®¡ç®—å…¶æ¬§å‡ é‡Œå¾·èŒƒæ•°ï¼Œä»¥æ±‚å¾—çŸ¢é‡é•¿åº¦ï¼Œä¸ºæ­¤ä¾¿éœ€å¯¹çŸ¢é‡çš„å„åˆ†é‡çš„å¹³æ–¹å’Œæ±‚å¹³æ–¹æ ¹ï¼›è€Œå½“æ±‚å–åˆ°å…¶é•¿åº¦ï¼Œå¹¶ä»¥ä¹‹é™¤è¯¥çŸ¢é‡çš„æ¯ä¸ªåˆ†é‡åï¼Œæ‰€å¾—çš„æ–°çŸ¢é‡å°±æ˜¯ä¸åŸçŸ¢é‡åŒå‘çš„å•ä½çŸ¢é‡ã€‚

å¯è§æ ‡å‡†åŒ–çŸ¢é‡æ—¶ï¼Œå¯¹çŸ¢é‡åˆ†é‡è®¡ç®—å¹³æ–¹æ ¹å€’æ•°å®ä¸ºå¿…éœ€ï¼Œæ‰€ä»¥ï¼Œå¯¹å¹³æ–¹æ ¹å€’æ•°è®¡ç®—ç®—æ³•çš„ä¼˜åŒ–å¯¹è®¡ç®—æ­£è§„åŒ–çŸ¢é‡ä¹Ÿå¤§æœ‰è£¨ç›Šã€‚

å¾ˆæ˜æ˜¾ï¼Œç›´æ¥ä½¿ç”¨1å»é™¤ä»¥æµ®ç‚¹æ•°å¹³æ–¹æ ¹å‡½æ•°çš„è¾“å‡ºæ˜¯ä½æ•ˆçš„ã€‚åœ¨ä¸Šä¸ªä¸–çºª80å¹´ä»£åæœŸï¼Œå·¥ä½œäºä¸€äº›3Då›¾å½¢æ˜¾ç¤ºè½¯ç¡¬ä»¶å…¬å¸çš„ç¨‹åºå‘˜å‘æ˜äº† Fast Inverse Square Rootï¼Œç®€ç§° Fast InvSqrt()ã€‚å¯¹äºåŒä¸€ç²¾åº¦çš„è¿‘ä¼¼å€¼ï¼Œæ­¤ç®—æ³•æ¯”ç›´æ¥ä½¿ç”¨æµ®ç‚¹æ•°é™¤æ³•è¦å¿«å››å€ï¼

ä¸‹é¢å°±æ˜¯å¯¹åº”äº32ä½å•ç²¾åº¦æµ®ç‚¹æ•°çš„â€œå¹³æ–¹æ ¹å€’æ•°é€Ÿç®—æ³•â€Cè¯­è¨€å®ç°ï¼š

```C
/* fast inverse square root function for 32-bit IEEE 754
 * standard floating-point numerical value */
float fast_inv_sqrt(float x)
{
    float halfx = 0.5f * x;
    int i = *(int *)&x; /* transfer bits of float to int */
    i = 0x5f375a86 - (i >> 1); /* initial guess with magic */
    x = *(float *)&i; /* bit transfer back to float */ 
    x = x * (1.5f - halfx * x * x); /* Newton step */
    x = x * (1.5f - halfx * x * x); /* Repeat (optional) */
    return x;
}
```

è™½ç„¶å¹³æ–¹æ ¹å€’æ•°é€Ÿç®—æ³•ä¸å¤ªå¯èƒ½åœ¨é¢è¯•ä¸­è¢«é—®åˆ°ï¼Œä½†æ˜¯ç†è§£è¿™ä¸ªç²¾å·§çš„ç®—æ³•ä¼šæå¤§åœ°å·©å›ºå’ŒåŠ æ·±ç¨‹åºå‘˜çš„çŸ¥è¯†é¢ã€‚


# ğŸš© LinkList
- https://www.geeksforgeeks.org/quicksort-for-linked-list/
- https://www.geeksforgeeks.org/doubly-linked-list
- https://www.geeksforgeeks.org/merge-sort-for-linked-list/
- https://leetcode-cn.com/articles/linked-list-cycle/

æ•°ç»„å¯èƒ½æ˜¯æœ€ç®€å•çš„æŠ½è±¡ç±»å‹äº†ï¼Œåœ¨è¿ç»­çš„å†…å­˜åŒºåŸŸå¼€è¾Ÿä¸€å—ä¸“ç”¨åŒºåŸŸå°±æ˜¯æ•°ç»„ï¼š

```c
int[] a = new int[5];
int[][] x = new int[3][5];
```

ç„¶åé€šè¿‡ä¸‹æ ‡è®¿é—®æ¯ä¸ªæ•°ç»„å…ƒç´ ï¼Œé€šè¿‡æŠ½è±¡æ¦‚å¿µå°†ä¿å­˜æ•°æ®çš„æ¯ä¸ªå†…å­˜åœ°å€è¡¨è¾¾ä¸ºä¸€ä¸ªå…ƒç´ ã€‚å¯ä»¥å®ç°éšæœºè®¿é—®ï¼Œæƒ³è¯»å†™å“ªé‡Œå°±è¯»å†™å“ªé‡Œã€‚å¤šç»´æ•°æ®å’Œä¸€ç»´æ•°ç»„æ²¡æœ‰æœ¬è´¨åŒºåˆ«ï¼Œå°±æ˜¯å¢åŠ ä¸€ä¸ªç»´åº¦è®¡ç®—çš„å˜é‡ï¼ŒåŒæ—¶äºŒç»´æ•°ç»„è¿˜å¯ä»¥æŠ½è±¡ä¸ºçŸ©é˜µ Matricesã€‚

æ¯”æ•°ç»„å¤æ‚ä¸€ç‚¹çš„å°±æ˜¯é“¾è¡¨äº†ï¼š

- å•å‘é“¾è¡¨ Singly-Linked Listsï¼Œæ¯ä¸ªå…ƒç´ è¿æ¥ä¸‹ä¸€ä¸ªå…ƒç´ ã€‚åªéœ€è¦çŸ¥é“é“¾è¡¨çš„èµ·ç‚¹ï¼Œå°±å¯ä»¥ä¾æ¬¡è®¿é—®åˆ°å°¾ç«¯å…ƒç´ ã€‚
- åŒå‘é“¾è¡¨ Doubly-Linked Listsï¼Œåœ¨å•å‘é“¾è¡¨èŠ‚ç‚¹çš„åŸºç¡€ä¸Šï¼Œå¢åŠ ä¸€ä¸ªæŒ‡é’ˆå¼•ç”¨å‰ä¸€ä¸ªèŠ‚ç‚¹ã€‚
- å•å‘å¾ªç¯é“¾è¡¨ Circular Linked List: ç”±å„ä¸ªèŠ‚ç‚¹é€šè¿‡ Next æŒ‡é’ˆé“¾æ¥åœ¨ä¸€èµ·ï¼Œå½¢æˆä¸€ä¸ªé—­ç¯ã€‚
- åŒå‘å¾ªç¯é“¾è¡¨ Double Circular Linked List: ç”±å„ä¸ªèŠ‚ç‚¹é€šè¿‡ Next å’Œ Prev æŒ‡é’ˆé“¾æ¥åœ¨ä¸€èµ·ï¼Œå½¢æˆä¸€ä¸ªé—­ç¯ã€‚

æ¯ä¸ªå…ƒç´ åªéœ€è¦ head prev next data tail ç­‰åŸºæœ¬å±æ€§ï¼Œdata å­˜æ”¾æ•°æ®ï¼Œå¦å¤– prev å’Œ next ä¸¤ä¸ªä½œä¸ºæŒ‡é’ˆå¼•ç”¨é“¾è¡¨çš„å‰åç«¯å…ƒç´ ã€‚

é“¾è¡¨ç»“æ„å¯ä»¥å…‹æœæ•°ç»„å›ºå®šå¤§å°çš„ç¼ºç‚¹ï¼Œå¯ä»¥å……åˆ†åˆ©ç”¨è®¡ç®—æœºå†…å­˜ç©ºé—´ï¼Œå®ç°çµæ´»çš„å†…å­˜åŠ¨æ€ç®¡ç†ã€‚ä½†æ˜¯é“¾è¡¨å¤±å»äº†æ•°ç»„éšæœºè¯»å–çš„ä¼˜ç‚¹ï¼ŒåŒæ—¶é“¾è¡¨ç”±äºå¢åŠ äº†ç»“ç‚¹çš„æŒ‡é’ˆåŸŸï¼Œç©ºé—´å¼€é”€æ¯”è¾ƒå¤§ã€‚

é“¾è¡¨çš„æ“ä½œä¸€èˆ¬æœ‰å¢åˆ ï¼Œå¤æ‚ç‚¹çš„æœ‰åˆå¹¶ä¸¤ä¸ªé“¾è¡¨ã€‚å¯¹äºå¢åˆ ï¼Œåªéœ€è¦æ‰¾åˆ°åˆé€‚çš„èŠ‚ç‚¹ï¼Œå°†åŸæ¥çš„å‰åæŒ‡é’ˆå˜æ›´åˆ°æ–°èŠ‚ç‚¹ä¸Šï¼Œæˆ–å°†èŠ‚ç‚¹å‰åä¸¤ä¸ªèŠ‚ç‚¹é“¾æ¥èµ·æ¥å®ç°åˆ é™¤ã€‚

åè½¬å•é“¾è¡¨ä¹Ÿç®—æ˜¯ä¸€ç§æ“ä½œï¼Œæ¯”å¦‚ç»™å®šç´¢å¼•åŒºé—´ï¼ŒæŠŠå•é“¾è¡¨ä¸­è¿™éƒ¨åˆ†å…ƒç´ åè½¬ï¼Œå…¶ä»–éƒ¨åˆ†ä¸å˜ï¼Œä¹Ÿå°±æ˜¯å‰ªæ¥ä¸¤ç«¯èŠ‚ç‚¹+å„èŠ‚ç‚¹åå‘ã€‚

æœ‰äº›ç®—æ³•é¢˜ä¸å¯èƒ½ä¼šè¦æ±‚è¿›è¡Œå›æ–‡ä¸²å’Œå›æ–‡åºåˆ—ç›¸å…³çš„é—®é¢˜ã€‚

è€Œæœ‰åºé“¾è¡¨çš„åˆå¹¶åˆ™éœ€è¦æ›´å¤šçš„æ“ä½œï¼Œå‡è®¾æ˜¯å‡åºï¼š

- æ¯”è¾ƒé“¾è¡¨å¼€å¤´çš„æ•°æ®å¤§å°ï¼Œæ‰¾åˆ°æ•°å€¼å°çš„é“¾è¡¨ä½œä¸º headï¼Œå¦å¤–ä¸€ä¸ªé“¾è¡¨ä½œä¸º tailï¼›
- å®šä½ head ä¸­ä¸‹ä¸€ä¸ªå¤§äºäº tail å¼€å¤´çš„èŠ‚ç‚¹ï¼Œè®°å½•ä¸º gapï¼Œå¹¶æˆªæ–­ä¸ head çš„é“¾æ¥ï¼›
- ç„¶åå°† tail æ‹¼æ¥åˆ° head çš„æœ«ç«¯ï¼Œæ³¨æ„è¦åœ¨ä¸Šä¸€æ­¥å®Œæˆ gap èŠ‚ç‚¹çš„æˆªæ–­ï¼Œå¦åˆ™å°±å½¢æˆç¯é“¾ã€‚
- å°† gap ä½œä¸º tailï¼Œå¹¶é‡å¤æ‰§è¡Œå‰é¢çš„æ­¥éª¤ã€‚

è¿™ä¸ªè¿‡ç¨‹å°±å¥½åƒç¼–ç»³å­ä¸€æ ·ï¼Œå°†å°çš„é“¾è¡¨æ‘†åœ¨å‰é¢ï¼Œåœ¨å…¶å°¾éƒ¨æ‹¼æ¥ä¸Šæ¬¡å°çš„å¦ä¸€ä¸ªé“¾è¡¨ã€‚

```c
#include <iostream>
using namespace std;

struct listNode {
    int value;
    listNode * next;

    // é“¾è¡¨èŠ‚ç‚¹é»˜è®¤æ„é€ å‡½æ•°ï¼Œæ˜¾å¼ä½¿ç”¨ nullptr åˆå§‹åŒ–ç©ºæŒ‡é’ˆ
    listNode(): next(nullptr) { }
    listNode(int theValue): value(theValue), next(nullptr) {
        // listNode(); 
    }

    listNode * attachNode(int value) {
        listNode *n = new listNode(value);
        n->next = this;
        return n;
    }
};

int main() {

    listNode * node = new listNode(0);

    node = node->attachNode(1)->attachNode(2)->attachNode(3)->attachNode(4);

    int indexNode = 0;
    while (node != nullptr) {
        cout << "é“¾è¡¨èŠ‚ç‚¹ " << indexNode << ": " << node->value << " @" << node << endl;
        node = node->next;
        indexNode++;
    }

    return 0;
}
```

å®ç°å„ç§ä¸åŒçš„ç®—æ³•æˆ–æ•°æ®ç»“æ„çš„åŸºæœ¬ç›®æ ‡æ˜¯å®ç°å¿«é€ŸæŸ¥æ‰¾ã€å¿«é€Ÿæ›´æ–°ï¼Œå¦å¤–è¿˜å¯èƒ½è¦æ±‚æœ‰åºæ€§ã€‚

é“¾è¡¨ç›®çš„æ˜¯å®ç°æœ‰åºã€æ–¹ä¾¿å¢åˆ ï¼Œä½†ä¸æ˜¯å®ç°å¿«é€Ÿæ’å…¥ã€æŸ¥æ‰¾çš„æ•°æ®ç»“æ„ã€‚

ä»¥ä¸‹æ˜¯ TypeScript å®ç°çš„æœ‰åºé“¾è¡¨ï¼Œå®ç°äº†å¢åˆ ã€åˆå¹¶åŠŸèƒ½ï¼š

```js
function verify(a: number[], len:number){
    if(a.length !== len) {
        return console.log("VERIFY FAILURE IN LENGTH!")
    }
    for(let i=0; i<a.length; i++){
        if (a[i]>a[i+1] || isNaN(a[i])) {
            // let tag = console.log(a.slice(0, i).join(",").replace(/./g, " "));
            return console.log( "^ VERIFY FAILURE AT "+i);
        }
    }
    return console.log("VERIFY PASSED!");
}

class Node {
    prev:null|Node
    next:null|Node
    value:number
    constructor(prev:null|Node, next:null|Node, value:number){
        this.prev = prev;
        this.next = next;
        this.value = value;
    }
}

class OrderList {
    head: Node
    count:number = 0;
    constructor(){
        this.head = new Node(null, null, 0);
    }
    add(value:number){
        let node = this.head;
        let sentinal = false;
        while(node.next){
            node = node.next;
            if(node.value>value){
                sentinal = true;
                break;
            }
        }
        if(sentinal && node.prev){
            let n = new Node(node.prev, node, value);
            node.prev.next = n;
            node.prev = n;
        }else{
            let n = new Node(node, null, value);
            node.next = n;
        }
        this.count ++;
    }
    remove(value:number){
        let node = this.head;
        while(node.next){
            node = node.next;
            if(node.value==value){
                node.prev!.next = node.next;
                if (node.next) node.next.prev = node.prev;
                this.count --;
                return value;
            }
        }
        return false;
    }
    merge(ol:OrderList){
        let head = this.head;
        let temp = this.head.next;
        let gap = null;
        let tail = ol.head.next;
        ol.head.next = null;
        this.head.next = null;
        while (temp!==null && tail!==null) {
            if(tail.value<temp.value){
                head.next = tail;
                tail.prev = head;
                tail = temp;
                gap = tail;
            }else{
                head.next = temp;
                temp.prev = head;
                gap = tail;
            }
            while(head.next && head.value<=gap.value){
                head = head.next;
            }
            if(head.value>gap.value){
                temp = head;
                head = head.prev!;
            }else{
                temp = head.next;
            }
            head.next = null;
        }
        let ep = head;
        while(ep.next) ep = ep.next;
        if(tail){
            ep.next = tail;
            tail.prev = ep;
        } else if (temp) {
            ep.next = temp;
            temp.prev = ep;
        }
        this.count += ol.count;
        ol.count = 0;
        return this;
    }
    join(){
        let node = this.head;
        let m = new Array(this.count);
        let i = 0;
        while(node.next){
            node = node.next;
            m[i++] = node.value;
        }
        return m;
    }
}

let ol = new OrderList();
let ok = new OrderList();
let len = 500;
for(let i in new Array(len).fill(0)){
    ol.add(Math.ceil(Math.random()*len*10));
    ok.add(Math.ceil(Math.random()*len*10));
}
ol.add(19);
console.log("ol.join()", ol.join());
console.log("ok.join()", ok.join());
console.log("ol.remove(19)", ol.remove(19));
console.log("ol.remove(10)", ol.remove(5));
console.log("merge(ol):", ok.merge(ol).constructor.name);
console.log("ol.join()", ol.join(), ol.count);
console.log("ok.join()", ok.join(), ok.count);
verify(ok.join(), ol.count+ok.count);
```

å¦å¤–ä¸€ä¸ªåˆå¹¶æ–¹æ³•çš„å®ç°ï¼š

```js
_gapped(a:Node, b:Node){
    if(a.prev) a.prev.next = null;
    if(b.prev) b.prev.next = null;
    let bs = a, tail = null;
    while(bs && b.value>=bs.value){
        if(bs.next == null){
            tail = bs;
            break;
        }else{
            bs = bs.next;
        }
    }
    if(tail) return tail;
    return bs.prev;
}
_merge(a:null|Node, b:null|Node){
    if(!a){
        return b;
    }
    if(!b){
        return a;
    }
    let gap, head, tail;
    if(a.value > b.value){
        gap = this._gapped(b, a);
        head = b;
        tail = a;
    }else{
        gap = this._gapped(a, b);
        head = a;
        tail = b;
    }
    if(gap && gap.next){
        let m = this._merge(gap.next, tail.next);
        let ep = tail;
        while(ep.next) ep = ep.next;
        ep.next = m;
        if (m) m.prev = ep;
    }
    if(gap){
        tail.prev = gap;
        gap.next = tail;
    }else{
        let ep = tail;
        while(ep.next) ep = ep.next;
        ep.next = tail;
        tail.prev = ep;
    }
    return head;
}
merge_v1(ol:OrderList){
    let m = this._merge(this.head.next, ol.head.next);
    this.count += ol.count;
    ol.count = 0;
    this.head.next = m;
    return this;
}
```

# ğŸš© SkipList
- https://github.com/redis/redis/blob/unstable/src/t_zset.c

è·³è¡¨äº 1989 å¹´ç”±ç¾å›½è®¡ç®—æœºç§‘å­¦å®¶ William Pugh å‘æ˜ï¼Œä»–åœ¨è®ºæ–‡ã€ŠSkip lists: a probabilistic alternative to balanced treesã€‹ä¸­è¯¦ç»†ä»‹ç»äº†è·³è¡¨çš„æ•°æ®ç»“æ„å’Œæ’å…¥åˆ é™¤ç­‰æ“ä½œã€‚è¿™æ˜¯ä¸€ç§å·¥ä¸šå¸¸ç”¨é“¾å¼æ•°æ®ç»“æ„ï¼Œå¹¶ä¸”åœ¨é¢è¯•è¿‡ç¨‹è¿˜å¯èƒ½è®©ä½ æ‰‹å†™è·³è¡¨å®ç°ï¼Œå½“ç„¶æ‰‹å†™ SKipList æ˜¯å¯èƒ½çš„ï¼Œä½†çº¢é»‘æ ‘æ˜¯ä¸å¯èƒ½çš„ã€‚

é‡‡ç”¨ SkipList çš„çŸ¥åå¼€æºè½¯ä»¶ï¼š

- Redis çš„æœ‰åºé›†åˆ zset
- LevelDBã€RocksDBã€HBase çš„ Memtable
- ApacheLucene çš„ TermDictionaryã€Posting List

ç®€å•çš„é“¾è¡¨å’Œæ•°ç»„å„æœ‰ä¼˜åŠ£ï¼Œé“¾è¡¨å¯ä»¥é«˜æ•ˆçš„æ’å…¥ã€åˆ é™¤ï¼Œä½†æŸ¥è¯¢å¾ˆæ…¢ï¼Œæ¯æ¬¡æŸ¥è¯¢éƒ½æ˜¯ `O(n)` æ—¶é—´å¤æ‚åº¦ï¼Œè€Œåˆšå¥½ç›¸åï¼Œæ’å…¥åˆ é™¤å¾ˆæ…¢ï¼Œä½†æ˜¯æŸ¥è¯¢å¾ˆå¿«ã€‚

SkipList å®ç°æœ‰åºå…ƒç´ åºåˆ—å¿«é€Ÿæœç´¢æŸ¥æ‰¾ï¼Œæ˜¯ä¸ªéšæœºåŒ–çš„æ•°æ®ç»“æ„ï¼Œè®©é“¾è¡¨æ‹¥æœ‰è¿‘ä¹çš„æ¥è¿‘äºŒåˆ†æŸ¥æ‰¾çš„æ•ˆç‡ï¼Œæ’å…¥ã€åˆ é™¤æ“ä½œç•¥æ¯”é“¾è¡¨å¤æ‚ä½†æ•ˆç‡ä»ç„¶æ›´é«˜ï¼Œå¹³å‡æŸ¥æ‰¾å’Œæ’å…¥æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯ `O(logn)`ã€‚

è·³è¡¨åœ¨æœ‰åºé“¾è¡¨çš„åŸºç¡€ä¸Šå¢åŠ äº†å¤šçº§ç´¢å¼•ï¼Œé€šè¿‡ç´¢å¼•æ¥å®ç°å¿«é€ŸæŸ¥æ‰¾ã€‚è·³è¡¨ä¸ä»…èƒ½æé«˜æœç´¢æ€§èƒ½ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥æé«˜æ’å…¥å’Œåˆ é™¤æ“ä½œçš„æ€§èƒ½ã€‚å®ƒåœ¨æ€§èƒ½ä¸Šå’Œçº¢é»‘æ ‘ï¼ŒAVL æ ‘ä¸ç›¸ä¸Šä¸‹ï¼Œä½†æ˜¯è·³è¡¨çš„åŸç†éå¸¸ç®€å•ï¼Œå®ç°ä¹Ÿæ¯”çº¢é»‘æ ‘ç®€å•å¾ˆå¤šã€‚

å¯¹äºç†æƒ³çš„è·³è¡¨ï¼Œæ¯å‘ä¸Šä¸€å±‚ç´¢å¼•èŠ‚ç‚¹æ•°é‡éƒ½æ˜¯ä¸‹ä¸€å±‚çš„ 1/2ï¼Œé‚£ä¹ˆ n ä¸ªèŠ‚ç‚¹å¢åŠ çš„èŠ‚ç‚¹æ•°é‡ âˆ‘n(n/2) = (1/2+1/4+â€¦+n/2) < nã€‚è¿™æ˜¯ç†è®ºç†æƒ³ç»“æ„ï¼Œå¤§æ¦‚ç‡ä¸å­˜åœ¨çš„ï¼Œå› ä¸ºé“¾è¡¨èŠ‚ç‚¹çš„åˆ é™¤ã€æ’å…¥å¯èƒ½ä¼šæ”¹å˜æ•´ä¸ªç»“æ„ï¼Œåœ¨æ’å…¥çš„æ—¶å€™æ˜¯å¦æ·»åŠ ä¸Šå±‚ç´¢å¼•æ˜¯ä¸ªæ¦‚ç‡é—®é¢˜ã€‚

ä»¥ä¸‹ç”¨ä¸€ä¸ª [1,9] çš„åŒºé—´æ•°æ®æ¥è§£æ SkipList ç»“æ„ï¼Œå› ä¸ºæ•°æ®é‡å°‘ï¼Œåªéœ€è¦ 2 çº§ç´¢å¼•å³å¯ä»¥å®ç°äºŒåˆ†æ³•æŸ¥æ‰¾çš„æ•ˆç‡ï¼š

    Level 2 -> ğŸ”´1 ------------------------> ğŸ”´5
                |                             |
    Level 1 -> ğŸ”´1 --------> ğŸ”´3 ---------> ğŸ”´5 --------> ğŸ”´7 
                |              |              |              |
               ğŸ”´1 -> ğŸ”´2 -> ğŸ”´3 -> ğŸ”´4 -> ğŸ”´5 -> ğŸ”´6 -> ğŸ”´7 -> ğŸ”´8 -> ğŸ”´9

å¯ä»¥çœ‹åˆ°ï¼ŒSkipList å¯ä»¥çœ‹ä½œå¤šä¸ªç›¸äº’è”ç³»çš„é“¾è¡¨ï¼Œå¹¶ä¸”èŠ‚ç‚¹é™¤äº†æŒ‡å®šä¸‹ä¸€ä¸ªå…ƒç´ çš„æŒ‡é’ˆï¼Œè¿˜æœ‰ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€å±‚çº§å¯¹åº”ä½ç½®çš„èŠ‚ç‚¹ï¼Œå°†é“¾è¡¨æœ€å¼€å§‹çš„èŠ‚ç‚¹ç§°ä¸º headã€‚

ä¸å±€é™äºä½¿ç”¨å•å‘é“¾è¡¨ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨åŒå‘é“¾è¡¨æ¥å®ç° SkipListï¼Œè·³è¡¨çš„ç»“æ„å°±æ˜¯äºŒå‰æ ‘åŠ æ•°ç»„ã€‚

åœ¨æ’å…¥æ–°æ•°æ®åï¼Œå¦‚ä½•è°ƒæ•´ç´¢å¼•å‘¢ï¼Ÿå°±éœ€è¦è®©æ–°æ’å…¥çš„ç»“ç‚¹éšæœºâ€œæ™‹å‡â€ä¸ºç´¢å¼•èŠ‚ç‚¹ï¼Œæ™‹å‡æˆåŠŸçš„æœºç‡æ˜¯ 50%ã€‚

å‡è®¾æ’å…¥ 10 è¿™ä¸ªæ•°æ®ï¼Œå¹¶ä¸”æˆåŠŸæ™‹å‡ä¸ºç´¢å¼•èŠ‚ç‚¹ï¼Œè¿™æ—¶å°±éœ€è¦åœ¨ Level 1 ç´¢å¼•ä¸­æ’å…¥æ–°æ™‹å‡çš„èŠ‚ç‚¹ï¼Œå¾—åˆ° ğŸ”´7 ---> ğŸ”´10ï¼Œå¹¶ä¸”å‘ä¸‹æŒ‡å‘åŸå§‹é“¾è¡¨çš„èŠ‚ç‚¹ ğŸ”´10ã€‚

ä¸Šçº§ç´¢å¼•èŠ‚ç‚¹ä»æŒ‰æœºç‡è¿›è¡Œè°ƒæ•´ï¼Œæ™‹çº§æ“ä½œä¹Ÿå°±æ˜¯é“¾è¡¨çš„èŠ‚ç‚¹æ’å…¥æ“ä½œï¼Œå‡è®¾éšæœºçš„ç»“æœæ˜¯æ™‹å‡å¤±è´¥ï¼Œé‚£ä¹ˆæ’å…¥æ“ä½œå°±å‘Šä¸€æ®µè½äº†ã€‚

åˆ é™¤èŠ‚ç‚¹ï¼Œåˆ™æ˜¯ç›¸åçš„æ“ä½œï¼Œå®šä½æ•°æ®èŠ‚ç‚¹ï¼Œå¹¶ä»é“¾è¡¨ä¸­åˆ é™¤ï¼Œç›¸åº”è°ƒæ•´ç´¢å¼•èŠ‚ç‚¹ã€‚



# ğŸš© Stack & Queue
- https://www.tutorialspoint.com/data_structures_algorithms/stack_algorithm.htm
- https://www.tutorialspoint.com/data_structures_algorithms/dsa_queue.htm

å †æ ˆå’Œé˜Ÿåˆ—æ˜¯ä¸¤ç§æ¯”è¾ƒé€šç”¨çš„æ•°æ®ç»“æ„ï¼š

- `Stack` æ˜¯å…ˆè¿›åå‡º First-in Last-out æ•°æ®ç»“æ„ï¼Œé€šå¸¸å®ç° push å’Œ pop æ–¹æ³•å®ç°æ•°çš„æ·»åŠ ä¸å–å‡ºï¼›
- `Queue` æ˜¯å…ˆè¿›å…ˆå‡º First-in First-out æ•°æ®ç»“æ„ï¼Œé€šå¸¸å®ç° enqueue å’Œ dequeue æ–¹æ³•æ¥æ·»åŠ ä¸å–å‡ºæ•°æ®ï¼›

å½“ç„¶ï¼Œè¿˜å¯ä»¥å®ç°ä¸€äº›è¾…åŠ©æ–¹æ³•ï¼š

- peek() âˆ’ get the top data element of the stack, without removing it.
- isFull() âˆ’ check if stack is full.
- isEmpty() âˆ’ check if stack is empty.

è¿™ä¸¤ä¸ªæ•°æ®ç»“æ„éƒ½å¯ä»¥åŸºäºé“¾è¡¨æ¥å®ç°ï¼Œè€Œå †æ ˆè¿™ä¸ªæ•°æ®ç»“æ„è¿˜å¯ä»¥åŸºäºæ•°ç»„æ¥å®ç°ã€‚åˆå§‹åŒ–å †æ ˆæ—¶ï¼Œå…ˆåˆ†é…ä¸€ä¸ªå›ºå®šé•¿åº¦çš„æ•°ç»„ï¼Œåœ¨è¿è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœæ•°ç»„å¡«æ»¡ï¼Œå†é€šè¿‡åˆé€‚çš„ç­–ç•¥å¯¹æ•°ç»„è¿›è¡Œæ‰©å®¹ï¼Œæ¯”å¦‚å®¹é‡åŠ å€çš„æ‰©å®¹æ–¹æ¡ˆã€‚

ä¸€ä¸ªå…¸å‹çš„æ•°æ®æ’å…¥æ“ä½œ push å¯ä»¥æŒ‰ä»¥ä¸‹æ­¥éª¤è¿›è¡Œï¼š

âˆ’ æ£€æŸ¥æ•°ç»„æ˜¯å¦è¿˜æœ‰ç©ºé—´ï¼›
âˆ’ å¦‚æœï¼Œå·²ç»å¡«æ»¡ï¼Œåˆ™å¯ä»¥è¿›è¡Œæ‰©å®¹å†æ‰§è¡Œåç»­æ“ä½œï¼›
âˆ’ å¢åŠ æ ˆé¡¶æŒ‡é’ˆ SP æŒ‡å‘ä¸‹ä¸€ä¸ªåœ°å€ï¼›
âˆ’ å¡«å……æ•°æ®åˆ°æ•°ç»„å½“å‰ SP æŒ‡å‘çš„ä½ç½®ä¸­ã€‚

ä¸€ä¸ªå…¸å‹çš„æ•°æ®å–å‡ºæ“ä½œ pop å¯ä»¥æŒ‰ä»¥ä¸‹æ­¥éª¤è¿›è¡Œï¼š

âˆ’ æ£€æŸ¥æ•°ç»„æ˜¯å¦è¿˜æœ‰æ•°æ®ï¼›
âˆ’ å¦‚æœæ²¡æœ‰ï¼Œç›´æ¥è¿”å› falseï¼›
âˆ’ å¦‚æœè¿˜æœ‰æ•°æ®ï¼Œå‡å°æ ˆé¡¶æŒ‡é’ˆ SP æŒ‡å‘ä¸Šä¸€ä¸ªåœ°å€ï¼›
âˆ’ è¿”å›å½“å‰ SP æŒ‡å‘çš„ä½ç½®çš„æ•°æ®ã€‚

é˜Ÿåˆ— Queue å¾ˆåƒæ’é™¤ï¼Œåæ¥çš„äººç«™åœ¨é˜Ÿä¼åé¢ï¼Œè€Œå‰é¢çš„äººè·å¾—ä¼˜å…ˆå¤„ç†æƒï¼Œå¤„ç†å®Œä¸€ä¸ªåï¼Œç´§æ¥ç€ç¬¬äºŒä¸ªæˆä¸ºé˜Ÿåˆ—çš„å¤´éƒ¨ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¹Ÿå¾ˆåƒç®¡é“è¿è¾“çš„è¿‡ç¨‹ã€‚

å®ç°æœ€ç®€å•çš„é˜Ÿåˆ—ç»“æ„ï¼š

- ä¸€ä¸ª head å­—æ®µæŒ‡å®šé“¾è¡¨å½“å‰çš„å¤´éƒ¨èŠ‚ç‚¹ï¼›
- ä¸€ä¸ª tail å­—æ®µæŒ‡å‘é“¾è¡¨çš„ç»“å°¾èŠ‚ç‚¹ï¼›
- ä¸€ä¸ª enqueue æ–¹æ³•å‘ tail æ‹¼æ¥ä¸€ä¸ªæ–°çš„èŠ‚ç‚¹ï¼›
- ä¸€ä¸ª dequeue æ–¹æ³•å–å‡º head æŒ‡å‘çš„èŠ‚ç‚¹ï¼Œå¹¶å°† head æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼›


# ğŸš© Insertion sort
- https://visualgo.net/en/sorting
- https://www.tutorialspoint.com/data_structures_algorithms/insertion_sort_algorithm.htm

Insertion sort æ˜¯å’Œ Bubbble sort å·®ä¸å¤šéš¾åº¦çš„ç®—æ³•ï¼Œå’Œæ‰“æ‰‘å…‹ç‰Œæ—¶å¯¹æ‰‹ä¸Šçš„å¡ç‰‡è¿›è¡Œæ’åºçš„è¿‡ç¨‹ç±»ä¼¼ï¼š

- å…ˆä»¥ç¬¬ 1 å¼ ä½œä¸ºå‚è€ƒï¼Œæ¯”è¾ƒ 1ã€2 å¼ ç‰Œï¼Œç„¶åå°†å°çš„æ”¾å‰é¢ï¼Œå³äº¤æ¢ä½ç½®ã€‚
- å†æ¯”è¾ƒç¬¬ 2ã€3 å¼ ï¼Œå°†å°çš„äº¤æ¢åˆ°å‰é¢ï¼Œå¦‚æœæ¯”å‰é¢ä¸€å¼ è¦å¤§å°±è¡¨ç¤ºå·²ç»æ˜¯ä»å°åˆ°å¤§æ’åºå¥½äº†ã€‚
- é‡å¤è¿™ä¸ªæ“ä½œç›´åˆ°æ‰€æœ‰ç‰Œéƒ½æ’åºå®Œæ¯•ã€‚

è¿™æ ·çš„ç®—æ³•å¯¹å°‘é‡çš„æ•°æ®æ˜¯å¾ˆæœ‰æ•ˆç‡çš„ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(n^2)ï¼Œéšç€æ•°æ®æ•°é‡çš„å¢åŠ ï¼Œæ—¶é—´è¦æ±‚æŒ‰ 2 æ¬¡æ–¹å¢åŠ ï¼Œå¦‚æœèƒ½å¯¹å‰é¢å·²æ’åºçš„æ•°æ®è¿›è¡ŒäºŒåˆ†æ³•æŸ¥æ‰¾å°†å¤§é‡èŠ‚çœæ—¶é—´ï¼Œå¯¹æœ‰åºæ•°æ®è¿›è¡Œ Binary search æŠ˜åŠæŸ¥æ‰¾ï¼Œåœ¨å¤§é‡æ•°æ®å¤„ç†ä¸­æ•ˆç‡æ˜¯æ˜æ˜¾çš„ï¼Œå®ƒèƒ½å°† isort ç®—æ³•å†…å±‚çš„ for å¾ªç¯ï¼Œå³æŸ¥æ‰¾éƒ¨åˆ†çš„æ—¶é—´å¤æ‚åº¦é™ä¸º ÎŸ(log n)ï¼Œè€Œä¸æ˜¯ Linear search çš„ O(n^2)ï¼Œå¯¹äºå¤§é‡æ•°æ®çš„æ’åºï¼Œisort çš„ä¸»è¦æ¶ˆè€—å°±åœ¨å†…å±‚å¾ªç¯ã€‚

```c
int isort(unsigned char a[], int n){
   unsigned char k;
   for (size_t i = 1; i < n; i++)
   {
       k = a[i];
       for (size_t j = i; j > 0; j--)
       {
           if (k < a[j-1]) {
               a[j] = a[j-1];
               a[j-1] = k;
           }
       }
   }
   return n;
}

unsigned char s[0xff] = "You would supposed to type some words:";
printf("%s\n", s);
scanf("%[^\n]", s);
isort(s, strlen(s));
printf("isort:%s", s);
```

scanf å¯ä»¥ç”¨æ¥è·å–ä¸€è¡Œå†…å®¹è¾“å…¥ï¼Œä½†æ˜¯ä¸èƒ½å¤„ç†é ASCII å­—ç¬¦ï¼Œå¦‚ "French suits of trÃ¨fles" å°†è·å–ä¸åˆ°åé¢çš„ 4 ä¸ªå­—ç¬¦ã€‚


# ğŸš© Selection sort
- https://www.runoob.com/w3cnote/selection-sort.html
- https://www.tutorialspoint.com/data_structures_algorithms/selection_sort_algorithm.htm
- https://www.cs.princeton.edu/courses/archive/fall18/cos226/precepts/Week3-Exercises.pdf
- COS 226 Precepts (Fall 2018) https://www.cs.princeton.edu/courses/archive/fall18/cos226/precepts.php

é€‰æ‹©å’Œæ’å…¥æ’åºå¾ˆåƒï¼Œåªæ˜¯æ–¹å‘åè¿‡æ¥æ“ä½œã€‚

âˆ’ å°†ç¬¬ 1 ä¸ªæ•°æ®ä½œä¸º MIN å‚è€ƒå€¼ã€‚
âˆ’ æœç´¢åé¢æ¯”å®ƒå°çš„æ•°ï¼Œå¦‚æœæœ‰æ›´å°çš„ï¼Œå°±æ›´æ–° MINï¼Œç›´åˆ°æ‰¾åˆ°æ‰€æœ‰æ•°æ®ä¸­æœ€å°çš„æ•°ï¼Œå¹¶å°†æœ€å°çš„æ•°äº¤æ¢åˆ°å‰é¢ã€‚
âˆ’ å°† MIN å‚è€ƒå€¼è®¾ç½®ä¸ºç¬¬ 2 ä¸ªæ•°æ®ï¼ŒæŒ‰ä»¥ä¸ŠåŒæ ·æ“ä½œï¼Œç›´åˆ°æ‰€æœ‰æ•°æ®æ’åºå®Œæˆã€‚

```ts
console.log(selectionSort(genArray(20)).join(","));
function genArray(len: number){
  let arr = [], scale = len*10;
  while(len-->0) arr.push(Math.ceil(Math.random()*scale));
  console.log(arr.join(","));
  return arr;
}

function selectionSort(a: number[]){
    let length = a.length;
    for (var i = 0; i < length; ++i) {
        let k = 0, min = a[i];
        for (var j = i+1; j < length; ++j) {
            if(min>a[j]) {
                k = j;
                min = a[j];
            }
        }
        if(k){
            let t = a[i];
            a[i] = a[k];
            a[k] = t;
        }
    }
    return a;
}
```

åœ¨æ™®æ—æ–¯é¡¿å¤§å­¦ CS è¯¾ç¨‹ COS 226 æœ‰ä¸€é“ç»ƒä¹ ï¼Œç»™å®šä¸€ä¸ªå¾…æ’åºå­—ç¬¦ä¸²ï¼Œæ¯”è¾ƒé€‰æ‹©æ’åºå’Œæ’å…¥æ’åºçš„æ¯”è¾ƒæ“ä½œæ¬¡æ•°ï¼š

    EXERCISE 1: Analysis of Sorting Algorithms
    Suppose that you have an array of length 2n consisting of n B's followed by n A's. Below is the array
    when n = 8.

    B B B B B B B B A A A A A A A A
    
    (a) How many compares, as a function of n , does it take to sort the array in ascending order using
    Selection Sort ? Use tilde notation.
    
    (b) How many compares, as a function of n , does it take to sort the array in ascending order using
    Insertion Sort ? Use tilde notation.

è¿™æ ·çš„é‡å¤çš„å­—ç¬¦ä¸²ç»“æ„ï¼Œè‚¯å®šå¯¹é€‰æ‹©æ’åºæ›´æœ‰åˆ©ï¼Œæ¯”è¾ƒæ¬¡æ•°åªéœ€è¦ 15 æ¬¡ï¼Œè€Œæ’å…¥æ’åºåˆ™æƒ¨å¤šäº†ï¼Œæ­»æ¬ç –ã€‚


# ğŸš© Counting sort
- https://www.cs.usfca.edu/~galles/visualization/CountingSort.html

è®¡æ•°æ’åºçš„æ ¸å¿ƒåœ¨äºå°†è¾“å…¥çš„æ•°æ®å€¼è½¬åŒ–ä¸º key å¹¶å°†ç›¸åŒå€¼å‡ºç°çš„æ¬¡æ•°è®°å½•åœ¨å¦å¤–å¼€è¾Ÿçš„æ•°ç»„ç©ºé—´ä¸­ã€‚ä½œä¸ºä¸€ç§çº¿æ€§æ—¶é—´å¤æ‚åº¦çš„æ’åºï¼Œè®¡æ•°æ’åºè¦æ±‚è¾“å…¥çš„æ•°æ®å¿…é¡»æ˜¯æœ‰ç¡®å®šèŒƒå›´çš„æ•´æ•°ï¼Œæ‰€ä»¥ï¼Œå¦‚æœæ•°æ®æ•°å€¼çš„è·¨åº¦å¤§å°†ä¼šå¯¼è‡´æ¶ˆè€—å¤§é‡çš„å†…å­˜ã€‚

è¾“å…¥çš„å…ƒç´ æ˜¯ n ä¸ª 0 åˆ° k ä¹‹é—´çš„æ•´æ•°æ—¶ï¼Œå®ƒçš„è¿è¡Œæ—¶é—´æ˜¯ Î˜(n + k)ã€‚è®¡æ•°æ’åºä¸æ˜¯æ¯”è¾ƒæ’åºï¼Œæ’åºçš„é€Ÿåº¦å¿«äºä»»ä½•æ¯”è¾ƒæ’åºç®—æ³•ã€‚

è®¡æ•°æ’åºä¸é€‚åˆæŒ‰å­—æ¯é¡ºåºæ’åºäººåï¼Œä½†æ˜¯ï¼Œå¯ä»¥ç”¨åœ¨åŸºæ•°æ’åºä¸­ï¼Œæ¥æ’åºæ•°æ®èŒƒå›´å¾ˆå¤§çš„æ•°ç»„ã€‚

ç®—æ³•æ­¥éª¤å¦‚ä¸‹ï¼š

- ç»Ÿè®¡æ•°æ®å…ƒç´ å‡ºç°çš„æ¬¡æ•°ï¼Œè®°å½•åˆ°æ•°ç»„ Cï¼Œæ•°æ®çš„å€¼ä½œä¸ºæ•°ç»„å…ƒç´ ç´¢å¼•ã€‚
- æŒ‰ç»Ÿè®¡æ•°é‡ï¼Œå°†å€¼æŒ‰é¡ºåºå›å¡«åˆ°åŸæ•°ç»„ï¼Œå¾—åˆ°çš„å°±æ˜¯æ’å¥½åºçš„æ•°æ®ã€‚

ä»¥ä¸‹ä»£ç ä¸º TypeScriptï¼Œä½¿ç”¨è„šæœ¬çš„å¥½å¤„å°±æ˜¯æ–¹ä¾¿ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨é”®å€¼å¯¹å­˜å‚¨æ•°æ®ï¼Œå¦‚æœä½¿ç”¨ C è¯­è¨€éœ€è¦ä½¿ç”¨åŠ¨æ€å†…å­˜åˆ†é…ï¼Œéœ€è¦æ‰¾æœ€å¤§å€¼ï¼Œæˆ–è€…é¢„è®¾æœ€å¤§å€¼ã€‚

```ts
console.log(countingSort(genArray(20)).join(","));
function genArray(len: number){
  let arr = [], scale = len*10;
  while(len-->0) arr.push(Math.ceil(Math.random()*scale));
  console.log(arr.join(","));
  return arr;
}

function countingSort(a: number[]){
    let c:{[key:number]:number} = {};
    let key = 0;
    for (var i = 0; i < a.length; ++i) {
        key = a[i];
        c[key] = c[key]? c[key] + 1:1;
    }
    key = 0;
    for(var k in c){
        for (var j = 0; j < c[k]; ++j) {
            a[key++] = +k;
        }
    }
    return a;
}
```


# ğŸš© Merge sort
- https://visualgo.net/en/sorting
- https://www.geeksforgeeks.org/merge-sort/
- https://www.runoob.com/w3cnote/merge-sort.html

ç±»ä¼¼ QuickSortï¼Œå½’å¹¶æ’åº Merge Sort ä¹Ÿæ˜¯é‡‡ç”¨åˆ†æ²»ç­–ç•¥ç®—æ³• Divide and Conquer algorithmï¼Œé€šå¸¸é€’å½’åœ°å°†æ•°æ®åˆ†æ‹†ä¸ºäºŒï¼Œç›´åˆ°ä¸¤å…ƒç»„ï¼Œå†æ¯”è¾ƒå¤§å°æ’åºï¼Œåœ¨é€’å½’å›æº¯çš„è¿‡ç¨‹ä¸­åˆå°†å·²ç»æ’åºå¥½çš„å­é›†å†è¿›è¡Œæ•´åˆæ’åºï¼Œå½’å¹¶åˆ°æ›´å¤§çš„å­é›†ä¸­ï¼Œç›´åˆ°æ‰€æœ‰æ•°æ®æ’åºå®Œæ¯•ã€‚

æ—¶é—´å¤æ‚åº¦ Time Complexityï¼š

    T(n) = 2T(n/2) + Î¸(n)

ä¸Šè¿°é€’å½’æ–¹ç¨‹åˆ†æç®—æ³•é‡‡ç”¨é€’æ¨æ ‘æ³•æˆ–ä¸»é¡¹å®šç†æ–¹æ³•æ±‚è§£ï¼Œthe Recurrence Tree method or the Master methodã€‚å½’å¹¶æ’åºçš„æ—¶é—´å¤æ‚åº¦åœ¨æœ€å·®ã€å¹³å‡å’Œæœ€ä½³çŠ¶æ€éƒ½ä¸ºç¨³å®šçš„ Î¸(nLogn)ï¼Œå½’å¹¶æ’åºæ€»æ˜¯å°†æ•°ç»„åˆ†ä¸ºä¸¤åŠï¼Œå¹¶ä¸”éœ€è¦çº¿æ€§æ—¶é—´æ¥åˆå¹¶ä¸¤åŠã€‚

- Auxiliary Space: O(n)
- Algorithmic Paradigm: Divide and Conquer
- Sorting In Place: No in a typical implementation
- Stable: Yes

åœ¨ã€Šæ•°æ®ç»“æ„ä¸ç®—æ³• JavaScript æè¿°ã€‹ä½œè€…ç»™å‡ºäº†è‡ªä¸‹è€Œä¸Šçš„è¿­ä»£æ–¹æ³•ï¼Œä½†æ˜¯å¯¹äºé€’å½’æ³•ï¼Œä½œè€…å´è®¤ä¸ºï¼š

    However, it is not possible to do so in JavaScript, as the recursion goes too deep for the language to handle.

åœ¨ JavaScript ä¸­è¿™ç§æ–¹å¼ä¸å¤ªå¯è¡Œï¼Œå› ä¸ºè¿™ä¸ªç®—æ³•çš„é€’å½’æ·±åº¦å¯¹å®ƒæ¥è®²å¤ªæ·±äº†ï¼Œè„šæœ¬å †æ ˆæ·±åº¦ä¸å¤Ÿã€‚

ç®—æ³•æ­¥éª¤ï¼š

- ç”³è¯·å’Œæ•°æ®åŒæ ·å¤§å°çš„ç©ºé—´ï¼Œè¯¥ç©ºé—´ç”¨æ¥å­˜æ”¾åˆå¹¶åçš„åºåˆ—ï¼›
- è®¾å®šä¸¤ä¸ªæŒ‡é’ˆï¼Œæœ€åˆä½ç½®åˆ†åˆ«ä¸ºä¸¤ä¸ªå·²ç»æ’åºåºåˆ—çš„èµ·å§‹ä½ç½®ï¼›
- æ¯”è¾ƒä¸¤ä¸ªæŒ‡é’ˆæ‰€æŒ‡å‘çš„å…ƒç´ ï¼Œé€‰æ‹©ç›¸å¯¹å°çš„å…ƒç´ æ”¾å…¥åˆ°åˆå¹¶ç©ºé—´ï¼Œå¹¶ç§»åŠ¨æŒ‡é’ˆåˆ°ä¸‹ä¸€ä½ç½®ï¼›
- é‡å¤æ­¥éª¤ 3 ç›´åˆ°æŸä¸€æŒ‡é’ˆè¾¾åˆ°åºåˆ—å°¾ï¼›
- å°†å¦ä¸€åºåˆ—å‰©ä¸‹çš„æ‰€æœ‰å…ƒç´ ç›´æ¥å¤åˆ¶åˆ°åˆå¹¶åºåˆ—å°¾ã€‚

```js
console.time();
let result = mergeSort(genArray(10000000), 0, 10000000);
verify(result);
console.log(10000000)
console.timeEnd();

function genArray(len: number){
  let arr = [], scale = len*10;
  while(len-->0) arr.push(Math.ceil(Math.random()*scale));
  return arr;
}

function verify(a: number[]){
    for(let i=0; i<a.length; i++){
        if (a[i]>a[i+1] || isNaN(a[i])) {
            // let tag = console.log(a.slice(0, i).join(",").replace(/./g, " "));
            return console.log( "^ VERIFY FAILURE AT "+i);
        }
    }
    return console.log("VERIFY PASSED!");
}

function mergeSort(a: number[], lo:number, hi:number){
    if(2>=hi-lo){
        let m = new Array(2);
        m[0] = a[0];
        if(1 == hi-lo) return m.slice(0,1);
        if(a[0]<a[1]){
            m[0] = a[0];
            m[1] = a[1];
        }else{
            m[0] = a[1];
            m[1] = a[0];
        }
        return m;
    }
    let lb = Math.ceil(hi/2-lo/2), ld = hi - lo - lb;
    let b = a.slice(lo, lb);
    let d = a.slice(lo+lb, hi);
    b = mergeSort(b, 0, lb);
    d = mergeSort(d, 0, ld);

    let m = new Array(hi - lo);
    let pb = 0, pd = 0;
    while(pb<lb && pd<ld){
        if(b[pb] > d[pd]){
            m[pb+pd] = d[pd++];
        }else{
            m[pb+pd] = b[pb++];
        }
    }
    while (pb<lb){
        m[pb+pd] = b[pb++];
    }
    while (pd<ld){
        m[pb+pd] = d[pd++];
    }
    return m;
}
```


# ğŸš© Shell sort
- https://www.tutorialspoint.com/data_structures_algorithms/shell_sort_algorithm.htm
- https://www.tutorialspoint.com/Comb-Sort

The C Programming Language æ•™æä¸ºäº†è§£æ for å¾ªç¯ï¼Œæ¼”ç¤ºäº† Shell sort æ’åºç®—æ³•ï¼š

```c
/* shellsort:  sort v[0]...v[n-1] into increasing order */
void shellsort(int v[], int n)
{
   int gap, i, j, temp;

   for (gap = n/2; gap > 0; gap /= 2)
       for (i = gap; i < n; i++)
           for (j=i-gap; j>=0 && v[j]>v[j+gap]; j-=gap) {
               temp = v[j];
               v[j] = v[j+gap];
               v[j+gap] = temp;
           }
}
```

è¿™æ˜¯ä¸€ä¸ªä¸‰å±‚ for åµŒå¥—çš„å‡½æ•°ç»“æ„ï¼Œå¤–å±‚å®šä¹‰ gap è´Ÿè´£æ§åˆ¶ä¸¤ä¸ªå­é›†æ¯”è¾ƒçš„ç²’åº¦ï¼Œä» n/2 åˆ° 1 çš„ç²’åº¦é€æ¬¡ç¼©å°ã€‚ä¸­é—´å±‚è´Ÿè´£éå†æ‰€æœ‰æ•°æ®ï¼Œè€Œæœ€å†…å±‚è´Ÿè´£æ¯”è¾ƒå¹¶æ›´æ–°é¡ºåºã€‚

åœ¨å¤šä¸ªåµŒå¥—å¾ªç¯ä¿æŒå¾ªç¯æ§åˆ¶é›†ä¸­çš„ä¼˜åŠ¿æ˜æ˜¾ï¼ŒShell sort è¿™ç§æ’åºç®—æ³•çš„åŸºæœ¬æ€æƒ³æ˜¯ D. L. Shell è®¾è®¡çš„ï¼Œåå­—å¿µå¸Œå°”ã€‚åœ¨æ¯”è¾ƒåˆæœŸé˜¶æ®µï¼Œç”¨ç²—ç²’åº¦é—´è·å¯¹å…ƒç´ è¿›è¡Œç²—æ’ï¼Œè€Œä¸æ˜¯ç®€å•çš„äº¤æ¢ç›¸é‚»çš„å…ƒç´ ã€‚è¿™ç§ç²—æ’å¾€å¾€ä¼šå¾ˆå¿«æ¶ˆé™¤å¤§é‡çš„ç´Šä¹±ï¼Œä½¿åæœŸçš„å·¥ä½œæ›´å°‘ã€‚éšç€æ¯”è¾ƒå…ƒç´ ä¹‹é—´çš„é—´éš”é€æ¸å‡å°ä¸º 1ï¼Œæ­¤æ—¶æ’åºæœ‰æ•ˆåœ°æˆä¸ºç›¸é‚»äº¤æ¢æ–¹æ³•ï¼Œæ‰€æœ‰å…ƒç´ æœ€ç»ˆéƒ½ä¼šæ­£ç¡®æ’åºã€‚

æ³¨æ„ for çš„é€šç”¨æ€§ä½¿å¤–å¾ªç¯ä¸å…¶ä»–å¾ªç¯ä»¥ç›¸åŒçš„å½¢å¼æ‹Ÿåˆï¼Œå³ä½¿å®ƒä¸æ˜¯ç®—æœ¯çº§æ•°ï¼Œå³å¯ä»¥æŒ‡å®š step å€¼ã€‚å› ä¸ºæ¯è½®çš„é—´éš”åœ¨é€’å‡ï¼Œä½†ç²—æ’åºå¥½çš„æ•°æ®åœ¨å¢åŠ ï¼Œæ‰€ä»¥ä¹Ÿå«é€’å‡å¢é‡æ’åºï¼Œå¢é‡æ„æ€æŒ‡æ•°æ®çš„æœ‰åºæ€§åœ¨å¢åŠ ã€‚æ­£æ˜¯è¿™ç§é€æ¬¡å‡åŠçš„ç²’åº¦æ§åˆ¶ï¼Œä½¿ç”¨å¾—æ‰€æœ‰æ•°æ®éƒ½å¾—åˆ°æ­£å¸¸çš„æ’åºï¼Œè€Œä¸è¢«é—æ¼ã€‚ç±»ä¼¼çš„æ¦‚å¿µçš„æ’åºè¿˜æœ‰ Comb sortï¼Œæ¢³æ’åºï¼ŒåŒæ—¶å®ƒç»“åˆ Bubble sort çš„æ¯”è¾ƒé€»è¾‘ã€‚

åˆ—å¦‚ï¼Œå¯¹ä¸€ä¸ªå•è¯çš„å­—æ¯è¿›è¡Œæ’åºï¼š

    supposed <- gap = 4
    ^   ^
    ouppssed
     ^   ^
    osppsued
      ^   ^
    osepsupd
       ^   ^
    osedsupp <- gap = 2
    ^ ^
    esodsupp
     ^ ^
    edossupp
        ^ ^
    edospusp
         ^ ^
    edosppsu
       ^ ^
    edoppssu <- gap = 1
    ^^
    deoppssu


# ğŸš© Quick Sort
- Quick Sort å¿«é€Ÿçš„æ’åº https://www.bilibili.com/video/BV1Kb411W75N?p=169
- https://leetcode-cn.com/problems/sort-an-array/comments/
- https://algorithm-visualizer.org/divide-and-conquer/quicksort
- https://github.com/trekhleb/javascript-algorithms/tree/master/src/algorithms/sorting/quick-sort
- https://github.com/raywenderlich/swift-algorithm-club/tree/master/Quicksort
- Merge Sort vs Quick Sort https://www.bilibili.com/video/av925146035/
- Data Structure Visualizations https://www.cs.usfca.edu/~galles/visualization/Algorithms.html
- https://algorithm-visualizer.org/brute-force/comb-sort
- https://www.tutorialspoint.com/data_structures_algorithms/quick_sort_algorithm.htm

å¿«é€Ÿæ’åºæ ¸å¿ƒæ€ç»´æ˜¯äºŒåˆ†æ³•åŠ é€’å½’å¤„ç†ï¼Œè€Œå·§å¦™ä¹‹å¤„åœ¨äºäºŒåˆ†ç­–ç•¥ï¼Œå³åˆ†æ²»æ³•ï¼ˆDivide and conquerï¼‰ç­–ç•¥ï¼ŒæŒ‰ä¸€ä¸ªå‚è€ƒå€¼å°†æ•°æ®åˆ†ä¸ºå¤§å° 2 ä¸ªå­é›†ï¼Œç„¶åé€’å½’åœ°æ’åºä¸¤ä¸ªå­åºåˆ—ã€‚

å®ƒä½¿ç”¨äº† 3 ä¸ªå…ƒç´ ï¼ŒåŸºæœ¬æ’åºæµç¨‹å¦‚ä¸‹ï¼š 

- `pivot` ä¸­æ¢å…ƒç´ ï¼ŒæŒ‡å‘ä¸€ä¸ªå‚è€ƒå€¼ï¼Œå°†æ•°æ®åˆ†æˆä¸¤ä¸ªåŒºï¼›
- `low` å·¦è¾¹ç•Œï¼Œä»å·¦å‘å³ä¸ `pivot` è¿›è¡Œæ¯”è¾ƒï¼Œå°†æ›´å¤§çš„å€¼äº¤æ¢åˆ°å³åŒºï¼Œå¹¶è¿›å…¥ä¸‹ä¸€æ­¥éª¤ï¼›
- `high` å³è¾¹ç•Œï¼Œä»å³å‘å·¦ä¸ `pivot` è¿›è¡Œæ¯”è¾ƒï¼Œå°†æ›´å°çš„å€¼äº¤æ¢åˆ°å·¦åŒºï¼Œå®Œå…¨åˆ†åŒºåï¼Œå°† `pivot` æ”¾åˆ°æ–°çš„ä¸­æ¢ä½ï¼Œè¿›å…¥æ–°ä¸€è½®é€’å½’å¤„ç†ï¼›

å°±æ˜¯è¿™ä¸‰ä¸ªå…ƒç´ å®Œæˆäº† Quick Sort çš„æœ€å·§å¦™çš„äºŒåˆ†ç­–ç•¥ï¼Œåœ¨å¿«é€Ÿåˆ†ç»„çš„åŒæ—¶ï¼Œåˆè¿›è¡Œäº†åˆæ­¥çš„æ’åºã€‚ 

å¿«é€Ÿæ’åºå’Œå½’å¹¶æ’åºä¸¤ç§ç»å…¸æ’åºç®—æ³•åœ¨ç®—æ³•åŸç†ä¸Šï¼Œå¯ä»¥è¯´éƒ½å„äºŒå‰æ ‘æœ‰å…³ï¼Œå¿«é€Ÿæ’åºå°±æ˜¯å¯¹äºŒå‰æ ‘è¿›è¡Œå‰åºéå† Preorder Traversalï¼Œå½’å¹¶æ’åºå°±æ˜¯å¯¹äºŒå‰æ ‘çš„ååºéå† Postorder Traversalã€‚

Time Complexity

| Name             | Best       | Average       | Worst   | Memory    | Stable  |
| ---------------- | :--------: | :-----------: | :-----: | :-------: | :-----: |
| **Quick sort**   | n log(n)   | n log(n)      | n^2     | log(n)    | No      |

è€Œå¯¹äºæ¸è¿›æœ‰åºçš„æ•°ç»„æ¥è¯´ï¼Œæ¯æ¬¡åŒºåˆ†å…¶å®éƒ½æ˜¯æå…¶ä¸å¹³è¡¡çš„ï¼Œæ™®é€šå¿«æ’ç”šè‡³ä¼šé€€åŒ–æˆ O(n^2)ï¼Œå¯èƒ½éœ€è¦å¤šè·¯å¿«æ’ã€‚

é€‰æ‹©åˆé€‚çš„ pivot å€¼å¯¹æ•ˆç‡æœ‰å¾ˆå¤§å½±å“ï¼Œæ¯”å¦‚ [ 7, 6, 5, 4, 3, 2, 1 ] é€‰æ‹©äº† 1 ä½œä¸º pivot å°±å¾ˆæ²¡æ•ˆç‡ã€‚

```js
let result = quickSort(genArray(20), 0, 20-1);
console.log(result.join(","));
verify(result);

function genArray(len: number){
  let arr = [], scale = len*10;
  while(len-->0) arr.push(Math.ceil(Math.random()*scale));
  console.log(arr.join(","));
  return arr;
}

function verify(a: number[]){
    for(let i=0; i<a.length; i++){
        if (a[i]>a[i+1]) {
            return console.log(a.slice(0, i).join(",").replace(/./g, " ") + "^ VERIFY FAILURE AT "+i);
        }
    }
    return console.log("VERIFY PASSED!");
}

function quickSort(nums: number[], low:number, high: number){
    let s = low, e = high;
    if(low >= high) return nums;
    let p = nums[high];
    while(low<high){
        while(low<high && nums[low]<p) low++;
        nums[high] = nums[low];
        while(low<high && nums[high]>=p) high--;
        nums[low] = nums[high];
    }
    nums[high] = p;

    let tl = nums.slice(0, low+1).join(",").replace(/./g, " ");
    let th = nums.slice(low, high-low).join(",").replace(/./g, " ");
    let tp = " ".repeat(nums.join(",").length-tl.length-th.length+2)+"pivot = "+p;
    console.log(nums.join(","));
    console.log(" ".repeat(tl.length-1)+"^"+" ".repeat(th.length)+"^" + tp);

    quickSort(nums, s, low-1);
    quickSort(nums, low+1, e);
    return nums;
}
```

æµ‹è¯•è¾“å‡ºï¼š

    115,58,27,32,198,71,120,170,118,57,5,34,15,34,188,103,85,1,13,157
    115,58,27,32,13,71,120,1,118,57,5,34,15,34,85,103,157,188,170,198
                                                        ^^              pivot = 157
    85,58,27,32,13,71,34,1,15,57,5,34,103,118,120,115,157,188,170,198
                                        ^^                              pivot = 103
    5,15,27,32,13,1,34,34,71,57,58,85,103,118,120,115,157,188,170,198
                     ^^                                                 pivot = 34
    1,15,27,32,13,5,34,34,71,57,58,85,103,118,120,115,157,188,170,198
    ^^                                                                  pivot = 1
    1,5,27,32,13,15,34,34,71,57,58,85,103,118,120,115,157,188,170,198
      ^^                                                                pivot = 5
    1,5,13,15,32,27,34,34,71,57,58,85,103,118,120,115,157,188,170,198
            ^^                                                          pivot = 15
    1,5,13,15,27,32,34,34,71,57,58,85,103,118,120,115,157,188,170,198
               ^^                                                       pivot = 27
    1,5,13,15,27,32,34,34,71,57,58,85,103,118,120,115,157,188,170,198
                                    ^^                                  pivot = 85
    1,5,13,15,27,32,34,34,57,58,71,85,103,118,120,115,157,188,170,198
                              ^^                                        pivot = 58
    1,5,13,15,27,32,34,34,57,58,71,85,103,118,120,115,157,188,170,198
                           ^^                                           pivot = 57
    1,5,13,15,27,32,34,34,57,58,71,85,103,115,120,118,157,188,170,198
                                            ^^                          pivot = 115
    1,5,13,15,27,32,34,34,57,58,71,85,103,115,118,120,157,188,170,198
                                                ^^                      pivot = 118
    1,5,13,15,27,32,34,34,57,58,71,85,103,115,118,120,157,188,170,198
                                                                    ^^  pivot = 198
    1,5,13,15,27,32,34,34,57,58,71,85,103,115,118,120,157,170,188,198
                                                            ^^          pivot = 170
    1,5,13,15,27,32,34,34,57,58,71,85,103,115,118,120,157,170,188,198
    VERIFY PASSED!



# ğŸš© Heap sort
- https://www.runoob.com/w3cnote/heap-sort.html
- https://www.cs.usfca.edu/~galles/visualization/HeapSort.html
- https://www.tutorialspoint.com/data_structures_algorithms/tree_data_structure.htm
- https://www.tutorialspoint.com/data_structures_algorithms/heap_data_structure.htm

å †æ’åºæ˜¯åˆ©ç”¨ `Binary Heap` äºŒå‰å †ï¼Œä¹Ÿå« `Heap Tree` å †ç§¯æ ‘ï¼Œè¿™ç§æ ‘çŠ¶æ•°æ®ç»“æ„è€Œè®¾è®¡çš„ä¸€ç§æ’åºç®—æ³•ï¼Œæ˜¯ä¸€ç§é€‰æ‹©æ’åºï¼Œå®ƒçš„æœ€åï¼Œæœ€å¥½ï¼Œå¹³å‡æ—¶é—´å¤æ‚åº¦å‡ä¸º O(nlogn)ï¼Œå®ƒä¹Ÿæ˜¯ä¸ç¨³å®šæ’åºã€‚ç©ºé—´å¤æ‚åº¦ä¸º O(1)ï¼Œå› ä¸ºæ˜¯ in-place æ’åºï¼Œä¸éœ€è¦é¢å¤–ç©ºé—´ï¼Œè¿™å·²ç»æ˜¯æœ€ä¼˜çŠ¶æ€ã€‚æ’åºç®—æ³•æ¥è¯´ï¼Œç»§ç»­å†å»ä»æ—¶é—´å’Œç©ºé—´ä¸Šä¼˜åŒ–è¿™ä¸ªé—®é¢˜ï¼Œä»ç†è®ºä¸Šæ¥è®²æ²¡ä»€ä¹ˆå¤ªå¤§çš„æ„ä¹‰äº†ã€‚

åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼ŒäºŒå‰å †æ˜¯äºŒå‰æ ‘å½¢çŠ¶çš„å †ç»“æ„ï¼Œæ‰€ä»¥ç§°ä¸ºå †ç§¯æ ‘ï¼Œæ˜¯æœ€å¸¸è§çš„å®ç°ä¼˜å…ˆçº§é˜Ÿåˆ—çš„æ–¹æ³•ï¼Œåœ¨å¾ˆå¤šä¸»æµè¯­è¨€çš„æ ‡å‡†ç®—æ³•åº“ä¸­éƒ½èƒ½çœ‹åˆ°å®ƒä»¬çš„èº«å½±ã€‚åŒæ—¶å®ƒä¹Ÿæ˜¯å¾ˆå¤šç®—æ³•ä¸­éœ€è¦ç”¨åˆ°çš„åº•å±‚æ•°æ®ç»“æ„ï¼Œèƒ½å¤Ÿå¿«é€Ÿåœ°æŒæ¡è¿™äº›å·²æœ‰çš„æ ‡å‡†åº“å’Œç±»ï¼Œèƒ½å¤Ÿå¾ˆé«˜æ•ˆåœ°å®ç°è¯¸å¤šç®—æ³•ã€‚

![Binary tree](https://www.tutorialspoint.com/data_structures_algorithms/images/binary_tree.jpg)

å­¦ä¹  Heap sort ä¹‹å‰ï¼Œéœ€è¦å¯¹äºŒå‰æ ‘çš„ä¸»è¦æ¦‚å¿µæœ‰ä¸€å®šç†è§£ï¼š

- `Path` âˆ’ Path refers to the sequence of nodes along the edges of a tree.
- `Root` âˆ’ The node at the top of the tree is called root. There is only one root per tree and one path from the root node to any node.
- `Parent` âˆ’ Any node except the root node has one edge upward to a node called parent.
- `Child` âˆ’ The node below a given node connected by its edge downward is called its child node.
- `Leaf` âˆ’ The node which does not have any child node is called the leaf node.
- `Subtree` âˆ’ Subtree represents the descendants of a node.
- `Visiting` âˆ’ Visiting refers to checking the value of a node when control is on the node.
- `Traversing` âˆ’ Traversing means passing through nodes in a specific order.
- `Levels` âˆ’ Level of a node represents the generation of a node.
- `keys` âˆ’ Key represents a value of a node based on which a search operation is to be carried out for a node.

å †ç§¯æ ‘æ˜¯ä¸€ç§å®Œå…¨äºŒå‰æ ‘ï¼Œæœ‰ä¸¤ç§å½¢å¼ï¼Œmin-heap å°æ ¹å †è¦æ±‚èŠ‚ç‚¹å°äºæˆ–ç­‰äºå­èŠ‚ç‚¹å€¼ï¼Œmax-heap å¤§æ ¹å †è¦æ±‚èŠ‚ç‚¹å¤§äºæˆ–ç­‰äºå­èŠ‚ç‚¹å€¼ã€‚

          max-heap          min-heap
             9                 3        <-- Level 0
         â”Œâ”€â”€â”€â”´â”€â”€â”€â”         â”Œâ”€â”€â”€â”´â”€â”€â”€â”     
         8       7         4       5    <-- Level 1
       â”Œâ”€â”´â”€â”   â”Œâ”€â”´â”€â”     â”Œâ”€â”´â”€â”   â”Œâ”€â”´â”€â”   
       6   5   4   3     6   7   8   9  <-- Level 2
     â”Œâ”€â”´â”€â”             â”Œâ”€â”´                
     6   5             7                <-- Level 3

æ‰€è°“å®Œå…¨äºŒå‰æ ‘ï¼Œå³é™¤æœ€åº•å±‚ L çš„å¶èŠ‚ç‚¹å¤–ï¼ŒL-2 å±‚ä»¥ä¸Šçš„æ‰€æœ‰èŠ‚ç‚¹éƒ½æœ‰ 2 ä¸ªå­èŠ‚ç‚¹ï¼Œå¦‚æœ L-1 å±‚ä»¥ä¸Šæ‰€æœ‰èŠ‚ç‚¹éƒ½æœ‰ 2 ä¸ªå­èŠ‚ç‚¹åˆ™ç§°ä¸ºå®Œæ»¡äºŒå‰æ ‘ã€‚

å®Œå…¨äºŒå‰æ ‘æ˜¯ä¸€ç§æ•ˆç‡å¾ˆé«˜çš„æ•°æ®ç»“æ„ï¼Œé€šå¸¸é‡‡ç”¨æ•°ç»„å½¢å¼å­˜å‚¨ï¼Œå¯ä»¥å¿«é€Ÿè®¡ç®—å‡ºä¸€ä¸ªèŠ‚ç‚¹çš„çˆ¶å­èŠ‚ç‚¹ï¼ŒåŒæ—¶ä¸éœ€è¦é¢å¤–å­˜å‚¨ç´¢å¼•ä¿¡æ¯ã€‚

æ ¹æ®å¶èŠ‚ç‚¹çš„åˆ†å¸ƒä¸åŒï¼ŒäºŒå‰æ ‘å¯ä»¥æŒ‰ä»¥ä¸‹åˆ†ç±»ï¼š

- `å®Œç¾äºŒå‰æ ‘` Perfect Binary Tree æ‰€æœ‰å¶èŠ‚ç‚¹æ·±åº¦ç›¸åŒï¼Œæ‰€æœ‰éå¶èŠ‚ç‚¹éƒ½æœ‰ä¸¤ç‚¹å­èŠ‚ç‚¹ã€‚ä¹Ÿç§°ä¸ºæ»¡äºŒå‰æ ‘ï¼Œæ·±åº¦ä¸º k(>=-1) ä¸”æœ‰ 2^(k+1) - 1 ä¸ªèŠ‚ç‚¹ã€‚
- `å®Œå…¨äºŒå‰æ ‘` Complete Binary Treeï¼Œé™¤äº†æœ€åº•å±‚ï¼Œæ‰€æœ‰èŠ‚ç‚¹éƒ½æ˜¯å®Œå…¨å……æ»¡å­èŠ‚ç‚¹ï¼Œè€Œå¶å­èŠ‚ç‚¹ä»å·¦åˆ°å‹ä¾æ¬¡æ’åˆ—ï¼Œä¸éœ€è¦å¡«æ»¡äºŒå‰æ ‘ã€‚
- `å®Œæ»¡äºŒå‰æ ‘` Full Binary Tree/Strictly Binary Treeï¼Œé™¤å¶èŠ‚ç‚¹å¤–ï¼Œæ‰€æœ‰èŠ‚ç‚¹éƒ½æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ã€‚æ¢å¥è¯è¯´ï¼Œåªè¦æœ‰å­èŠ‚ç‚¹ï¼Œå°±å¿…æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ã€‚
- `å¹³è¡¡äºŒå‰æ ‘` Balance Binary Tree è¦æ±‚å·¦å³å­æ ‘çš„é«˜åº¦å·®è‡³å¤šä¸º 1 ä¸ªèŠ‚ç‚¹ã€‚
- `è‡ªå¹³è¡¡äºŒå‰æ ‘` Self-Balancing Binary Search Tree ç®€ç§° `AVL` å¹³è¡¡äºŒå‰æ ‘ï¼Œåå­—æ¥æºäºå®ƒçš„å‘æ˜ä½œè€… G.M. Adelson-Velsky å’Œ E.M. Landisã€‚

äºŒå‰å †çš„ç©ºé—´å¤æ‚åº¦å’Œç›¸å…³æ“ä½œçš„æ—¶é—´å¤æ‚åº¦å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š

    | Algorithm | Average  | Worst Case |
    |-----------|----------|------------|
    | Space     | O(n)     | O(n)       |
    | Search    | O(n)     | O(n)       |
    | Insert    | O(1)     | O(log n)   |
    | Delete    | O(log n) | O(log n)   |
    | Peek      | O(1)     | O(1)       |

å †æ’åºåŸºæœ¬æ€æƒ³ï¼šå°†åºåˆ—æ•°æ®æ„é€ æˆå¤§é¡¶å †ï¼Œæ•´ä¸ªåºåˆ—çš„æœ€å¤§å€¼å°±æ˜¯æ ¹èŠ‚ç‚¹ï¼Œå°†å…¶äº¤æ¢åˆ°æœ«å°¾ï¼Œä½œä¸ºå·²æ’åºæ•°æ®ã€‚ç„¶åå°†å‰©ä½™ n-1 ä¸ªå…ƒç´ é‡æ–°æ„é€ æˆä¸€ä¸ªå †ï¼Œè¿™æ ·ä¼šå¾—åˆ° n ä¸ªå…ƒç´ çš„æ¬¡å¤§å€¼ã€‚é‡å¤æ“ä½œï¼Œç›´åˆ°å¾—åˆ°ä¸€ä¸ªæœ‰åºåºåˆ—ã€‚

æ‰€ä»¥ï¼Œå †æ’åºçš„è¦ç‚¹åœ¨äºæ„é€ äºŒå‰å †ï¼Œè¿˜æœ‰æ‘˜é¡¶åäºŒå‰å †çš„é‡å»ºï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸º `heapify`ã€‚äº‹å®ä¸Šï¼Œåœ¨æ’åºè¿‡ç¨‹ä¸­å¹¶ä¸éœ€è¦å®šä¹‰ä¸€ä¸ª BinaryHeap å¯¹è±¡ï¼Œåœ¨ä¸€ä¸ªå †ä¸­ï¼Œk = 0 å³é¡¶çº§èŠ‚ç‚¹ï¼Œä½ç½® k çš„å­èŠ‚ç‚¹çš„çˆ¶å…ƒç´ çš„ä½ç½®æ˜¯ (k+1)/2-1ï¼Œè€Œå®ƒçš„ä¸¤ä¸ªå­èŠ‚ç‚¹çš„ä½ç½®åˆ†åˆ«æ˜¯ 2k+1 å’Œ 2k+2ï¼Œè¿™æ ·èŠ‚ç‚¹å°±å’Œæ•°ç»„çš„ç´¢å¼•å…³è”èµ·æ¥äº†ã€‚å¯¹äºä¸€ä¸ª N å…ƒç´ çš„å †ç§¯æ ‘ï¼Œå…¶èŠ‚ç‚¹ä¹ŸåŒæ ·æœ‰ N ä¸ªï¼ŒåŒ…æ‹¬å¶èŠ‚ç‚¹ã€‚

å‡è®¾æ•°æ®ä¸º 8 ä¸ªå…ƒç´ çš„æ•°ç»„ [4,2,5,7,1,9,8,0]ï¼Œå‡åºé‡‡ç”¨å¤§é¡¶å †ï¼Œé™åºé‡‡ç”¨å°é¡¶å †ã€‚

é¦–å…ˆï¼Œå°†æ•°ç»„çš„æ•°æ®æŒ‰å…ˆåé¡ºåºå¡«å……åˆ°äºŒå‰å †ï¼Œä»é¡¶å±‚ Level 0 åˆ°åº•å±‚ï¼Œä»å·¦èŠ‚ç‚¹åˆ°å³èŠ‚ç‚¹ä¾æ¬¡å¡«å……ï¼Œå¹¶ä¾æ¬¡ç»™èŠ‚ç‚¹ç¼–å·ã€‚

          max-heap     
             4         <-- Level 0
         â”Œâ”€â”€â”€â”´â”€â”€â”€â”      
         2       5     <-- Level 1
       â”Œâ”€â”´â”€â”   â”Œâ”€â”´â”€â”    
       7   1   9   8   <-- Level 2
     â”Œâ”€â”´               
     0                 <-- Level 3

ä»æœ€ååº•å±‚çš„éå¶å­ç»“ç‚¹å¼€å§‹è°ƒæ•´ï¼ŒæŒ‰æŒ‰ç…§æ•°ç»„çš„çº¿æ€§ç»“æ„ï¼Œæœ€åçš„ 7 å·æ•°ç»„å…ƒç´ å¯¹åº” 3 å·èŠ‚ç‚¹ï¼Œ7 = 2 * 3 + 1ï¼ŒèŠ‚ç‚¹å¯¹åº”ä½ç½®ã€‚

ä»å·¦è‡³å³ï¼Œä»ä¸‹è‡³ä¸Šè¿›è¡Œè°ƒæ•´ï¼Œå› ä¸ºèŠ‚ç‚¹å€¼ 7 æ¯”å”¯ä¸€çš„å­èŠ‚ç‚¹å€¼ 0 å¤§ï¼Œæ‰€ä»¥ä¸ç”¨è°ƒæ•´ï¼Œé€šè¿‡ 2k+2 è¶…å‡ºæ•°ç»„èŒƒå›´å¯ä»¥åˆ¤æ–­å‡ºæ²¡æœ‰ç¬¬äºŒä¸ªå­èŠ‚ç‚¹ã€‚

æ¥ä¸‹æ¥ï¼Œå¯¹ 3 å·èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹è°ƒæ•´ï¼Œä¾æ¬¡æ¯”è¾ƒä¸¤ä¸ªå­èŠ‚ç‚¹å¹¶æŒ‰éœ€è¦äº¤æ¢ä½ç½®ã€‚å³å¯¹ 1 å·èŠ‚ç‚¹è°ƒæ•´ï¼Œä»å­èŠ‚ç‚¹ä¹Ÿå¯ä»¥åæ¨çˆ¶èŠ‚ç‚¹ 3 = ( 2 * x) + 1ï¼Œå°±æ˜¯è§£ä¸ªæ–¹ç¨‹å¼ã€‚

è¿™ä¸ªè¿‡ç¨‹å°±æ˜¯ä¸€ä¸ªæ²‰é™æˆ–æŠ¬å‡çš„æ“ä½œï¼Œå¯ä»¥å®šä¹‰ä¸€ä¸ª `heapify` å‡½æ•°å°†æ•°æ®äº¤æ¢åˆ°åˆé€‚ä½ç½®ï¼Œå½“ç§»é™¤æ ¹èŠ‚ç‚¹æ—¶ï¼Œå¯ä»¥ç›´æ¥å°†æ•°ç»„æœ€åå…ƒç´ æå‡ä¸ºæ ¹èŠ‚ç‚¹ï¼Œç„¶åï¼Œå†é€šè¿‡æ²‰é™å‡½æ•°äº¤æ¢åˆ°åˆé€‚çš„ä½ç½®ä¸Šã€‚

å †æ’åºç®—æ³•å¯ä»¥æ¦‚æ‹¬å¦‚ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š

- ä½¿ç”¨ `heapify` å‡½æ•°å°†æ•°ç»„ H[0â€¦â€¦n-1] è½¬æ¢ä¸ºä¸€ä¸ªäºŒå‰å †ï¼›
- æŠŠå †é¦–ï¼ˆæœ€å¤§å€¼ï¼‰å’Œå †å°¾äº’æ¢ï¼›
- æŠŠå †çš„å°ºå¯¸ç¼©å° 1ï¼Œå³å°†å †å°¾çš„å…ƒç´ æ’é™¤ï¼Œå¹¶è°ƒç”¨ `heapify` å°†æ–°çš„æ ¹èŠ‚ç‚¹è°ƒæ•´åˆ°åˆé€‚ä½ç½®ï¼›
- é‡å¤æ“ä½œï¼Œç›´åˆ°å †çš„å°ºå¯¸ä¸º 1 å³å®Œæˆæ’åºã€‚

æ³¨æ„ï¼Œè®¾è®¡ `heapify` å‡½æ•°æ—¶ï¼Œéœ€è¦å…ˆä»èŠ‚ç‚¹æ ‘æœ€åº•éƒ¨æŠ¬å‡æˆ–æ²‰é™ï¼Œç›¸å½“äºä¸€ä¸ªç²—æ’ï¼Œç„¶ååœ¨åç»­å¯¹ä¸Šå±‚èŠ‚ç‚¹è¿›è¡Œçš„ `heapify` æ“ä½œä¸­ï¼Œå†ç»†åŒ–ä¸€æ¬¡ä»¥ç¡®ä¿æ•°æ®æ»¡è¶³äºŒå‰å †çš„è¦æ±‚ï¼Œè¿™ä¸ªè¿‡ç¨‹ç›¸å½“å·§å¦™ã€‚

å¦‚æœä½¿ç”¨ max-heapï¼Œé‚£ä¹ˆå°±ä»æ•°ç»„çš„æœ«å°¾å³äºŒå‰æ ‘æœ€åº•å±‚èŠ‚ç‚¹å¼€å§‹æŠ¬å‡å¤§å€¼æ•°æ®ã€‚å¦‚æœä½¿ç”¨ min-heapï¼Œåˆ™ä»åº•å±‚å¼€å§‹æ²‰é™å°å€¼æ•°æ®ã€‚

å¯ä»¥å‚è€ƒæ—§é‡‘å±±å¤§å­¦ University of San Francisco å®˜æ–¹ç½‘ç«™ï¼ŒDavid Galles åŠ©æ•™åˆ¶ä½œçš„æ•°æ®ç»“æ„ä¸ç®—æ³•åŠ¨ç”»æ¼”ç¤ºå·¥å…·ã€‚

```js
let result = heapSort(genArray(8));
console.log(result.join(","));
verify(result);

function genArray(len: number){
  let arr = [], scale = len*10;
  while(len-->0) arr.push(Math.ceil(Math.random()*scale));
  console.log(arr.join(","));
  return arr;
}

function verify(a: number[]){
    for(let i=0; i<a.length; i++){
        if (a[i]>a[i+1]) {
            return console.log(a.slice(0, i).join(",").replace(/./g, " ") + "^ VERIFY FAILURE AT "+i);
        }
    }
    return console.log("VERIFY PASSED!");
}

function heapSort(a: number[]){
    // build an max-heap
    let length = a.length;
    for (var i = length/2; i >= 0; --i) {
        heapfy(a, Math.floor(i), length);
    }
    console.log("HEAPFIED!");
    // sort all nodes
    for(let i=length-1; i>=0; i--){
        swap(a, 0, i);
        heapfy(a, 0, i);
    }
    return a;
}

function heapfy(a:number[], k:number, N:number) {
    while (2*k+1 < N) {
        let g = Math.floor(2*k + 1);
        if (g < N-1 && a[g+1] >= a[g]){
            g ++;
        }
        if (a[k] < a[g]){
            swap(a, k, g);
        }
        k = g;
    }
}

function swap(a:number[], x:number, y:number){
    let tag = a.slice(0, x+1).join(",").replace(/./g, " ")+"^"+
        a.slice(x, y).join(",").replace(/./g, " ")+"^";
    let pad = a.join(",").slice(0, a.join(",").length-tag.length+2).replace(/./g, " ");
    console.log(a.join(","));
    console.log(tag+pad+a[x]+" <==> "+a[y]);
    let t = a[x];
    a[x] = a[y];
    a[y] = t;
}
```

æµ‹è¯•è¾“å‡ºï¼š

    11,55,59,37,65,3,23,21                     34,9,9,24,80,15,42,25             
         ^        ^         55 <==> 65                  ^           ^ 24 <==> 25 
    11,65,59,37,55,3,23,21                     34,9,9,25,80,15,42,24             
      ^  ^                  11 <==> 65               ^          ^     9 <==> 42  
    65,11,59,37,55,3,23,21                     34,9,42,25,80,15,9,24             
         ^        ^         11 <==> 55             ^       ^          9 <==> 80  
    HEAPFIED!                                  34,80,42,25,9,15,9,24             
    65,55,59,37,11,3,23,21                       ^  ^                 34 <==> 80 
      ^                   ^ 65 <==> 21         HEAPFIED!                         
    21,55,59,37,11,3,23,65                     80,34,42,25,9,15,9,24             
      ^     ^               21 <==> 59           ^                  ^ 80 <==> 24 
    59,55,21,37,11,3,23,65                     24,34,42,25,9,15,9,80             
            ^          ^    21 <==> 23           ^     ^              24 <==> 42 
    59,55,23,37,11,3,21,65                     42,34,24,25,9,15,9,80             
      ^                ^    59 <==> 21           ^                ^   42 <==> 9  
    21,55,23,37,11,3,59,65                     9,34,24,25,9,15,42,80             
      ^  ^                  21 <==> 55          ^ ^                   9 <==> 34  
    55,21,23,37,11,3,59,65                     34,9,24,25,9,15,42,80             
         ^     ^            21 <==> 37             ^    ^             9 <==> 25  
    55,37,23,21,11,3,59,65                     34,25,24,9,9,15,42,80             
      ^              ^      55 <==> 3            ^            ^       34 <==> 15 
    3,37,23,21,11,55,59,65                     15,25,24,9,9,34,42,80             
     ^ ^                    3 <==> 37            ^  ^                 15 <==> 25 
    37,3,23,21,11,55,59,65                     25,15,24,9,9,34,42,80             
        ^    ^              3 <==> 21            ^          ^         25 <==> 9  
    37,21,23,3,11,55,59,65                     9,15,24,9,25,34,42,80             
      ^          ^          37 <==> 11          ^    ^                9 <==> 24  
    11,21,23,3,37,55,59,65                     24,15,9,9,25,34,42,80             
      ^     ^               11 <==> 23           ^       ^            24 <==> 9  
    23,21,11,3,37,55,59,65                     9,15,9,24,25,34,42,80             
      ^        ^            23 <==> 3           ^ ^                   9 <==> 15  
    3,21,11,23,37,55,59,65                     15,9,9,24,25,34,42,80             
     ^ ^                    3 <==> 21            ^    ^               15 <==> 9  
    21,3,11,23,37,55,59,65                     9,9,15,24,25,34,42,80             
      ^    ^                21 <==> 11          ^ ^                   9 <==> 9   
    11,3,21,23,37,55,59,65                     9,9,15,24,25,34,42,80             
      ^  ^                  11 <==> 3           ^^                    9 <==> 9   
    3,11,21,23,37,55,59,65                     9,9,15,24,25,34,42,80             
     ^^                     3 <==> 3           VERIFY PASSED!                    
    3,11,21,23,37,55,59,65                    
    VERIFY PASSED!                            


# ğŸš© Bucket sort
- https://www.cs.usfca.edu/~galles/visualization/BucketSort.html
- https://learnersbucket.com/tutorials/algorithms/bucket-sort-algorithm/
- Introduction to Algorithms, 3rd, the MIT Press - 8.4 Bucket sort
- Algorithms, 4th, Princeton University - 3.4 Hash Tables


æ¡¶æ’åºæ˜¯è®¡æ•°æ’åºçš„å‡çº§ç‰ˆï¼Œå®ƒåˆ©ç”¨äº†å‡½æ•°çš„æ˜ å°„å…³ç³»ï¼Œæ•ˆç‡å…³é”®å°±åœ¨äºè¿™ä¸ªæ˜ å°„å‡½æ•°ã€‚æ¡¶æ˜¯ä¸€ä¸ªæŠ½è±¡æ¦‚å¿µï¼Œå¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªæ•°ç»„æˆ–é“¾è¡¨æ•°æ®ç»“æ„ï¼Œæ¯ä¸ªæ¡¶å­˜å‚¨çš„æ•°æ®ä¸ºåŠå¼€åŒºï¼Œhalf-open interval [a, b)ï¼Œå³ä¸å«å³è¾¹ç•Œã€‚

æ¡¶æ’åºåŸç†ï¼šå‡è®¾è¾“å…¥æ•°æ®æœä»å‡åŒ€åˆ†å¸ƒï¼Œå°†æ•°æ®åˆ†åˆ°æœ‰é™æ•°é‡çš„æ¡¶é‡Œï¼Œå¯ä»¥ä½¿ç”¨å…¶å®ƒæ’åºç®—æ³•å¯¹æ¯ä¸ªæ¡¶çš„æ•°æ®å†æ’åºã€‚

- ç¡®å®šæ¡¶çš„æ•°é‡ï¼Œå¹¶å°†æ•°æ®æ”¾åˆ°å¯¹åº”çš„ç©ºæ¡¶ä¸­ï¼›
- å°†æ¯ä¸ªä¸ä¸ºç©ºçš„æ¡¶è¿›è¡Œæ’åºï¼›
- æ‹¼æ¥ä¸ä¸ºç©ºçš„æ¡¶ä¸­çš„æ•°æ®ï¼Œå¾—åˆ°æ’åºç»“æœï¼›

åœ¨é¢å¤–ç©ºé—´å……è¶³çš„æƒ…å†µä¸‹ï¼Œå°½é‡å¢å¤§æ¡¶çš„æ•°é‡ï¼Œä½¿ç”¨çš„æ˜ å°„å‡½æ•°èƒ½å¤Ÿå°†è¾“å…¥çš„ N ä¸ªæ•°æ®å‡åŒ€çš„åˆ†é…åˆ° K ä¸ªæ¡¶ä¸­ã€‚æ¡¶æ’åºï¼Œä¸»è¦é€‚ç”¨äºå°èŒƒå›´æ•´æ•°æ•°æ®ï¼Œä¸”ç‹¬ç«‹å‡åŒ€åˆ†å¸ƒï¼Œå¯ä»¥è®¡ç®—çš„æ•°æ®é‡å¾ˆå¤§ï¼Œè€Œä¸”ç¬¦åˆçº¿æ€§æœŸæœ›æ—¶é—´ã€‚

æ¡¶æ’åºåˆ©ç”¨å‡½æ•°çš„æ˜ å°„å…³ç³»ï¼Œå‡å°‘äº†å‡ ä¹æ‰€æœ‰çš„æ¯”è¾ƒå·¥ä½œã€‚å®é™…ä¸Šï¼Œæ¡¶æ’åºçš„ f(k) å€¼çš„è®¡ç®—å°±æ˜¯åˆ†æ²»ç­–ç•¥ï¼Œå·²ç»æŠŠå¤§é‡æ•°æ®åˆ†å‰²æˆäº†åŸºæœ¬æœ‰åºçš„æ•°æ®å—(æ¡¶)ï¼Œç„¶ååªéœ€è¦å¯¹æ¡¶ä¸­çš„å°‘é‡æ•°æ®åšæ¯”è¾ƒæ’åºå³å¯ã€‚

ç±»ä¼¼æ¦‚å¿µçš„æ’åºæœ‰é¸½å·¢æ’åºï¼ˆPigeonhole sortï¼‰ï¼Œä¹Ÿç§°ä½œåŸºæ•°åˆ†ç±»ï¼Œå³åŸºäºè®¡æ•°å¯¹æ•°æ®è¿›è¡Œåˆ†ç±»ã€‚æ˜¯ä¸€ç§æ—¶é—´å¤æ‚åº¦ä¸º O(n) ä¸”åœ¨ä¸å¯é¿å…éå†æ¯ä¸€ä¸ªå…ƒç´ å¹¶ä¸”æ’åºçš„æƒ…å†µä¸‹æ•ˆç‡æœ€å¥½çš„ä¸€ç§æ’åºç®—æ³•ã€‚å¹³å‡æ—¶é—´å¤æ‚åº¦ï¼š O(N+n)ï¼Œæœ€åç©ºé—´å¤æ‚åº¦ï¼šO(N * n)ï¼ŒN ä¸ºå¾…æ’åºæ•°ç»„ä¸­æœ€å¤§çš„å…ƒç´ å€¼ï¼Œn ä¸ºå…³é”®å­—ä¸ªæ•°ã€‚

é¸½å·¢æ’åºåªæœ‰åœ¨å·®å€¼ï¼ˆæˆ–è€…å¯è¢«æ˜ å°„åœ¨å·®å€¼ï¼‰å¾ˆå°çš„èŒƒå›´å†…çš„æ•°å€¼æ’åºçš„æƒ…å†µä¸‹å®ç”¨ã€‚å½“æ¶‰åŠåˆ°å¤šä¸ªä¸ç›¸ç­‰çš„å…ƒç´ ï¼Œä¸”å°†è¿™äº›å…ƒç´ æ”¾åœ¨åŒä¸€ä¸ª"é¸½å·¢"çš„æ—¶å€™ï¼Œç®—æ³•çš„æ•ˆç‡ä¼šæœ‰æ‰€é™ä½ã€‚ä¸€èˆ¬å¾ˆå°‘ä½¿ç”¨é¸½å·¢æ’åºï¼Œå› ä¸ºå®ƒå¾ˆå°‘å¯ä»¥åœ¨çµæ´»æ€§ï¼Œç®€ä¾¿æ€§ï¼Œå°¤æ˜¯é€Ÿåº¦ä¸Šè¶…è¿‡å…¶ä»–æ’åºç®—æ³•ï¼Œäº‹å®ä¸Šï¼Œæ¡¶æ’åºæ˜¯é¸½å·¢æ’åºçš„ä¸€ç§å½’çº³ç»“æœï¼Œæ¡¶æ’åºè¾ƒé¸½å·¢æ’åºæ›´åŠ çš„å®ç”¨ã€‚

å…·ä½“ä¸¾ä¾‹æ¥è¯´ï¼Œç°åœ¨æœ‰ä¸€ç»„æ•°æ® [7, 36, 65, 56, 33, 60, 110, 42, 42, 94, 59, 22, 83, 84, 63, 77, 67, 101]ï¼Œæ€ä¹ˆå¯¹å…¶æŒ‰ä»å°åˆ°å¤§é¡ºåºæ’åºå‘¢ï¼Ÿ

æ“ä½œæ­¥éª¤è¯´æ˜ï¼š

1. è®¾ç½®æ¡¶çš„æ•°é‡ä¸º 5 ä¸ªç©ºæ¡¶ï¼Œæ‰¾åˆ°æœ€å¤§å€¼ 110ï¼Œæœ€å°å€¼ 7ï¼Œè®¡ç®—æ¯ä¸ªæ¡¶çš„åŒºé—´èŒƒå›´ 20.8=(110-7+1)/5ï¼Œè¿™å°±æ˜¯æ˜ å°„å‡½æ•°ã€‚
2. éå†åŸå§‹æ•°æ®ï¼Œæ”¾åˆ°å¯¹åº”çš„æ¡¶ä¸­ï¼Œç”¨é“¾è¡¨ç»“æ„ã€‚é¦–å…ˆè®¡ç®—æ•°å­— 7 å¯¹åº”æ¡¶ç´¢å¼• 0 = floor((7 â€“ 7) / 20.8)ï¼Œä¾æ¬¡ç±»æ¨ã€‚
3. å½“å‘åŒä¸€ä¸ªæ¡¶å†æ¬¡æ’å…¥æ•°æ®æ—¶ï¼Œæ¯”è¾ƒå¤§å°åæ’å…¥é€‚å½“ä½ç½®ï¼Œå³æ’åºæ’å…¥ä¿æŒé¡ºåºã€‚
4. åˆå¹¶éç©ºçš„æ¡¶ï¼ŒæŒ‰ä»å·¦åˆ°å³çš„é¡ºåºåˆå¹¶ 0ï¼Œ1ï¼Œ2ï¼Œ3ï¼Œ4 æ¡¶ï¼Œ å¾—åˆ°æ¡¶æ’åºçš„ç»“æ„ã€‚

ç”±æ­¤å¯è§ï¼Œå¯¹æ¡¶ä¸­å…ƒç´ çš„æ’åºå¯¹æ•ˆç‡å½±å“æœ€å¤§ï¼Œé€‰æ‹©ä½•ç§æ¯”è¾ƒæ’åºç®—æ³•å¯¹äºæ€§èƒ½çš„å½±å“è‡³å…³é‡è¦ã€‚

å½“è¾“å…¥çš„æ•°æ®å¯ä»¥å‡åŒ€çš„åˆ†é…åˆ°æ¯ä¸€ä¸ªæ¡¶ä¸­ï¼Œè¿™ç§çŠ¶æ€å°±æ˜¯æœ€æœ‰æ•ˆç‡çš„ã€‚

å½“è¾“å…¥çš„æ•°æ®è¾ƒé›†ä¸­åœ°åˆ†é…åˆ°äº†åŒä¸€ä¸ªæ¡¶ä¸­ï¼Œè¿™ç§çŠ¶æ€å°±æ˜¯æœ€æ²¡æœ‰æ•ˆç‡çš„ã€‚

ä»¥ä¸‹ä¸º TypeScript å®ç°ï¼ŒæŸ¥æ‰¾ Min Max å’Œåˆå¹¶ Buckets æ—¶å·æ‡’äº†ï¼Œç›´æ¥ä½¿ç”¨äº†è„šæœ¬æä¾›çš„æ•°ç»„æ–¹æ³•ï¼ŒåŒ…æ‹¬ forEach å’Œ concatï¼Œè¿˜æœ‰ insertBucket æ–¹æ³•ä¸­åˆ©ç”¨äº†è„šæœ¬çš„åŠ¨æ€ç‰¹æ€§ï¼Œå¦‚æœä½¿ç”¨ C è¯­è¨€å®ç°å°±è¦ä½¿ç”¨ç›¸åº”çš„åŠ¨æ€å†…å­˜åˆ†é…ï¼Œæˆ–è€…å®ç°é“¾è¡¨ç»“æ„ã€‚

è¿™é‡Œ insertBucket ä½¿ç”¨ BubbleSortï¼Œå¹¶ä¸èƒ½å®ç°æ•°ç»„å¿«é€Ÿæ’å…¥ï¼Œä¸èƒ½çœŸå®åæ˜ ç®—æ³•æ•ˆç‡ï¼Œæ¢ç”¨é“¾è¡¨ä¹Ÿæ²¡æœ‰è´¨çš„åŒºåˆ«ï¼Œå› ä¸ºé“¾è¡¨æ˜¯å®ç°æœ‰åºã€æ–¹ä¾¿å¢åˆ ï¼Œä½†ä¸æ˜¯å®ç°å¿«é€Ÿæ’å…¥çš„ç»“æ„ã€‚

```js
let result = bucketSort(genArray(20));
console.log(result.join(","));
verify(result);

function genArray(len: number){
  let arr = [], scale = len*10;
  while(len-->0) arr.push(Math.ceil(Math.random()*scale));
  console.log(arr.join(","));
  return arr;
}

function verify(a: number[]){
    for(let i=0; i<a.length; i++){
        if (a[i]>a[i+1]) {
            return console.log(a.slice(0, i).join(",").replace(/./g, " ") + "^ VERIFY FAILURE AT "+i);
        }
    }
    return console.log("VERIFY PASSED!");
}

function bucketSort(a: number[]){
    let min:number = a[0], max:number = a[0];
    a.forEach((it)=>{
        if (max<it){
            max = it;
        } else if (min>it){
            min = it;
        }
    });

    // fill([]) will cause cross reference
    let buckets:number[][] = new Array(10).fill(0).map( it => []);
    let interval = (max - min + 1)/10;

    for(let i=0; i<a.length; i++){
        let key = Math.floor((a[i]-min)/interval);
        insertBucket(buckets[key], a[i]);
    }
    let bucket:number[] = [];
    buckets.forEach(bk => {
        bucket = bucket.concat(bk);
    });
    return bucket;
}

function insertBucket(a:number[], v:number) {
    let N = a.length, k = 0;
    while (k < N) {
        if( v<a[k] ){
            let t = a[k];
            a[k] = v;
            v = t;
        }
        k ++;
    }
    a.push(v);
}
```

æµ‹è¯•è¾“å‡ºï¼š

    157,5,60,94,103,26,3,113,82,168,12,171,18,154,191,18,56,32,173,110
    3,5,12,18,18,26,32,56,60,82,94,103,110,113,154,157,168,171,173,191
    VERIFY PASSED!
    179,47,173,108,188,4,120,6,192,133,165,7,92,73,62,82,164,170,151,181
    4,6,7,47,62,73,82,92,108,120,133,151,164,165,170,173,179,181,188,192
    VERIFY PASSED!


# ğŸš© Radix sort
- http://notepad.yehyeh.net/Content/Algorithm/Sort/Radix/Radix.php
- https://www.cs.usfca.edu/~galles/visualization/RadixSort.html
- https://www.runoob.com/w3cnote/radix-sort.html
- ã€æ¬è¿ã€‘50å¤šç§æ’åºç®—æ³•çš„å¯è§†åŒ– https://www.bilibili.com/video/BV1bg4y1q7es

åŸºæ•°æ’åºæ˜¯ä¸€ç§éæ¯”è¾ƒå‹æ•´æ•°æ’åºç®—æ³•ï¼Œå…¶åŸç†æ˜¯å°†æ•´æ•°æŒ‰ä¸ªä½ã€ç™¾ä½ã€åƒä½ç­‰åˆ‡å‰²æˆå•ç‹¬çš„æ•°å­—ï¼Œç„¶åæŒ‰æ¯ä½æ•°åˆ†åˆ«æ¯”è¾ƒã€‚ç”±äºæ•´æ•°ä¹Ÿå¯ä»¥è¡¨è¾¾å­—ç¬¦ä¸²ï¼ˆæ¯”å¦‚åå­—æˆ–æ—¥æœŸï¼‰å’Œç‰¹å®šæ ¼å¼çš„æµ®ç‚¹æ•°ï¼Œæ‰€ä»¥åŸºæ•°æ’åºä¹Ÿä¸ä»…ä»…ç”¨äºæ•´æ•°æ’åºã€‚

å¯¹æ¯”ä¸€ä¸‹åŸºæ•°æ’åºã€è®¡æ•°æ’åºã€æ¡¶æ’åºï¼Œè¿™ä¸‰ç§æ’åºç®—æ³•éƒ½åˆ©ç”¨äº†æ¡¶çš„æ¦‚å¿µï¼Œä½†å¯¹æ¡¶çš„ä½¿ç”¨æ–¹æ³•ä¸Šæœ‰æ˜æ˜¾å·®å¼‚ï¼š

- åŸºæ•°æ’åºï¼šæ ¹æ®é”®å€¼çš„æ¯ä½æ•°å­—æ¥åˆ†é…æ¡¶ï¼›
- è®¡æ•°æ’åºï¼šæ¯ä¸ªæ¡¶åªå­˜å‚¨å•ä¸€é”®å€¼ï¼›
- æ¡¶æ’åºï¼šæ¯ä¸ªæ¡¶å­˜å‚¨ä¸€å®šèŒƒå›´çš„æ•°å€¼ï¼›

åŸºæ•°æ’åºæ–¹æ³•æ˜¯å¾ˆå¥‡å¦™çš„æ’åºæ€ç»´ï¼Œå®ƒåŸºäºè¿™æ ·ä¸€ä¸ªäº‹å®ï¼š

- 0 ~ 9 è¿™å‡ ä¸ªæ•°æ˜¯æœ‰åºçš„ï¼Œè€Œä¸”æ•°é‡å›ºå®šï¼›
- ä¸€ä¸ªæ•°å€¼è¶Šå¤§ï¼Œå…¶ä½æ•°å°±è¶Šå¤šï¼Œè€Œæ•°å€¼è¶Šå°ï¼Œä½æ•°ä¹Ÿè¶Šå°‘ï¼Œä¹Ÿå¯ä»¥çœ‹ä½œå‰ç¼€ 0ï¼›

åŸºæ•°æ’åºæ˜¯ä¸€ä¸ªå¤šå›åˆåˆ¶çš„æ’åºç®—æ³•ï¼Œå¯ä»¥çœ‹ä½œå›åˆåˆ¶æ¯”èµ›ï¼Œå¹¶ä¸”ä¸ç”¨è¿›è¡Œæ¯”è¾ƒç›´æ¥å°†æ•°å­—ä½œä¸ºæ•°ç»„ç´¢å¼•ä½¿ç”¨ï¼š

- ç¬¬ 1 å›åˆæ˜¯ä¸ªä½æ•°å­—åœ¨ PKï¼ŒæŒ‰æ•°å­—å¤§å°ä»å·¦åˆ°å³æ’åºï¼Œå°†å¯¹åº”æ•°æ®å­˜æ”¾åœ¨ä¸´æ—¶æ•°ç»„ä¸­ï¼Œå¾…å…¨éƒ¨æ¯”è¾ƒå®Œæ¯•ï¼Œå†æŒ‰ä»å·¦åˆ°å³ï¼Œä»å¤§åˆ°å°çš„é¡ºåºå›å¡«ã€‚
- ç¬¬ 2 å›åˆæ˜¯åä½æ•°å­—åœ¨ PKï¼ŒåŒæ ·æŒ‰æ•°å­—å¤§å°ä»å·¦åˆ°å³æ’åºï¼ŒæŒ‰å‰é¢çš„é€»è¾‘åŒæ ·æ“ä½œã€‚
- é‡å¤æ“ä½œï¼Œç›´åˆ°æ‰€æœ‰æ•°ä¸å†æœ‰æ›´é«˜çš„ä½æ•°è¦å¤„ç†ã€‚

è¿™æ ·ç»è¿‡å¤šå›åˆæ’åºåï¼Œé‚£äº›åœ¨ç¬¬ä¸€å›åˆå¯èƒ½ç”±äºæ•°å­—å¤§è€Œæ’åœ¨åé¢çš„æ•°ï¼Œåœ¨ç»è¿‡ç¬¬ 2 å›åˆ PK åå°±ä¼šè‡ªåŠ¨è¢«æ”¾åˆ°å‰é¢ï¼Œæœ€åå°†ä¸´æ—¶æ•°ç»„æŒ‰é¡ºåºå›å¡«åå¾—åˆ°çš„å°±æ˜¯å·²æ’åºæ•°æ®ã€‚

æ‰€ä»¥è¿™ä¸ªç®—æ³•é¦–å…ˆéœ€è¦æ‰¾åˆ°æœ€å¤§å€¼ï¼Œå¹¶ç¡®å®šæ¯”è¾ƒå›åˆæ•°ï¼Œå†åˆ›å»º 10 ä¸ªä¸´æ—¶æ•°ç»„ç”¨äºå­˜æ”¾æ•°æ®ã€‚

åŸºæ•°æ’åºç®—æ³•æœ‰ä¸¤ä¸ªæ–¹å‘é€‰æ‹©ï¼š

- LSD(Least Significant Digital) ç”±å³åˆ°å·¦ï¼Œä¾‹å¦‚ï¼Œ173ï¼ŒæŒ‰ 3, 7, 1 é¡ºåºä¾†è¿›è¡Œã€‚
- MSD(Most Significant Digital) ç”±å·¦åˆ°å³ï¼Œä¾‹å¦‚ï¼Œ173ï¼ŒæŒ‰ 1, 7, 3 é¡ºåºä¾†è¿›è¡Œã€‚

Radix Sort Visualzation æ¼”ç¤ºä¸­çš„åšæ³•æ˜¯çœå†…å­˜çš„åšæ³•ï¼Œè¿™ç§ç®—æ³•æ¯”ä½¿ç”¨æ¡¶æ’æ›´æœ‰æ•ˆç‡ã€‚å®ƒåªä½¿ç”¨äº†ä¸€ä¸ªå¸¦æœ‰ 10 ä¸ªå…ƒç´ çš„ Counter æ•°ç»„æ¥ä¿å­˜è®¡æ•°ï¼Œå³å½“å‰å›åˆä¸­å¯¹åº”æ•°å­—å‡ºç°çš„æ¬¡æ•°ï¼Œç„¶åï¼Œå†åˆ›å»ºå’ŒåŸæ•°æ®ç›¸åŒå¤§å°çš„ Temp æ•°ç»„ä½œä¸ºä¸´æ—¶æ’åºä½¿ç”¨ã€‚

ç®—æ³•æ­¥éª¤å¦‚ä¸‹ï¼š

- å¾ªç¯å¤„ç†æ¯ä¸ªæ•°æ®ï¼ŒæŒ‰å½“å‰å¤„ç†çš„ä½æ•°è®¾ç½® Counter ä¸­ç›¸åº”çš„æ¬¡æ•°ï¼›
- è®¡ç®— Counter æ•°ç»„çš„ä¸€ç»´å‰ç¼€å’Œï¼Œå³å°†å‰ä¸€å…ƒç´ çš„å€¼ç´¯åŠ åˆ°åä¸€å…ƒç´ ä¸Šï¼Œå¤„ç†å®Œæˆåï¼ŒCounter å’Œå…ƒç´ åŒ…å«çš„å€¼å°±æ˜¯å¯¹åº” Temp æ•°ç»„çš„åˆ†éš”ç‚¹ï¼Œä¹Ÿå°±æ˜¯ä½ç½®ç¼–ç ã€‚
- ç„¶åå†å¾ªç¯æ¯ä¸ªæ•°æ®ï¼Œå¹¶æŒ‰å½“å‰å¤„ç†çš„ä½ç½®å¯¹åº”æ‰¾åˆ° Counter ä¸Šä½ç½®ç¼–ç ï¼Œå¹¶è®¾ç½®åˆ° Temp æ•°ç»„ä¸Šå¯¹åº”çš„ä½ç½®ã€‚
- ç„¶åï¼ŒCounter ç›¸åº”çš„å…ƒç´ å€¼å‡ 1ï¼Œè¡¨ç¤ºç»™ä¸‹ä¸€ä¸ªæ•°æ®æ›´æ–°åœ°å€ã€‚
- å¤„ç†å®Œæ‰€æœ‰æ•°æ®ï¼Œç„¶åç›´æ¥å°† Temp æ•°ç»„å¤åˆ¶å›åŸæ•°ç»„ï¼Œè¿›å…¥ä¸‹ä¸€å›åˆã€‚å…¶å®ä¹Ÿå¯ä»¥ä¸å›å¡«ï¼Œå°† Temp ä¸åŸæ•°ç»„äº’æ¢è§’è‰²ä¹Ÿä¸€æ ·ã€‚

è¿™ç§å¤„ç†æ–¹å¼çš„å·§å¦™åœ¨äºåœ°å€ç¼–ç çš„å¤„ç†ï¼Œè¿™æ ·å°±åªå¯ä»¥å®ç° O(2N) çš„ç©ºé—´å¤æ‚åº¦ï¼Œå¹¶ä¸”ä¸ç”¨ç»è¿‡æ¡¶æ’çš„æ¶ˆè€—ï¼Œæ›´åŠ é«˜æ•ˆã€‚

ä»¥ä¸‹ä¸º TypeScript å®ç°ï¼š

```js
let result = radixSort(genArray(20));
console.log(result.join(","));
verify(result);

function genArray(len: number){
  let arr = [], scale = len*10;
  while(len-->0) arr.push(Math.ceil(Math.random()*scale));
  console.log(arr.join(","));
  return arr;
}

function verify(a: number[]){
    for(let i=0; i<a.length; i++){
        if (a[i]>a[i+1]) {
            return console.log(a.slice(0, i).join(",").replace(/./g, " ") + "^ VERIFY FAILURE AT "+i);
        }
    }
    return console.log("VERIFY PASSED!");
}

function radixSort(a: number[]){
    let temp = [];
    let buckets = new Array(10).fill(0);

    let max = a[0];
    for(let i=a.length-1; i>0; i--){
        if(max<a[i]) max = a[i];
    }

    let div = 1;
    let len = a.length;
    while(max/div>=1){
        for(let i=len-1; i>=0; i--){
            let radix = Math.floor((a[i]/div)%10);
            // temp[i] = radix;
            buckets[radix] ++;
        }
        for(let i=1; i<buckets.length; i++){
            buckets[i] += buckets[i-1];
        }
        for(let i=len-1; i>=0; i--){
            let r = Math.floor((a[i]/div)%10);
            let p = --buckets[r];
            temp[p] = a[i];
        }
        console.log(temp.join(","));
        a = temp.slice(0);
        buckets.fill(0);
        div *= 10;
    }
    return temp;
}
```

æµ‹è¯•è¾“å‡ºï¼š

    71,106,79,161,37,154,95,200,70,121,17,74,154,40,123,108,41,195,151,74
    200,70,40,71,161,121,41,151,123,154,74,154,74,95,195,106,37,17,108,79
    200,106,108,17,121,123,37,40,41,151,154,154,161,70,71,74,74,79,95,195
    17,37,40,41,70,71,74,74,79,95,106,108,121,123,151,154,154,161,195,200
    17,37,40,41,70,71,74,74,79,95,106,108,121,123,151,154,154,161,195,200
    VERIFY PASSED!
    10,173,100,191,168,8,18,190,33,133,53,145,52,72,83,57,184,172,166,82
    10,100,190,191,52,72,172,82,173,33,133,53,83,184,145,166,57,168,8,18
    100,8,10,18,33,133,145,52,53,57,166,168,72,172,173,82,83,184,190,191
    8,10,18,33,52,53,57,72,82,83,100,133,145,166,168,172,173,184,190,191
    8,10,18,33,52,53,57,72,82,83,100,133,145,166,168,172,173,184,190,191
    VERIFY PASSED!

ä»æ•°æ®çš„å„ä¸ªå›åˆçš„æ’åºï¼Œå¯ä»¥å¾ˆæ˜æ˜¾çœ‹åˆ° 0 ~ 9 è¿™åä¸ªæ•°å­—æ‰€èµ·çš„ä½œç”¨åœ¨æ¯ä¸ªå›åˆéƒ½ä¸ä¸€æ ·ã€‚

ç¼–å†™è„šæœ¬æ—¶éœ€è¦æ³¨æ„ï¼Œæ•°å€¼æ˜¯æŒ‰æµ®ç‚¹ç±»å‹è¿›è¡Œçš„è¿ç®—ï¼Œéœ€è¦ä½¿ç”¨ Math.floor æˆ– ceil ç­‰æ–¹æ³•æˆªæ–­å°æ•°ã€‚å¦å¤–ï¼Œæ•°ç»„å¤åˆ¶ä½¿ç”¨ slice é¿å…ç›´æ¥èµ‹å€¼å¼•èµ·äº¤å‰å¼•ç”¨ï¼Œè¿˜æœ‰æ¸…ç©ºæ•°ç»„å…ƒç´ çš„æ•°æ®ç”¨ fill å¡«å……æ–¹æ³•ã€‚

æµ‹è¯•äº†ä¸€ç»„éšæœºæ•°æ®çš„ç”Ÿæˆä¸æ’åºï¼Œä¸è¾“å‡ºï¼Œä¸»æœºé…ç½® Surface Book2/i7-8650U 1.90 Ghz/16GB/GTX 1050ï¼ŒBucketSort ä¼°è®¡å— BubbleSort å½±å“ï¼Œå¹¶ä¸èƒ½å®ç°æ•°ç»„å¿«é€Ÿæ’å…¥ï¼Œæ•°æ®ä¸èƒ½çœŸå®åæ˜ ç®—æ³•æ•ˆç‡ï¼Œæ¢ç”¨é“¾è¡¨ä¹Ÿæ²¡æœ‰è´¨çš„åŒºåˆ«ï¼Œå› ä¸ºé“¾è¡¨æ˜¯å®ç°æœ‰åºã€æ–¹ä¾¿å¢åˆ ï¼Œä½†ä¸æ˜¯å®ç°å¿«é€Ÿæ’å…¥çš„ç»“æ„ã€‚

```js
console.time();
let result = radixSort(genArray(10000000));
verify(result);
console.timeEnd();
```

    | Numbers  | RadixSort | BucketSort | HeapSort | MergeSort |
    |----------|-----------|------------|----------|-----------|
    |   200000 | 136ms     | 2619ms     | 70ms     | 109ms     |
    |  2000000 | 1034ms    | -          | 598ms    | 826ms     |
    |  5000000 | 2001ms    | -          | 1924ms   | 2241ms    |
    | 10000000 | 4237ms    | -          | 4495ms   | 4671ms    |

å„ç§æ’åºç®—æ³•å¤æ‚åº¦ï¼š

    | æ’åºæ–¹æ³• | æ—¶é—´å¤æ‚åº¦ï¼ˆå¹³å‡ï¼‰   | æ—¶é—´å¤æ‚åº¦ï¼ˆæœ€åï¼‰   | æ—¶é—´å¤æ‚åº¦ï¼ˆæœ€å¥½ï¼‰ | ç©ºé—´å¤æ‚åº¦ | ç¨³å®šæ€§ |
    |----------|--------------------|--------------------|--------------------|------------|--------|
    | å†’æ³¡æ’åº | O(n2)O(n2)         | O(n2)              | O(n)               | O(1)       | ç¨³å®š   |
    | é€‰æ‹©æ’åº | O(n2)O(n2)         | O(n2)              | O(n2)              | O(1)       | ä¸ç¨³å®š |
    | æ’å…¥æ’åº | O(n2)O(n2)         | O(n2)              | O(n)               | O(1)       | ç¨³å®š   |
    | å¸Œå°”æ’åº | O(n1.3)            | O(n2)              | O(n)               | O(1)       | ä¸ç¨³å®š |
    | å¿«é€Ÿæ’åº | O(nlog2n)          | O(n2)              | O(nlog2n)          | O(nlog2n)  | ä¸ç¨³å®š |
    | å½’å¹¶æ’åº | O(nlog2n)          | O(nlog2n)          | O(nlog2n)          | O(n)       | ç¨³å®š   |
    | å †æ’åº   | O(nlog2n)          | O(nlog2n)          | O(nlog2n)          | O(1)       | ä¸ç¨³å®š |
    | åŸºæ•°æ’åº | O(nâˆ—k)             | O(nâˆ—k)             | O(nâˆ—k)             | O(n+k)     | ç¨³å®š   |

1. ä¼ ç»Ÿç®€å•æ’åºç¡®å®å½“æ•°æ®é‡å¾ˆå°çš„æ—¶å€™ä¹Ÿè¡¨ç°ä¸é”™ï¼Œä½†å½“æ•°æ®é‡å¢å¤§ï¼Œå…¶è€—æ—¶ä¹Ÿå¢å¤§ååˆ†æ˜æ˜¾ï¼› 
2. å†’æ³¡ï¼Œæ’å…¥ï¼Œé€‰æ‹©ä¸‰ç§æ’åºä¸­ï¼Œå½“æ•°æ®é‡å¾ˆå¤§æ—¶ï¼Œé€‰æ‹©æ’åºæ€§èƒ½ä¼šæ›´å¥½ï¼› 
3. å †æ’ï¼Œå¸Œå°”ï¼Œå½’å¹¶ï¼Œå¿«æ’å‡ ç§æ’åºç®—æ³•ä¹Ÿè¡¨ç°ä¸é”™ï¼Œæºäºå…¶æ—¶é—´å¤æ‚åº¦è¾¾åˆ°äº†O(nlogn)O(nlogn)ï¼› 
4. éšæœºå¿«é€Ÿæ’åºæ€§èƒ½ç¡®å®è¡¨ç°ååˆ†äº®çœ¼ï¼Œç”šè‡³æœ‰æ—¶æ¯”åŸºæ•°æ’åºå’Œæ¡¶æ’åºè¿˜å¥½ï¼Œè¿™å¯èƒ½ä¹Ÿæ˜¯å¿«æ’å¦‚æ­¤æµè¡Œçš„åŸå› ï¼› 
5. çº¿æ€§æ’åºä¸­è®¡æ•°æ’åºè¡¨ç°æœ€å¥½ï¼Œä½†ä»–ä»¬çš„é™åˆ¶ä¹Ÿæ¯”è¾ƒæ˜æ˜¾ï¼Œåªèƒ½å¤„ç†èŒƒå›´å†…çš„æ­£æ•´æ•°ã€‚


# ğŸš© Timsort
- https://www.geeksforgeeks.org/timsort/
- https://sikasjc.github.io/2018/07/25/timsort/
- https://www.cnblogs.com/sunshuyi/p/12680918.html
- https://github.com/python/cpython/blob/main/Objects/listobject.c
- https://new.qq.com/omn/20191022/20191022A03W3Z00.html
- https://www.infopulse.com/blog/timsort-sorting-algorithm/

Timsort æ˜¯ä¸€ç§æ··åˆã€ç¨³å®šé«˜æ•ˆçš„æ’åºç®—æ³•ï¼Œæºè‡ªåˆå¹¶æ’åºå’Œæ’å…¥æ’åºï¼Œæ—¨åœ¨å¾ˆå¥½åœ°å¤„ç†å¤šç§çœŸå®æ•°æ®ã€‚å®ƒç”± Tim Peters äº 2002 å¹´åœ¨ Python ç¼–ç¨‹è¯­è¨€ä¸­å®æ–½ä½¿ç”¨ã€‚

è¯¥ç®—æ³•æŸ¥æ‰¾å·²ç»æ’åºçš„æ•°æ®çš„å­åºåˆ—ï¼Œå¹¶ä½¿å…¶æ›´æœ‰æ•ˆåœ°å¯¹å…¶ä½™éƒ¨åˆ†è¿›è¡Œæ’åºã€‚è¿™æ˜¯é€šè¿‡å°†å·²è¯†åˆ«çš„å­åºåˆ—ï¼Œç§°ä¸º runï¼Œä¸ç°æœ‰è¿è¡Œåˆå¹¶ç›´åˆ°æ»¡è¶³æŸäº›æ¡ä»¶æ¥å®Œæˆçš„ã€‚ä»ç‰ˆæœ¬ Python 2.3 å¼€å§‹ï¼ŒTimsort ä¸€ç›´æ˜¯ Python çš„æ ‡å‡†æ’åºç®—æ³•ã€‚å¦‚ä»Šï¼ŒTimsort å·²æ˜¯æ˜¯ Pythonã€ Javaã€ Android å¹³å° å’Œ GNU Octave çš„é»˜è®¤æ’åºç®—æ³•ã€‚

é’ˆå¯¹ç°å®ä¸­éœ€è¦æ’åºçš„æ•°æ®åˆ†æçœ‹ï¼Œå¤§å¤šæ•°æ®é€šå¸¸æ˜¯æœ‰éƒ¨åˆ†å·²ç»æ’å¥½åºçš„æ•°æ®å—ï¼ŒTimsort å°±åˆ©ç”¨äº†è¿™ä¸€ç‰¹ç‚¹ã€‚è¿™äº›å·²æ’åºçš„å…ƒç´ è¢«ç§°ä¸ºâ€œnatural runsâ€ã€‚ç®—æ³•ä¼šéå†è¦æ’åºçš„æ•°æ®ï¼Œå°†å…ƒç´ æ”¶é›†åˆ° run ä¸­ï¼ŒåŒæ—¶å°†è¿™äº› run åˆå¹¶åœ¨ä¸€èµ·ã€‚

æ‰€è°“ run å°±æ˜¯ä¸€ä¸ªè¿ç»­ä¸Šå‡ï¼ŒåŒ…æ‹¬ä¸¤ä¸ªå…ƒç´ ç›¸ç­‰çš„æƒ…å†µï¼Œæˆ–è€…ä¸¥æ ¼é€’å‡çš„å­ä¸²ã€‚

æ¯”å¦‚å¯¹äºåºåˆ— [1,3,4,3,2,4,7,8]ï¼Œå…¶ä¸­æœ‰ä¸‰ä¸ª runï¼Œç¬¬ä¸€ä¸ªæ˜¯ [1,3,4]ï¼Œç¬¬äºŒä¸ªæ˜¯ [3,2]ï¼Œç¬¬ä¸‰ä¸ªæ˜¯ [4,7,8]ï¼Œè¿™ä¸‰ä¸ª run éƒ½æ˜¯å•è°ƒçš„ï¼Œåœ¨å®é™…ç¨‹åºä¸­å¯¹äºå•è°ƒé€’å‡çš„ run ä¼šè¢«åè½¬æˆé€’å¢çš„åºåˆ—ã€‚


å¦‚æœæ•°ç»„çš„å…ƒç´ ä¸ªæ•°å°‘äº 64ï¼ŒTimsort å°†æ‰§è¡Œæ’å…¥æ’åºã€‚å¦‚æœåˆ—è¡¨çš„å…ƒç´ ä¸ªæ•°å¤§äº 64ï¼ŒTimsort ä¼šå…ˆéå†åˆ—è¡¨ï¼ŒæŸ¥æ‰¾ä¸¥æ ¼é€’å¢æˆ–é€’å‡çš„éƒ¨åˆ†ã€‚å¦‚æœè¿™ä¸ªéƒ¨åˆ†æ˜¯é€’å‡çš„ï¼Œå°±åè½¬è¿™ä¸ªéƒ¨åˆ†ã€‚

æ’å…¥æ’åºæ˜¯ä¸€ç§å¯¹å°æ•°æ®é›†æœ€ä¸ºæœ‰æ•ˆçš„æ’åºç®—æ³•ï¼Œå®ƒåœ¨æ’åºè¾ƒå¤§çš„æ•°æ®é›†æ—¶é€Ÿåº¦å¾ˆæ…¢ï¼Œä½†åœ¨æ’åºè¾ƒå°çš„æ•°æ®é›†æ—¶é€Ÿåº¦å¾ˆå¿«ã€‚

åœ¨æ’åºæ—¶ï¼ŒTimsort è¿­ä»£æ•°æ®å…ƒç´ ï¼Œå°†å…¶æ”¾åˆ°ä¸åŒçš„ run é‡Œï¼ŒåŒæ—¶é’ˆå¯¹è¿™äº› run ï¼ŒæŒ‰è§„åˆ™è¿›è¡Œåˆå¹¶è‡³åªå‰©ä¸€ä¸ªï¼Œåˆ™è¿™ä¸ªä»…å‰©çš„ run å³ä¸ºæ’å¥½åºçš„ç»“æœã€‚

æ¢å¥è¯è¯´ï¼Œå°±æ˜¯åˆ†æå¾…æ’åºæ•°æ®ï¼Œæ ¹æ®å…¶æœ¬èº«çš„ç‰¹ç‚¹ï¼Œå°†æ’åºå¥½çš„ï¼ˆä¸ç®¡æ˜¯é¡ºåºè¿˜æ˜¯é€†åºï¼‰å­åºåˆ—çš„åˆ†ä¸ºä¸€ä¸ªä¸ª run åˆ†åŒºï¼Œå½“ç„¶ï¼Œè¿™ä¸ªåˆ†åŒº run ä¹Ÿå­˜åœ¨ä¸€å®šçš„çº¦æŸï¼Œå³æ ¹æ®åºåˆ—ä¼šäº§ç”Ÿä¸€ä¸ª minrunï¼Œå¦‚æœåŸå§‹çš„ run å°äº minrun çš„é•¿åº¦ï¼Œç”¨æ’å…¥æ’åºæ‰©å…… runï¼Œç›´åˆ°è¾¾åˆ°æ¡ä»¶ï¼Œä¹‹åä½¿ç”¨å½’å¹¶æ’åºæ¥åˆå¹¶å¤šä¸ª runã€‚

æœ¬è´¨ä¸Š Timsort æ˜¯ä¸€ä¸ªç»è¿‡å¤§é‡ä¼˜åŒ–çš„å½’å¹¶æ’åºï¼Œè€Œå½’å¹¶æ’åºå·²ç»åˆ°è¾¾äº†æœ€åæƒ…å†µä¸‹ï¼Œæ¯”è¾ƒæ’åºç®—æ³•æ—¶é—´å¤æ‚åº¦çš„ä¸‹ç•Œï¼Œæ‰€ä»¥åœ¨æœ€åçš„æƒ…å†µä¸‹ï¼ŒTimsort æ—¶é—´å¤æ‚åº¦ä¸º O(n log n)ã€‚åœ¨æœ€ä½³æƒ…å†µä¸‹ï¼Œå³è¾“å…¥å·²ç»æ’å¥½åºï¼Œå®ƒåˆ™ä»¥çº¿æ€§æ—¶é—´è¿è¡Œ O(n)ï¼Œå¯ä»¥çœ‹å‡º Timsort æ˜¯ç›®å‰æœ€å¥½çš„æ’åºæ–¹å¼ã€‚


# ğŸš© Bitonic sort
- https://www.geeksforgeeks.org/bitonic-sort/
- https://www.inf.hs-flensburg.de/lang/algorithmen/sortieren/bitonic/bitonicen.htm
- https://www.inf.hs-flensburg.de/lang/algorithmen/sortieren/networks/sortieren.htm

åŒè°ƒæ’åºæ˜¯æ•°æ®æ— å…³çš„æ’åºï¼Œå³æ¯”è¾ƒé¡ºåºä¸æ•°æ®æ— å…³çš„æ’åºæ–¹æ³•ï¼Œç‰¹åˆ«é€‚åˆ GPUã€fpga åšå¹¶è¡Œè®¡ç®—ã€‚

é¦–å…ˆï¼ŒåŒè°ƒåºåˆ—çš„å°±æ˜¯æ»¡è¶³ä»¥ä¸‹å…³ç³»çš„æ•°ï¼š

    x0 <= x1 â€¦..<= xi  and  xi >= xi+1â€¦.. >= xn-1 

ä¹Ÿå°±æ˜¯åœ¨ä¸­é—´æŸä¸ªä½ç½®å¾€ä¸¤è¾¹å•è°ƒé€’å‡ï¼Œå¯ä»¥çœ‹ä½œç”±ä¸¤ä¸ªå•è°ƒçš„å­é›†æ„æˆï¼Œç§°è¿™ä¸ªåºåˆ—æ˜¯ Bitonicï¼ˆåŒè°ƒçš„ï¼‰ã€‚

å¦å¤–ï¼Œå¤§ä½¬ä»¬å·²ç»è¯æ˜ï¼Œå¦‚æœä¸€ä¸ª sort network å¯ä»¥å¯¹ä»»æ„ 0-1 åºåˆ—è¿›è¡Œæ­£ç¡®åœ°æ’åºï¼Œåˆ™å¯ä»¥å¯¹æ™®é€šçš„åºåˆ—æ’åºä¹Ÿæ˜¯æ­£ç¡®çš„ã€‚

ä¸€ä¸ªåºåˆ—é‡Œé¢æ‰€æœ‰å…ƒç´ çš„å€¼ä¸º 0 æˆ– 1ï¼Œåˆ™è¿™ä¸ªåºåˆ—æ˜¯ 0-1 åºåˆ—ã€‚

    Basic concepts
    Definition:  A sequence a = a0, ..., an-1  with  ai element {0, 1}, i = 0, ..., n-1 is called 0-1-sequence.

å½“ä¸€ä¸ª 0-1 åºåˆ—åªåŒ…å«æœ€å¤šä¸¤æ¬¡ 0 å’Œ 1 ä¹‹é—´çš„è½¬æ¢æ—¶ï¼Œè¿™ä¸ªåºåˆ—æ˜¯ 0-1-Bitonic åºåˆ—ã€‚

æ™®é€šçš„æ•°æ®å¯ä»¥é€šåˆ†æ²»æ³•ï¼Œé€’å½’åœ°ä»æ— åºçŠ¶æ€è½¬æ¢ä¸ºåŒè°ƒåºåˆ—ï¼Œå¦‚æœæ•°æ®é•¿åº¦ä¸æ˜¯ 2 çš„å¹‚ï¼Œå¯ä»¥é‡‡å–ç‰¹æ®Šå€¼å¡«å……ï¼Œæœ€åå†è¿‡æ»¤æ‰ã€‚æœ‰æ—¶å€™ padding çš„ç©ºé—´æ¯”è¾ƒå¤§ï¼Œå¦‚æ•°ç»„é•¿åº¦ä¸º 1025 ä¸ªå…ƒç´ ï¼Œåˆ™éœ€è¦å¡«å……åˆ° 2048 ä¸ªï¼Œæµªè´¹äº†å¤§é‡ç©ºé—´ã€‚ä½†æ˜¯è¿™ç§æ–¹æ³•æ¯”è¾ƒå®¹æ˜“è½¬åŒ–ä¸ºé’ˆå¯¹ GPU çš„å¹¶è¡Œç®—æ³•ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œå¹¶è¡Œè®¡ç®—ä¸­å¸¸ä½¿ç”¨åŒè°ƒæ’åºæ¥å¯¹ä¸€äº›è¾ƒå°çš„æ•°ç»„è¿›è¡Œæ’åºã€‚ å¦‚æœä¸è€ƒè™‘ paddingï¼Œç”¨æ›´å¤æ‚çš„å¤„ç†æ–¹æ³•ï¼Œå‚è€ƒ 4 n!=2^k çš„åŒè°ƒæ’åºç½‘ç»œã€‚

å¾—åˆ°åŒè°ƒåºåˆ—åï¼Œæ¥ä¸‹æ¥çš„è¿‡ç¨‹å°±æ˜¯ Bitonic mergeï¼Œå®é™…ä¸Šä¹Ÿæ˜¯ divide and conquer ç­–ç•¥ã€‚


# ğŸš© Interpolation Search
- https://www.tutorialspoint.com/data_structures_algorithms/interpolation_search_algorithm.htm
- Binary Search Tree, AVL Tree https://visualgo.net/en/bst

åœ¨æœ‰åºæ•°æ®æœç´¢ç®—æ³•ä¸­ï¼ŒLinear search æ˜¯ç›´è§‚ä½†ä¹Ÿæ˜¯æœ€æ²¡æœ‰æ•ˆç‡çš„ï¼Œå®ƒä»ç¬¬ä¸€ä¸ªæ•°æ®æŸ¥æ‰¾ä¸€åˆ°åˆ°æ•°æ®ç»“æŸï¼Œå¦‚æœåˆšå¥½ç›®æ ‡æ˜¯æœ€åä¸€ä¸ªï¼Œé‚£ä¹ˆå°±æ˜¯å®ƒçš„æœ€å·®è¡¨ç°ï¼Œç®—æ³•å¤æ‚åº¦ä¸º O(n)ã€‚

å¦‚æœåœ¨å¤§é‡æ•°æ®çš„æŸ¥æ‰¾ï¼Œä½¿ç”¨äºŒåˆ†æ³•æŸ¥æ‰¾ Binary Searchï¼Œåˆ™å¯ä»¥å¤§å¤§èŠ‚çœæ—¶é—´ã€‚

    mid = Lo + (Hi - Lo) / 2

é¦–å…ˆï¼Œå°†æ•°æ®å¯¹åŠåˆ†æˆä¸¤éƒ¨åˆ†ï¼Œç›®æ ‡çš„å€¼è½åœ¨å“ªä¸ªèŒƒå›´å°±æ‰¾å“ªä¸ªéƒ¨åˆ†çš„æ•°æ®ï¼Œé‡å¤è¿›è¡Œæ•°æ®çš„æ‹†åˆ†ï¼Œç›´åˆ°æ‰¾åˆ°ç›®æ ‡ï¼Œå¤æ‚åº¦ä¸º ÎŸ(log n)ï¼Œè¡¨ç°ç›¸å½“å¥½äº†ã€‚

äºŒåˆ†æ³•çš„æœç´¢è¿‡ç¨‹ç›¸å½“äºå»ºç«‹äº†ä¸€ä¸ªäºŒå‰æ ‘ï¼Œæ‰€ä»¥å«åš BST - Binary Search Treeã€‚

ä½†æ˜¯å¯¹æœ‰åºæ•°æ®çš„åˆ©ç”¨è¿˜ä¸å¤Ÿå……åˆ†ï¼Œè€Œæ’å€¼æŸ¥æ‰¾ Interpolation Search åˆ™åˆ©ç”¨æ’å€¼ç®—æ³•æ¥åˆ†æ‹†æ•°æ®ï¼Œä½¿å¾—åˆ†æ‹†ç‚¹æ›´åˆç†ã€‚

    mid = Lo + ((Hi - Lo) / (A[Hi] - A[Lo])) * (X - A[Lo])

    where âˆ’
       A    = list
       Lo   = Lowest index of the list
       Hi   = Highest index of the list
       A[n] = Value stored at index n in the list

æ’å€¼ç®—æ³•é€šè¿‡è®¡ç®—å·®å€¼ç©ºé—´ï¼ŒæŒ‘é€‰å‡ºæ›´é è¿‘ç›®æ ‡å€¼ X çš„æ‹†åˆ†ç‚¹ï¼Œè¿™æ ·ä¹Ÿå°±é—´æ¥åœ°å‡å°‘äº†æ¯”è¾ƒæ¬¡æ•°ã€‚

åŒæ ·æ€æƒ³è¡ç”Ÿå‡ºæ¥çš„è¿˜æœ‰åˆ©ç”¨ Fibonacci Series æ¥å®šæ‹†åˆ†ç‚¹ï¼Œè£´æ³¢é‚£å¥‘æ•°åˆ—æœ€é‡è¦çš„ä¸€ä¸ªæ€§è´¨æ˜¯æ¯ä¸ªæ•°éƒ½ç­‰äºå‰ä¸¤ä¸ªæ•°ä¹‹å’Œï¼Œæ»¡è¶³ F(0)=1ï¼ŒF(1)=1, F(n)=F(n-1)+F(n-2) (n>=2ï¼ŒnâˆˆN)ï¼Œä¸¤ä¸ªç›¸é‚»é¡¹çš„æ¯”å€¼ä¼šé€æ¸é€¼è¿‘ 0.618 é»„é‡‘åˆ†å‰²æ¯”å€¼ï¼Œè¿™ä¸ªç¥å¥‡çš„æ•°åˆ—åœ¨è‡ªç„¶ç•Œå¹¿æ³›å­˜åœ¨ã€‚

å¯¹äºè¡¨é•¿è¾ƒå¤§ï¼Œè€Œå…³é”®å­—åˆ†å¸ƒåˆæ¯”è¾ƒå‡åŒ€çš„æŸ¥æ‰¾è¡¨æ¥è¯´ï¼Œæ’å€¼æŸ¥æ‰¾ç®—æ³•çš„å¹³å‡æ€§èƒ½æ¯”æŠ˜åŠæŸ¥æ‰¾è¦å¥½çš„å¤šã€‚ä½†æ˜¯ï¼Œæ•°ç»„ä¸­å¦‚æœåˆ†å¸ƒéå¸¸ä¸å‡åŒ€ï¼Œé‚£ä¹ˆæ’å€¼æŸ¥æ‰¾æœªå¿…æ˜¯å¾ˆåˆé€‚çš„é€‰æ‹©ã€‚

ç®—æ³•æ—¶é—´å¤æ‚åº¦ ÎŸ(log (log n)) ä¼˜äºäºŒåˆ†æ³•æœç´¢ ÎŸ(log n)ã€‚

å¦å¤–ï¼Œè®¡ç®—åˆ†å¸ƒéœ€è¦ç”¨æµ®ç‚¹æ•°ï¼Œå¦‚æœæ•°æ®ä¸­æœ‰é‡å¤å€¼ï¼Œé‚£ä¹ˆå…¬å¼å°†å¯èƒ½å‡ºç°é™¤ 0 å¼‚å¸¸ï¼Œæ­£å¥½é€šè¿‡ä¸€ä¸ªå°æ•°åå·®å¯ä»¥è§£å†³ç±»å‹è½¬æ¢å’Œé™¤ 0 é—®é¢˜ã€‚

```c
#include <stdio.h>
#include <string.h>

// Interpolation Search
int isearch(char a[], int n, char x){
    int lo = 0, mi, hi = n-1;
    printf("%s\n", a);
    while (lo<hi) {
        mi = lo + (hi-lo)/(a[hi] - a[lo] + .1)*(x - a[lo]);
        printf("%*c%*c%*c<---try to find %c\n", 
            lo+1, '[', mi-lo, '^', hi-mi, ']', x);
        if (a[mi]==x){
            return mi;
        } else if (a[mi]<x) {
            lo = mi + 1;
        } else {
            hi = mi - 1;
        }
    }
    return a[lo] == x? lo : -1;
}

// Insertion sort
int isort(char a[], int n){
    char k;
    for (size_t i = 1; i < n; i++)
    {
        k = a[i];
        for (size_t j = i; j > 0; j--)
        {
            if (k < a[j-1]) {
                a[j] = a[j-1];
                a[j-1] = k;
            }
        }
    }
    return n;
}

int main()
{
    char s[0xff] = "You would supposed to type some words then a character:";
    char key;
    printf("%s\n", s);
    scanf(" %[^\n] %c", s, &key);
    isort(s, strlen(s));
    int k = isearch(s, strlen(s), key);
    printf("%s\n", s);
    printf("%*c[key at %d]", k+1, key, k);
    return 0;
}
```

æµ‹è¯•è¾“å‡ºï¼š

    You would supposed to type some words then a character:
    a
             :Yaaaccdddeeeeehhlmnooooooppprrrssssttttuuuwwy
    [                                      ^              ]<---try to find a
    [                             ^       ]<---try to find a
    [                      ^     ]<---try to find a
    [                   ^ ]<---try to find a
    [                ^ ]<---try to find a
    [              ^]<---try to find a
    [            ^]<---try to find a
             :Yaaaccdddeeeeehhlmnooooooppprrrssssttttuuuwwy
                 a[key at 13]


# ğŸš© Violent Search æš´åŠ›æœç´¢ç®—æ³•

æš´åŠ›æœç´¢ç®—æ³•ï¼ŒBrute Force Searchingï¼Œæ˜¯ä¸¤å±‚ç®€å•çš„å¾ªç¯ç»“æ„ã€‚å…ˆä» S ç¬¬ 1 ä¸ªå­—ç¬¦ä½ç½®å¼€å§‹é€å­—ä¸ P å­—ç¬¦æ¯”è¾ƒï¼Œå‘ç°ä¸åŒ¹é…æ—¶ï¼Œå†ä» S ç¬¬ 2 ä¸ªå­—ç¬¦ä½ç½®å¼€å§‹é€å­—æ¯”è¾ƒï¼Œä¾æ¬¡å¤„ç†ç›´åˆ°æ•´ä¸ª S å­—ç¬¦ä¸²å¤„ç†å®Œæˆï¼Œç®—æ³•å¤æ‚åº¦æ˜¯ O(mn)ã€‚

```py
class Violent:

    def search(self, s, p):
        for i in range(0, len(s)-len(p)+1):
            for j in range(0, len(p)):
                if s[i+j] != p[j]:
                    break
                elif j+1 == len(p):
                    print(f"""\
                    Pattern: {p}
                     Search: {s}
                         at: {"^"*len(p):>{i+len(p)}} col:{i}
                    """)
                    return i
        return -1
print(f"__name__: {__name__}")
ismain = __name__ == '__main__'

# if ismain:

v = Violent()
v.search(p="Type",    s="git clone git@github.com:Microsoft/TypeScript-Sublime-Plugin")
v.search(p="Complexy",s="Denial of Service via Algorithmic Complexity Attack")
v.search(p="Hash",    s="New Second-Preimage Attacks on Hash Functions")
v.search(p="4th",     s="Robert Sedgewick - Algorithms, 4th Edition")
v.search(p="Closed",  s="Open Hash Tables (Closed Addressing)")
v.search(p="Open",    s="Closed Hash Tables (Open Addressing)")
v.search(p="using",   s="Closed Hash Tables, using buckets")
v.search(p="3rd",     s="Introduction to Algorithms 3rd Edition")
v.search(p="loog",    s="loon")
v.search(p="loon",    s="loon")
v.search(p="loon",    s="loo")
```

è¾“å‡ºæµ‹è¯•ç»“æœï¼š

    Pattern: Type
     Search: git clone git@github.com:Microsoft/TypeScript-Sublime-Plugin
         at:                                    ^^^^ col:35
    
    Pattern: Hash
     Search: New Second-Preimage Attacks on Hash Functions
         at:                                ^^^^ col:31
    
    Pattern: 4th
     Search: Robert Sedgewick - Algorithms, 4th Edition
         at:                                ^^^ col:31
    
    Pattern: Closed
     Search: Open Hash Tables (Closed Addressing)
         at:                   ^^^^^^ col:18
    
    Pattern: Open
     Search: Closed Hash Tables (Open Addressing)
         at:                     ^^^^ col:20
    
    Pattern: using
     Search: Closed Hash Tables, using buckets
         at:                     ^^^^^ col:20
    
    Pattern: 3rd
     Search: Introduction to Algorithms 3rd Edition
         at:                            ^^^ col:27


# ğŸš© KMP Search
- Algorithms 4th - 5.3 Substring Search
- æœ‰é™çŠ¶æ€æœºä¹‹ KMP å­—ç¬¦åŒ¹é…ç®—æ³• https://labuladong.gitee.io/algo/3/27/99/
- KMP - Algorithm Visualizer https://algorithm-visualizer.org/dynamic-programming/knuth-morris-pratts-string-search
- 1143. æœ€é•¿å…¬å…±å­åºåˆ— https://leetcode-cn.com/problems/longest-common-subsequence/
- 14. æœ€é•¿å…¬å…±å‰ç¼€ https://leetcode-cn.com/problems/longest-common-prefix/
- https://algorithm-visualizer.org/dynamic-programming/z-string-search

KMP å­—ç¬¦ä¸²æŸ¥æ‰¾ç®—æ³•ï¼Œç”¨äºåœ¨ä¸€ä¸ªæ–‡æœ¬ä¸² S å†…æŸ¥æ‰¾ä¸€ä¸ªæ¨¡å¼ä¸² P çš„å‡ºç°ä½ç½®ï¼Œè¿™ä¸ªç®—æ³•ç”± Donald Knuthã€James H. Morrisã€Vaughan Pratt ä¸‰äººäº 1977 å¹´è”åˆå‘è¡¨ï¼Œæ•…å–è¿™ 3 äººçš„å§“æ°å‘½åæ­¤ç®—æ³•ã€‚

Knuth D.E., Morris J.H., and Pratt V.R., Fast pattern matching in strings, SIAM Journal on Computing, 6(2), 323-350, 1977.


æš´åŠ›æœç´¢ç®—æ³•ä¸­ï¼Œæ˜¯ä¸¤å±‚ç®€å•çš„å¾ªç¯ç»“æ„ã€‚å…ˆä» S ç¬¬ 1 ä¸ªå­—ç¬¦ä½ç½®å¼€å§‹é€å­—ä¸ P å­—ç¬¦æ¯”è¾ƒï¼Œå‘ç°ä¸åŒ¹é…æ—¶ï¼Œå†ä» S ç¬¬ 2 ä¸ªå­—ç¬¦ä½ç½®å¼€å§‹é€å­—æ¯”è¾ƒï¼Œä¾æ¬¡å¤„ç†ç›´åˆ°æ•´ä¸ª S å­—ç¬¦ä¸²å¤„ç†å®Œæˆï¼Œç®—æ³•å¤æ‚åº¦æ˜¯ O(mn)ã€‚

å¦‚æœå­—ç¬¦ä¸²ä¸­é‡å¤çš„å­—ç¬¦æ¯”è¾ƒå¤šï¼Œæˆ–è€… P ä¸­æœ‰æ›´åˆé€‚çš„åŒ¹é…ä½ç½®å´æ²¡æœ‰ç›¸åº”å¤„ç†ï¼Œè¯¥ç®—æ³•å°±æ˜¾å¾—å¾ˆè ¢ï¼Œæ¯”å¦‚å¦‚ä¸‹æ•°æ®ï¼š

    s = "shellllama" p = "llam"

KMP ç®—æ³•çš„ä¸åŒä¹‹å¤„åœ¨äºï¼Œå®ƒä¼šèŠ±è´¹ç©ºé—´æ¥è®°å½•ä¸€äº›ä¿¡æ¯ï¼Œè¿™æ˜¯ä¸€å¤„åé¦ˆæœºåˆ¶ï¼Œæ˜¯åŠ¨æ€è§„åˆ’ç®—æ³•çš„ç‰¹æ€§ï¼Œåœ¨ä¸Šè¿°æƒ…å†µä¸­å°±ä¼šæ˜¾å¾—å¾ˆèªæ˜ã€‚

ç›¸æ¯”æš´åŠ›çš„é€å­—æœç´¢ï¼ŒKMP ç®—æ³•ä¸ç”¨å¯¹ S å­—ç¬¦çš„æ¯ä¸€ä¸ªä½ç½®çš„å­—ç¬¦ä¸²è¿›è¡Œä¸€è½®æ¯”è¾ƒï¼Œæ°¸ä¸å›é€€å¤„ç† S è¾“å…¥å­—ç¬¦ä¸²ã€‚å¦ä¸€ä¸ªè§’åº¦æ¥è¯´ï¼ŒKMP ç®—æ³•å›é€€çš„æ˜¯ PMT æŸ¥è¯¢è¡¨çš„æ•°æ®ã€‚

å¦‚æœæ–‡æœ¬ä¸²çš„é•¿åº¦ä¸º nï¼Œæ¨¡å¼ä¸²çš„é•¿åº¦ä¸º mï¼Œé‚£ä¹ˆåŒ¹é…è¿‡ç¨‹çš„æ—¶é—´å¤æ‚åº¦ä¸º O(n)ï¼Œæ•´ä½“æ—¶é—´å¤æ‚åº¦ä¸º O(m + n)ã€‚

è€Œ KMP ç®—æ³•é€šè¿‡å¼•å…¥ä¸€ä¸ªå‰ç¼€å’Œåç¼€çš„å…¬å…±å­—ä¸²é•¿åº¦è¡¨ï¼Œä¹Ÿç§°ä¸ºéƒ¨åˆ†åŒ¹é…è¡¨ PMT - Partial Match Tableï¼Œè¿™ä¸ªè¡¨çš„æ„å»ºå°±æ˜¯ KMP ç®—æ³•çš„æ ¸å¿ƒæ€æƒ³ï¼šç›‘æµ‹åˆ°ä¸åŒ¹é…æ—¶ï¼ŒP æä¾›è¶³å¤Ÿçš„ä¿¡æ¯æ¥ç¡®å®šä¸‹ä¸€æ¬¡åº”è¯¥ä»ä»€ä¹ˆä½ç½®å¼€å§‹æœç´¢ã€‚è·³è¿‡ä¸€äº›ä¸å¿…è¦æ¯”è¾ƒçš„å­—ç¬¦ä¸²ï¼Œä»è€Œæé«˜äº†æœç´¢æ•ˆç‡ï¼Œæ‰€ä»¥æŠŠæ„å»ºå‡ºæ¥çš„è¿™ä¸ªè¡¨ç§°ä½œ next_table æˆ–è€… dp_table éƒ½æ˜¯åˆé€‚çš„ã€‚

é¦–å…ˆäº†è§£ä¸€äº›æ¦‚å¿µï¼š

å‰ç¼€ï¼šä»¥ç¬¬ä¸€ä¸ªå­—ç¬¦å¼€å§‹ï¼Œä½†æ˜¯ä¸åŒ…å«æœ€åçš„å­—ç¬¦ï¼Œåˆ—å¦‚ "abc" çš„å‰ç¼€æœ‰ "a" å’Œ "ab"ã€‚
åç¼€ï¼šä»¥æœ€åçš„å­—ç¬¦å¼€å§‹ï¼Œä½†æ˜¯ä¸åŒ…å«ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼Œåˆ—å¦‚ "abc" çš„åç¼€æœ‰ "c" å’Œ "bc"ã€‚
æœ€é•¿å…¬å…±å­ä¸²ï¼šLongest Common Substring æ˜¯æŒ‡ä¸¤ä¸ªå­—ç¬¦ä¸²ä¸­æœ€é•¿è¿ç»­ç›¸åŒçš„å­ä¸²é•¿åº¦ã€‚ ä¾‹å¦‚ â€œ1AB2345CDâ€ å’Œ â€œ12345EFâ€ çš„æœ€é•¿å…¬å…±å­ä¸²ä¸º â€œ2345â€ï¼Œè¿™ä¹Ÿæ˜¯ä¸€é“ç®—æ³•é¢˜ç›®ã€‚
å­åºåˆ—ï¼šç”±åŸå­—ç¬¦ä¸²åœ¨ä¸æ”¹å˜å­—ç¬¦çš„ç›¸å¯¹é¡ºåºçš„æƒ…å†µä¸‹åˆ é™¤æŸäº›å­—ç¬¦ï¼ˆä¹Ÿå¯ä»¥ä¸åˆ é™¤ä»»ä½•å­—ç¬¦ï¼‰åç»„æˆçš„æ–°å­—ç¬¦ä¸²ã€‚ä¾‹å¦‚ï¼Œ"ace" æ˜¯ "abcde" çš„å­åºåˆ—ï¼Œä½† "aec" ä¸æ˜¯ "abcde" çš„å­åºåˆ—ã€‚

ä»¥ Algorithm Visualizer æ¼”ç¤ºçš„æ•°æ®ä¸ºä¾‹ï¼š

    S = "AAAABAABAAAABAAABAAAA";
    P = "AAAABAAA";

    S = "Monkey like banana.";
    P = "anana";

é¦–å…ˆï¼ŒKMP éœ€è¦æ ¹æ® P ç”Ÿæˆä¸€ä¸ª PMT æ•°æ®è¡¨ï¼Œä»¥ä¾›åŒ¹é…å¤±è´¥æ—¶ç¡®å®šä¸‹ä¸€ä¸ªä½ç½®ï¼ŒPMT ç”Ÿæˆè§„åˆ™ï¼Œä»¥å‰ç¼€å…¬å…±å­—ä¸²é•¿åº¦ä¸ºä¾‹ï¼ŒPMT æ¯ä¸ªå€¼æ˜¯ P å¯¹åº”ä½ç½®çš„åŒ¹é…å‰ç¼€å­—ç¬¦æ•°é‡ï¼Œå‰ç¼€é•¿åº¦ï¼Œæ‰€ä»¥å¼€å§‹ä½ç½®æ€»æ˜¯ 0ï¼š

    PMT: 0 1 2 3 0 1 2 3      | Group
      P: A A A A B A A A      |   A

    PMT: 0 1 0 0              | Group
      P: l l a m              |   B

    PMT: 0 0 1 2              | Group
      P: n a n a              |   C

ä»¥ä¸Š Aã€Bã€C ä¸‰ç»„æ•°æ®äº§ç”Ÿçš„ PMT å¦‚ä½•ä½¿ç”¨å‘¢ï¼Ÿè¿˜æ˜¯æ‹¿ P å»åŒ¹é… S å­—ç¬¦ä¸²ï¼Œä»å¤´å¼€å§‹ï¼Œä»¥ B ç»„æ•°æ®ä¸ºä¾‹ï¼š

    S: s h e l l l l a m a
       1 2 3 4 5 6 7 8 9 0

ä» S å¼€å¤´æ£€ç´¢ï¼Œç›´åˆ°ä½ç½® 4 å‡ºç°ç¬¬ä¸€ä¸ªåŒ¹é…å­—ç¬¦ï¼Œç»§ç»­ä½ç½® 5 å‡ºç°ç¬¬äºŒä¸ªåŒ¹é…å­—ç¬¦ã€‚æ³¨æ„ï¼Œæ¯å‡ºç°åŒ¹é…è¡¨ç¤º PMT æ•°æ®è·å–çš„ä½ç½®çŠ¶æ€ä¹Ÿåœ¨å˜åŒ–ã€‚

æ£€ç´¢ç¬¬ 6 ä¸ªå­—ç¬¦æ—¶ï¼Œå‡ºç°ä¸åŒ¹é…ï¼Œè¿™æ—¶ PMT çš„æ•°æ®å°±èµ·ä½œç”¨äº†ã€‚å¦‚æœæ˜¯ Violent Search ç®—æ³•ï¼Œè‚¯å®šæ˜¯æ¨å€’é‡æ¥ï¼Œä» S çš„ç¬¬ 2 ä¸ªå­—ç¬¦å¼€å§‹æ£€ç´¢ã€‚ä½†æ˜¯ KMP ç®—æ³•å› ä¸ºæå‰å‡†å¤‡å¥½äº† PMT æ•°æ®ï¼Œç¬¬ä¸€æ¬¡å‡ºç°ä¸åŒ¹é…æ—¶ï¼ŒçŸ¥é“å¯ä»¥ä» PMT è¡¨æŸ¥è¯¢åˆ°å‰é¢å¯ä»¥åŒ¹é…çš„å‰ç¼€é•¿åº¦ï¼Œå³ä¸Šä¸€ä¸ªä½ç½®æœ‰ä¸€ä¸ªç›®æ ‡å‰ç¼€é•¿åº¦ä¸º 1 çš„åŒ¹é…å­ä¸²ã€‚

ä»è€Œå¯ä»¥ç›´æ¥ä¿®æ”¹ PMT çŠ¶æ€ï¼Œæˆ–è€…å«åšå›é€€ PMT æ•°æ®æŒ‡é’ˆä½ç½®ï¼Œä»è€Œé¿å…äº†åœ¨ S å­—ç¬¦ä¸²ä¸­è¿›è¡Œå›é€€æ“ä½œã€‚é€šå¸¸ï¼Œè¾“å…¥æ•°æ®ä¸­ S ä¼šæ¯” P å¤§å¾—å¤šï¼Œè¿™ä¹Ÿå°±æ˜¯ KMP çš„ç®—æ³•ä¼˜ç‚¹æ‰€åœ¨ï¼šé«˜é¢‘å‰ç¼€å­—ç¬¦ä¸²çš„ä¼˜åŒ–æœç´¢ç®—æ³•ã€‚

```py
class KnuthMorrisPratt:

    def gen_next(self, p):

        k = 0 # prefix pointer
        l = 1 # postfix pointer
        _next = [0] * len(p)
        for l in range(l, len(p)):
            while k>0 and p[k] != p[l]:
                k = _next[k-1]
            if p[l] == p[k]: k += 1
            _next[l] = k
        return _next

    def search(self, s, p):
        global ismain

        _next = self.gen_next(p)

        j = 0 # pattern pointer
        i = 0 # string pointer
        for i in range(i, len(s)):
            while j>0 and p[j] != s[i]:
                j = _next[j-1]
            if p[j] == s[i]:
                j += 1
            if j == len(p):
                ismain and print(f"""\
                    PMT: {_next}
                      P: {p}
                      S: {s}
                     at: {"^"*len(p):>{i+1}}|<== end pos: {i}
                    """)
                return i - j + 1
        return -1

ismain = True or __name__ == '__main__'
if ismain:
    v = KnuthMorrisPratt()
    v.search(p="llam",    s="shellllama")
    v.search(p="bib",     s="bilibili")
    v.search(p="bibi",    s="ilibili")
    v.search(p="AAAABAAA",s="AAAABAABAAAABAAABAAAA")
    v.search(p="loog",    s="loon")
    v.search(p="loon",    s="loon")
    v.search(p="loon",    s="loo")
```

# ğŸš© Jitter Search

æˆ‘æ›¾ç»ä»¥ä¸æ­£ç¡®çš„å§¿åŠ¿å­¦ä¹ ç ”ç©¶äº† KMPï¼Œä½†æ˜¯è¢«ä¼—è¯´çº·çº­æ–‡ç« æå¤´è„‘è¿·ç³Šäº†ã€‚çœ‹ç€åˆ«äººæ’¤äº†ä¸€å †çš„åè¯æœ¯è¯­ï¼Œåˆæ˜¯åŠ¨æ€è§„åˆ’ï¼Œåˆæ˜¯çŠ¶æ€å›¾ï¼Œåˆæ˜¯çŠ¶æ€è½¬æ¢ä»€ä¹ˆçš„ï¼Œåˆ«äººå°±æ˜¯æ‡‚å¾—å¤šã€‚æ„Ÿè§‰çœŸæ˜¯åæ‚”å­¦äº†ä¸­æ–‡ï¼Œå› ä¸ºæ¯ä¸ªå­—æˆ‘éƒ½æ‡‚ï¼Œä½†å°±æ˜¯ä¸æ¸…æ¥šåˆ«äººåœ¨è¯´ä»€ä¹ˆğŸ˜‚

æˆ‘è§‰å¾— KMP æœç´¢ç®—æ³•åº”è¯¥æœ‰æ›´å¥½çš„å­¦ä¹ å§¿åŠ¿ï¼Œä¸éœ€è¦æ‰¯æ¦‚å¿µæ‰¯æœ¯è¯­ï¼Œåªéœ€è¦ç›´è§‰ï¼ŒAlgorithm Visualizer ä¹Ÿè®¸æ˜¯ä¸€ä¸ªå¯ä»¥åœ¨ç›´è§‰ä¸Šå¢åŠ ç†è§£çš„å¥½å·¥å…·ã€‚

ä»£ç ä»“åº“å¯ä»¥é€šè¿‡ä»¥ä¸‹é“¾æ¥æˆ–å…‹éš†è·å–ï¼š

    git clone git@github.com:jimboyeah/jitter_search.git
    git clone https://github.com/jimboyeah/jitter_search.git

ä»¥ä¸Šæ˜¯å­¦ä¹ åº“ Algorithms.md åˆ†ç±»æ–‡æ¡£ä¸­å…³äºå­—ç¬¦ä¸²æœç´¢ç®—æ³•çš„éƒ¨åˆ†ï¼Œå› ä¸ºæœ‰ç¦»çº¿æ•´ç†èµ„æ–™çš„ä¹ æƒ¯ï¼Œåªä¼šæŒ‘é€‰éƒ¨åˆ†å…¬å¼€å‘å¸ƒã€‚ä½¿ç”¨çš„å·¥å…·æ˜¯ Sublime Text + Gitï¼Œæ„Ÿè°¢ä½œè€…çš„å…±äº«è½¯ä»¶ï¼ŒçœŸçš„éå¸¸é«˜æ•ˆã€‚


KMP ä¸»è¦æ€æƒ³æ˜¯å½“å‡ºç°å­—ç¬¦ä¸²ä¸åŒ¹é…æ—¶ï¼Œå¯ä»¥é€šè¿‡ PMT è·é‡Šå·²ç»åŒ¹é…çš„å‰åç¼€é•¿åº¦ï¼Œå¹¶åˆ©ç”¨è¿™äº›é•¿åº¦ä¿¡æ¯é¿å…ä»å¤´å†å»åšåŒ¹é…ï¼Œè€ƒè™‘ PMT æŸ¥è¯¢è¡¨çš„æ„å»ºï¼ŒKMP æœ¬è´¨ä¸Šè¿˜æ˜¯çº¿æ€§æœç´¢ç®—æ³•ã€‚

å®é™…ä¸Šï¼ŒKMP ç®—æ³•å¹¶ä¸æ¯” C åº“å‡½æ•° strstr() å¿«å¤šå°‘ï¼Œå› ä¸ºåœ¨ç¼ºå°‘é‡å¤å‰ç¼€åç¼€çš„æƒ…å†µä¸‹ï¼ŒKMP ç®—æ³•å¹¶ä¸å ä¼˜åŠ¿ã€‚

ç³Ÿç³•çš„æƒ…å†µæ˜¯ P é•¿åº¦ S ç›¸è¿‘æ—¶ï¼Œè¿™ç§ç®—æ³•åè€Œè¡¨ç°æ›´å·®ï¼ŒèŠ±å¤§åŠ›æ°”ç”Ÿæˆçš„ PMT æ•°æ®å‡ ä¹æ²¡ä»€ä¹ˆä½œç”¨ã€‚

è€ƒè™‘åˆ° KMP ç®—æ³•çš„ä¸è¶³ï¼Œè¿™é‡Œè®¾è®¡äº†ä¸€ç§å¸¦æœ‰äºŒåˆ†æ³•æ€ç»´çš„æœç´¢ç®—æ³• Jitter Searchï¼š

- ç¬¬ä¸€æ­¥ï¼Œåœ¨ S ä¸²ä¸­æ‰¾å‡ºæ‰€æœ‰ P ç¬¬ä¸€ä¸ªå­—ç¬¦å‡ºç°çš„ä½ç½®ï¼Œè®¾ä¸º J é›†åˆï¼›
- ç¬¬äºŒæ­¥ï¼Œé€‰æ‹©ä¸€ä¸ªæ•´æ•° jitterï¼Œæ¯”å¦‚ P ä¸²é•¿åº¦çš„ä¸€åŠï¼›
- ç¬¬ä¸‰æ­¥ï¼Œå°† J é›†åˆä¸­æ‰€æœ‰ä½ç½®åç§» jitter å¤„ä¸”ä¸ P ä¸²ç›¸åº”ä½ç½®çš„å€¼ç›¸åŒçš„è¿‡æ»¤å‡ºæ¥ï¼›
- é‡å¤ï¼Œè¿™ç§æ“ä½œï¼Œç›´åˆ°å®Œæ•´åŒ¹é…ç»“æœã€‚

è¿™ç§ç®—æ³•çš„ä¼˜ç‚¹æ˜¯ç»“åˆäº†äºŒåˆ†æ³•åŠä½é¢‘è¿‡æ»¤å™¨æ€ç»´ï¼Œå¯ä»¥é«˜æ•ˆå¤„ç†éé¢‘ç¹é‡å¤çš„å­—ç¬¦ä¸²æœç´¢ã€‚ç©ºé—´ä¸Šéœ€è¦å ç”¨ä¸€ä¸ª max(S, p) çš„æ•°ç»„ç©ºé—´æ¥å­˜å‚¨ç´¢å¼•å€¼ã€‚

ä»¥ä¸‹ä¸º Python å®ç°ä»£ç ï¼Œåœ¨åº”ç”¨ä¸­ï¼Œå¯ä»¥å¯¹é¦–å­—ç¬¦é«˜é¢‘é‡å¤çš„æƒ…å†µåšä¼˜åŒ–ï¼š

```py
##
## jitter search by Jeango
## 2020/3/18 20:42
##
class JitterSearch:

    def search(self, s, p):

        if len(s)<len(p): return [-1]

        j = []
        i = 0 # string pointer
        for i in range(i, len(s)-len(p)+1):
            if p[0] == s[i]:
                j.append(i)

        jt = len(p) - 1
        while jt>0:
            for i in range(0, len(j)):
                if j[i] < 0: continue
                if s[j[i]+jt] != p[jt]:
                    j[i] = -1
            jt -=1

        ret = []
        for i in j:
            if i<0: continue
            ret.append(i)
            ismain and print(f"""\
                  P: {p}
                  S: {s}
                 at: {"^"*len(p):>{i+len(p)}} pos: {ret}
                """)
        if len(ret)==0: ret = [-1]
        return ret
        
ismain = __name__ == '__main__'

if ismain:
    v = JitterSearch()
    v.search(p="llam",    s="shellllama")
    v.search(p="ma",      s="shellllama")
    v.search(p="bib",     s="bilibili")
    v.search(p="ili",     s="bilibili")
    v.search(p="bibi",    s="ilibili")
    v.search(p="AAAABAAA",s="AAAABAABAAAABAAABAAAA")
    v.search(p="AAAA",    s="AAAABAABAAAABAAABAAAA")
    v.search(p="loog",    s="loon")
    v.search(p="loon",    s="loon")
    v.search(p="loon",    s="loo")
```

è¾“å‡ºç»“æœï¼š

      P: llam
      S: shellllama
     at:      ^^^^ pos: [5]
    
      P: ma
      S: shellllama
     at:         ^^ pos: [8]
    
      P: ili
      S: bilibili
     at:  ^^^ pos: [1]
    
      P: ili
      S: bilibili
     at:      ^^^ pos: [1, 5]
     ...


# ğŸš© Sunday Search
- 28. [Easy] implement strStr() https://leetcode-cn.com/problems/implement-strstr/
- 187. [Medium] Repeated DNA Sequences https://leetcode.com/problems/repeated-dna-sequences/

1977 å¹´ï¼ŒåŒæ—¶æœŸå¾·å…‹è¨æ–¯å¤§å­¦ Robert S. Boyer æ•™æˆå’Œ J Strother Moore æ•™æˆå‘æ˜äº†ä¸€ç§æ–°çš„å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•ï¼Œç®€ç§° BM ç®—æ³•ã€‚è¯¥ç®—æ³•ä»æ¨¡å¼ä¸²çš„å°¾éƒ¨å¼€å§‹åŒ¹é…ï¼Œä¸”æœ€åæƒ…å†µä¸‹çš„æ—¶é—´å¤æ‚åº¦ä¸º O(N)ã€‚åœ¨å®è·µä¸­ï¼Œæ¯” KMP ä»æ¨¡å¼ä¸²çš„å¼€å¤´å¼€å§‹åŒ¹é…çš„ç®—æ³•æ•ˆèƒ½é«˜ï¼Œä½†æ˜¯è¿™ä¸¤ç§ç®—æ³•éƒ½éœ€è¦å¯¹ P è¿›è¡Œé¢„å¤„ç†ï¼Œç®—æ³•å®ç°å¤æ‚ï¼Œå¤§å¤§é™ä½çš„å®ç”¨æ€§ã€‚

A fast string searching algorithm R. Boyer, J. S. Moore Published 1977 Computer Science Commun.

Daniel M. Sunday, A very fast substring search algorithm, Communications of the ACM, v.33 n.8, p.132-142, Aug. 1990

Horspool R.N., 1980, Practical fast searching in strings, Software - Practice & Experience, 10(6):501-506


ä½† BM ç®—æ³•ä¹Ÿè¿˜ä¸æ˜¯ç°æœ‰å­—ç¬¦ä¸²æŸ¥æ‰¾ç®—æ³•ä¸­æœ€å¿«çš„ç®—æ³•ï¼Œæ›´å¿«çš„æŸ¥æ‰¾ç®—æ³•æ˜¯ Sunday ç®—æ³•ï¼Œç”± Daniel M.Sunday åœ¨ 1990 å¹´æå‡ºï¼Œå®ƒçš„æ€æƒ³è·Ÿ BM ç®—æ³•å¾ˆç›¸ä¼¼ï¼Œåªä¸è¿‡ Sunday ç®—æ³•æ˜¯ä»å‰å¾€ååŒ¹é…ï¼Œé€»è¾‘å¦‚ä¸‹ï¼š

- ä»å¤´å¼€å§‹åŒ¹é…ï¼Œå¤±è´¥æ—¶å…³æ³¨çš„æ˜¯ S æ–‡æœ¬ä¸²ä¸­æŒ‰ P åŒ¹é…é•¿åº¦çš„ä¸‹ä¸€ä½ç½®çš„å­—ç¬¦ï¼Œè®°ä¸º Mï¼›
- å¦‚æœè¯¥å­—ç¬¦ä¸åœ¨æ¨¡å¼ä¸² P ä¸­ï¼Œè¿™è¡¨ç¤º M ä½ç½®ä¹‹å‰ä¸å¯èƒ½åŒ¹é…ï¼Œåˆ™ä¸‹ä¸€è½®åŒ¹é…å¼€å§‹ä½ç½®åœ¨åç§» len(P) è·ç¦»åï¼›
- å¦‚æœè¯¥å­—ç¬¦å‡ºç°åœ¨æ¨¡å¼ P **æœ€å³ä¾§ä½ç½®** Q ä¸­ï¼Œåˆ™å°† Q ä½ç½®ä¸ M ä½ç½®å¯¹é½åï¼Œå†å¼€å§‹æ–°ä¸€è½®åŒ¹é…æœç´¢ã€‚

ä»å³ä¾§æ£€ç´¢ P ä¸­çš„å­—ç¬¦ä½ç½®è¿™ä¸€ç‚¹å¾ˆå…³é”®ï¼Œè¿™å¯ä»¥ä¿è¯å¯¹é½ S åºåˆ—ä¸­çš„ M ä½ç½®æ—¶ä¸ä¼šé”™å¤±å¯èƒ½åŒ¹é…çš„å­ä¸²ã€‚

ä¾‹å¦‚ï¼Œä»¥ä¸‹ä¸€ç»„æ•°æ®ï¼š

    S = "aloong"
    P = "loon"

ç¬¬ä¸€è½®æœç´¢ l:a å°±ä¸åŒ¹é…ï¼Œæ‰€ä»¥ç›´æ¥æ‰¾åˆ° len(P) ä½ç½®çš„ â€œnâ€ï¼Œç¡®è®¤å®ƒåœ¨ P ä¸²æœ€å³ä¾§çš„ä½ç½®ï¼Œå­—ç¬¦ç´¢å¼•ä½ç½®æŒ‰ 0 ä¸ºèµ·å§‹å€¼ï¼š

    S = a l o o n g        >>>   S = a l o o n g
        ^       ^M = 4     >>>         ^     ^M = 4
    P = l o o n            >>>   P =   l o o n 
        ^     ^Q = 3       >>>         ^     ^Q = 3

ç„¶åï¼Œå†æŒ‰å¯¹é½åçš„åºåˆ—è¿›å…¥ç¬¬äºŒè½®æœç´¢ï¼Œå¦‚æœ M ä½ç½®çš„å­—ç¬¦æ²¡æœ‰å‡ºç°åœ¨ P åºåˆ—ä¸­ï¼Œè¿™ç§æƒ…å†µå°±æ˜¯æœ€å¥½å¤„ç†çš„ï¼Œä¹Ÿæ˜¯æœ€æœ‰æ•ˆç‡çš„ï¼Œç›´æ¥å°±åªå¯ä»¥è·³è¿‡ä¸€é•¿æ®µä¸å¯èƒ½åŒ¹é…çš„å­åºåˆ—ï¼Œå¤§å¤§æé«˜çš„æ£€ç´¢æ•ˆç‡ã€‚åŒæ—¶ï¼Œä¸ KMP ç­‰ç®—æ³•ç›¸æ¯”ï¼Œè¿˜å¯ä»¥ä¸äº‹å…ˆå»ºç«‹ç´¢å¼•è¡¨ã€‚

```py
class Sunday:

    def lastOf(self, p, c):
        l = len(p)
        while l>-1:
            l -= 1
            if p[l] == c:
                break
        return l

    def search(self, s, p):

        i = 0 # string pointer
        j = 0 # pattern pointer
        while i < len(s):
            if s[i] != p[j]:
                # print(f"i,j = {i},{j} p:{len(p)} s:{len(s)}")
                if i+j+1 >= len(s): break
                if (n := i+len(p)-j) >= len(s): break
                k = self.lastOf(p, s[n])
                # print(f"k = {k} n = {n} {s[n]}:p{p}")
                if k==-1:
                    i += len(p) - j + 1
                else:
                    i += len(p) - j - k
                j = 0
            elif j+1 == len(p):
                ismain and print(f"""\
                      P: {p}
                      S: {s}
                     at: {"^"*len(p):>{i+1}} end pos: {i}
                    """)
                return i-len(p) + 1
            else:
                i += 1
                j += 1
        ismain and print(f"S: {s} doesn't has P: {p}")
        return -1

ismain = __name__ == '__main__'

if __name__ == '__main__':
    v = Sunday()
    v.search(p="llam",    s="shellllama")
    v.search(p="loon",    s="aloong")
    v.search(p="loog",    s="loon")
    v.search(p="loon",    s="loon")
    v.search(p="loon",    s="loo")
    v.search(p="ma",      s="shellllama")
    v.search(p="bib",     s="bilibili")
    v.search(p="ili",     s="bilibili")
    v.search(p="bibi",    s="ilibili")
    v.search(p="AAAABAAA",s="AAAABAABAAAABAAABAAAA")
    v.search(p="AAAA",    s="AAAABAABAAAABAAABAAAA")
```

è¾“å‡ºç»“æœï¼š

      P: llam
      S: shellllama
     at:      ^^^^ end pos: 8

      P: loon
      S: aloong
     at:  ^^^^ end pos: 4

      P: loon
      S: loon
     at: ^^^^ end pos: 3

      P: ma
      S: shellllama
     at:         ^^ end pos: 9

      P: ili
      S: bilibili
     at:  ^^^ end pos: 3

      P: AAAABAAA
      S: AAAABAABAAAABAAABAAAA
     at:         ^^^^^^^^ end pos: 15

      P: AAAA
      S: AAAABAABAAAABAAABAAAA
     at: ^^^^ end pos: 3

Sunday ç®—æ³•å°±åƒåœ¨ç§»åŠ¨ä¸€ä¸ªåŒ¹é…çª—å£ï¼Œè¿ç»­åŒ¹é…æ—¶çª—å£å°±æ”¾å¤§ï¼ŒåŒ¹é…å¤±è´¥å°±æ ¹æ® M æŒ‡ç¤ºçš„å­—ç¬¦æ¥è°ƒæ•´æ–°çª—å£ä½ç½®ã€‚å®é™…ä¸Šæ˜¯å¯¹ BM ç®—æ³•çš„ä¼˜åŒ–ï¼Œå¹¶ä¸”å®ƒæ›´ç®€å•æ˜“å®ç°ã€‚

Sunday ç®—æ³•å¯ä»¥å…ˆå¯¹ P å»ºç«‹æŸ¥è¯¢è¡¨ï¼Œå†å¯¹ S è¿›è¡Œæœç´¢ã€‚é‚£è¡¨æ—¶çš„æ‰«æé¡ºåºæ²¡æœ‰é™åˆ¶ï¼Œä¸ºäº†æé«˜æœ€åæƒ…å†µä¸‹çš„ç®—æ³•æ•ˆç‡ï¼Œå¯ä»¥å¯¹ P å­—ç¬¦æŒ‰ç…§å…¶å‡ºç°çš„æ¦‚ç‡ä»å°åˆ°å¤§çš„é¡ºåºæ‰«æï¼Œè¿™æ ·èƒ½å°½æ—©åœ°ç¡®å®šå¤±é…ä¸å¦ã€‚

Horspool ç®—æ³•çš„æ€æƒ³æœ‰ä¸ªåˆ›æ–°ä¹‹å¤„å°±æ˜¯æ¨¡å¼ä¸²æ˜¯ä»å³å‘å·¦è¿›è¡Œæ¯”è¾ƒçš„ï¼Œåœ¨ä¸åŒ¹é…æƒ…å†µå¤„ç†æ‰‹æ³•å’Œ Sunday æœ‰ç±»ä¼¼ç‰¹å¾ã€‚


# ğŸš© Tests for String Search

æœ€åï¼Œæ˜¯ä»¥ä¸Šå‡ ç§å­—ç¬¦ä¸²æœç´¢ç®—æ³•çš„æµ‹è¯•ç”¨ä¾‹ï¼š

```py
from sunday_search import Sunday
from brute_search import Violent
from kmp_search import KnuthMorrisPratt as KMP
from jitter_search import JitterSearch

tests = [
    dict(c=5,  p="llam",    s="shellllama"),
    dict(c=1,  p="loon",    s="aloong"),
    dict(c=-1, p="loog",    s="loon"),
    dict(c=0,  p="loon",    s="loon"),
    dict(c=-1, p="loon",    s="loo"),
    dict(c=8,  p="ma",      s="shellllama"),
    dict(c=-1, p="bib",     s="bilibili"),
    dict(c=1,  p="ili",     s="bilibili"),
    dict(c=-1, p="bibi",    s="ilibili"),
    dict(c=8,  p="AAAABAAA",s="AAAABAABAAAABAAABAAAA"),
    dict(c=0,  p="AAAA",    s="AAAABAABAAAABAAABAAAA"),
    dict(c=35, p="Type",    s="git clone git@github.com:Microsoft/TypeScript-Sublime-Plugin"),
    dict(c=-1, p="Complexy",s="Denial of Service via Algorithmic Complexity Attack"),
    dict(c=31, p="Hash",    s="New Second-Preimage Attacks on Hash Functions"),
    dict(c=31, p="4th",     s="Robert Sedgewick - Algorithms, 4th Edition"),
    dict(c=18, p="Closed",  s="Open Hash Tables (Closed Addressing)"),
    dict(c=20, p="Open",    s="Closed Hash Tables (Open Addressing)"),
    dict(c=20, p="using",   s="Closed Hash Tables, using buckets"),
    dict(c=27, p="3rd",     s="Introduction to Algorithms 3rd Edition"),
    dict(c=5,  p="Fuzz",    s=u"æ¨¡ç³Šæµ‹è¯•ï¼ˆFuzz Testingï¼‰æ˜¯ä¸€ç§è‡ªåŠ¨åŒ–çš„è½¯ä»¶æµ‹è¯•æŠ€æœ¯"),
    dict(c=11, p="ï¼Ÿ",      s=u"è½¯ä»¶æµ‹è¯•ä¸­å¦‚ä½•æµ‹è¯•ç®—æ³•ï¼Ÿ"),
]

def search_assert(s, p, c, d):
    ret = d(s, p)
    if isinstance(ret, list) and len(ret)>0: ret = ret[0]
    if c == ret:
        if c == -1:
            print(f"âœ…pass: [{ret:>3}] ==> [{p}] is not in [{s}]")
        else:
            print(f"âœ…pass: [{ret:>3}] ==> [{p}] is in [{s}]")
    else:
        print(f"â›”fail: [{ret:>3}] expect [{c}] ==> [{p}] is in [{s}]")

def test():
    print("Sunday search test:")
    alg = Sunday()
    for case in tests:
        search_assert(**case, d=alg.search)

    print("Violent search test:")
    alg = Violent()
    for case in tests:
        search_assert(**case, d=alg.search)

    print("KMP search test:")
    alg = KMP()
    for case in tests:
        search_assert(**case, d=alg.search)

    print("Jitter search test:")
    alg = JitterSearch()
    for case in tests:
        search_assert(**case, d=alg.search)

if __name__ == '__main__':
    test()
```


# ğŸš© Repeated DNA Sequences
- 187. [Medium] Repeated DNA Sequences https://leetcode.com/problems/repeated-dna-sequences/

187. Repeated DNA Sequences
Medium

The DNA sequence is composed of a series of nucleotides abbreviated as 'A', 'C', 'G', and 'T'.

For example, "ACGAATTCCG" is a DNA sequence.
When studying DNA, it is useful to identify repeated sequences within the DNA.

Given a string s that represents a DNA sequence, return all the 10-letter-long sequences (substrings) that occur more than once in a DNA molecule. You may return the answer in any order.
 

Example 1:

    Input: s = "AAAAACCCCCAAAAACCCCCCAAAAAGGGTTT"
    Output: ["AAAAACCCCC","CCCCCAAAAA"]

Example 2:

    Input: s = "AAAAAAAAAAAAA"
    Output: ["AAAAAAAAAA"]
 

Constraints:

    1 <= s.length <= 105
    s[i] is either 'A', 'C', 'G', or 'T'.

    
æœ‰äººå·æ‡’ï¼Œå€ŸåŠ©æ ‡å‡†åº“çš„å“ˆå¸Œæ˜ å°„æ¥è®¡ç®—é‡å¤ä¸²ï¼š

```cpp
class Solution {
public:
    vector<string> findRepeatedDnaSequences(string s) 
    {
        if(s.length()<0)
        {
            return {};
        }
        unordered_map<string,int>mp;
        vector<string>v;
        //counting frequency of each substring
        for(int i=0;i<s.length();i++)
        {
            mp[s.substr(i,10)]++;
        }
        //if frequency of any substring is >1 then store
        for(auto it=mp.begin();it!=mp.end();it++)
        {
            if(it->second>1)
            {
                v.push_back(it->first);
            }
        }
        return v;
    }
};
```

Python å·æ‡’ç‰ˆæœ¬ï¼Œä½¿ç”¨é›†åˆè®¡æ•°å™¨ï¼Œå­—å…¸å¯¹è±¡æ¥å¤„ç†ï¼š

```py
import collections

class Solution:
    def findRepeatedDnaSequences(self, s: str) -> list[str]:
        seen = collections.Counter()
        for idx, char in enumerate(s[:-9]):
            substring = s[idx:idx+10]
            seen[substring]+=1
        return [substring for substring, count in seen.items() if count > 1]

s = Solution()
dna = "AAAAACCCCCAAAAACCCCCCAAAAAGGGTTT"
print( s.findRepeatedDnaSequences(dna) )
```


# ğŸš© Hash Table
- https://www.cnblogs.com/gaochundong/p/hashtable_and_perfect_hashing.html
- https://www.tutorialspoint.com/data_structures_algorithms/hash_data_structure.htm
- Hash Table (Open Addressing & Closed Addressing) https://visualgo.net/en/hashtable
- å“ˆå¸Œæ´ªæ°´æ”»å‡»ï¼ˆHash-Flooding Attackï¼‰https://www.zhihu.com/question/286529973
- Denial of Service via Algorithmic Complexity Attack https://www.usenix.org/legacy/events/sec03/tech/full_papers/crosby/crosby.pdf
- SHA256ç®—æ³•åŸç†åŠå…¶å®ç° https://zhuanlan.zhihu.com/p/94619052
- FIPS 180-2, Secure Hash Standard http://staff.ustc.edu.cn/~whli/cryptography/materials/fips180-2withchangenotice.pdf
- FIPS 180-4, Secure Hash Standard https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf
- New Second-Preimage Attacks on Hash Functions https://hal.archives-ouvertes.fr/hal-01654410/document
- Robert Sedgewick - Algorithms, 4th Edition https://algs4.cs.princeton.edu/34hash/
- Robert Sedgewick - Algorithms, 4th Edition - 3.4 Hash Tables https://algs4.cs.princeton.edu/34hash/
- Open Hash Tables (Closed Addressing) https://www.cs.usfca.edu/~galles/visualization/OpenHash.html
- Closed Hash Tables (Open Addressing) https://www.cs.usfca.edu/~galles/visualization/ClosedHash.html
- Closed Hash Tables, using buckets https://www.cs.usfca.edu/~galles/visualization/ClosedHashBucket.html
- Introduction to Algorithms 3rd Edition - 13 Hash Tables, The MIT Press

Hash Tables å“ˆå¸Œè¡¨æ˜¯åŸºäº`å“ˆå¸Œå‡½æ•°`å®ç°å¿«é€Ÿæ’å…¥ä¸æŸ¥æ‰¾çš„ä¸€ç§æ•°æ®ç»“æ„ï¼ŒåŒæ—¶åˆæ˜¯ä¸€ç§æœç´¢ç®—æ³•çš„è§£å†³æ–¹æ¡ˆï¼Œå‡ ä¹åˆ°å¤„éƒ½æœ‰å®ƒçš„èº«å½±ï¼Œä»æ“ä½œç³»ç»Ÿåº•å±‚ï¼Œåˆ°å„ç§è¯­è¨€çš„æ ‡å‡†åº“çš„å®ç°ã€‚

Hash ä¸€èˆ¬ç¿»è¯‘åšæ•£åˆ—ã€æ‚å‡‘ï¼Œæˆ–éŸ³è¯‘ä¸ºå“ˆå¸Œï¼Œæ˜¯æŠŠä»»æ„é•¿åº¦çš„è¾“å…¥ï¼Œpre-imageï¼Œé€šè¿‡æ•£åˆ—ç®—æ³•å˜æ¢æˆå›ºå®šé•¿åº¦çš„è¾“å‡ºï¼Œè¯¥è¾“å‡ºå°±æ˜¯æ•£åˆ—å€¼ã€‚è¿™ç§è½¬æ¢æ˜¯ä¸€ç§å‹ç¼©æ˜ å°„ï¼Œä¹Ÿå°±æ˜¯ï¼Œæ•£åˆ—å€¼çš„ç©ºé—´é€šå¸¸è¿œå°äºè¾“å…¥çš„ç©ºé—´ï¼Œå³ä½œç”¨åŸŸè¿œå¤§äºå€¼åŸŸï¼Œæ‰€ä»¥ä¸å¯èƒ½ä»æ•£åˆ—å€¼æ¥ç¡®å®šå”¯ä¸€çš„è¾“å…¥å€¼ã€‚

å“ˆå¸Œè¡¨çš„ç†æƒ³çš„ç›®æ ‡æ˜¯å¸Œæœ›ä¸ç»è¿‡ä»»ä½•æ¯”è¾ƒï¼Œä¸€æ¬¡å­˜å–ä¾¿èƒ½å¾—åˆ°æ‰€æŸ¥çš„è®°å½•ï¼Œè¿™å¿…é¡»å»ºç«‹å­˜å‚¨ä½ç½®å’Œ key ä¹‹é—´çš„æ˜ å°„å…³ç³»ï¼Œç”¨å‡½æ•° f(key)=hash è¡¨ç¤ºï¼Œä½¿æ¯ä¸ªå…³é”®å­—å’Œä¸€ä¸ªå”¯ä¸€çš„å­˜å‚¨ä½ç½®ç›¸å¯¹åº”ï¼Œç§°è¿™ä¸ªå¯¹åº”å…³ç³»ä¸º Hash å“ˆå¸Œå‡½æ•°ï¼Œå‡½æ•°è¿”å›çš„å€¼ç§°ä¸ºå“ˆå¸Œï¼ŒæŒ‰è¿™ä¸ªæ€æƒ³å»ºç«‹çš„è¡¨ä¸ºå“ˆå¸Œè¡¨ã€‚

å› ä¸º key å’Œæ•°æ®åœ°å€ä¹‹é—´æœ‰æ˜ å°„å…³ç³»ï¼Œæ‰€ä»¥ä¸ç®¡å“ˆå¸Œè¡¨æœ‰å¤šå°‘æ•°æ®ï¼Œå®ƒçš„æ•°æ®æ’å…¥å’Œæœç´¢å‡ ä¹å¯ä»¥åšåˆ° O(1) æ—¶é—´å¤æ‚åº¦ï¼ŒåŒ…æ‹¬ä¸€äº›åˆ é™¤æ“ä½œã€‚

åŸºäºå“ˆå¸Œè¡¨çš„è¿™ç§èƒ½åŠ›ï¼Œåˆè¡ç”Ÿäº†å…¶å®ƒæ›´å¤šçš„å“ˆå¸Œæ•°æ®ç»“æ„ä¸åº”ç”¨ï¼Œå¦‚å„ç§è¯­è¨€ä¸­çš„ HashMapã€HashSet ç­‰ï¼Œæœ€ç®€å•çš„å°±æ˜¯ä½¿ç”¨ JavaScript å¯¹è±¡æä»£çš„å­—å…¸å¯¹è±¡åŠŸèƒ½å®ç°ï¼š

```js
let dictionary = {}, key = 'k';
for(let i in new Array(10).fill(1)){
    dictionary[key+=i] = 100;
}
console.log(dictionary['k0123456']);
// 100
```

å“ˆå¸Œè¡¨ä½œä¸ºåŸºç¡€çš„æ•°æ®ç»“æ„ã€å¿«é€Ÿæ’å…¥ã€å¿«é€ŸæŸ¥æ‰¾ç­‰æŠ€æœ¯çš„åˆä½“ï¼Œæœ€æ ¸å¿ƒçš„éƒ¨åˆ†å°±æ˜¯å“ˆå¸Œå‡½æ•°ï¼Œåå­—è™½ç„¶å¥‡æ€ªï¼Œä½†æœ¬è´¨å°±å¦‚å…¶åå­—æç¤ºçš„é‚£æ ·ï¼Œæ˜¯å…³ç³»æ˜ å°„ï¼Œkey --hash()--> addressï¼Œé€šè¿‡ key ç›´æ¥è¾¾åˆ°æ•°æ®çš„ã€‚ä¸Šé¢çš„ dictionary æ¼”ç¤ºï¼Œæ˜¯å“ˆå¸Œå‡½æ•°çš„æ‰©å±•åº”ç”¨ï¼Œå®ƒçš„å½±å°„å…³ç³»å°±æ˜¯ key-valueï¼Œè¿˜æ˜¯å»ºç«‹åœ¨å“ˆå¸Œå‡½æ•°çš„åŸºç¡€åŠŸèƒ½ä¹‹ä¸Šã€‚

ç†è§£æ ¸å¿ƒçš„éƒ¨åˆ†åœ¨äºå“ˆå¸Œå‡½æ•°è¿™ä¸€ç‚¹ï¼Œå¯¹äºç†è§£å“ˆå¸Œè¡¨ã€å­—å…¸å¯¹è±¡ï¼Œæˆ–è€…å…¶å®ƒåŸºäºå“ˆå¸Œå‡½æ•°çš„æ•°æ®ç»“æ„å¾ˆé‡è¦ã€‚è¿™æ ·æ‰ä¸ä¼šä»¥å¯¹ `hash("xyz") = hash("abc")` è¿™æ ·çš„ç­‰ä»·å…³ç³»è¿·æƒ‘ï¼Œåªéœ€è¦å®šä¹‰è¿™æ ·ä¸€ä¸ªå“ˆå¸Œå‡½æ•° `hash(s) = len(s)` å³å¯ï¼Œè¿™å°±æ˜¯å“ˆå¸Œå‡½æ•°çš„ç®€å•ç†è§£ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äº "xyz" å’Œ "abc" è¿™ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œå³ä¸¤ä¸ª hash key å®ƒä»¬çš„å“ˆå¸Œå€¼ `hash code` åŒæ ·ä¸º 3ï¼Œå¦‚æœåœ¨å“ˆå¸Œè¡¨ä¸­ä¿å­˜æ•°æ®ï¼Œåˆ™ä¼šåˆ†é…åˆ°åŒä¸€ä¸ª Slot å†…ã€‚å“ˆå¸Œè¡¨çš„ Slot å¯ä»¥ç†è§£ä¸ºæ•°ç»„çš„ä¸€ä¸ªå…ƒç´ ï¼Œæˆ–è€…å‡ ä¸ªå…ƒç´ ä¸ºä¸€ç»„çš„å­˜å‚¨ç©ºé—´ã€‚å½“ä¸¤ä¸ª key å¾—åˆ°ç›¸åŒçš„å“ˆå¸Œå€¼æ—¶ï¼Œè¡¨ç¤ºå“ˆå¸Œå†²çªï¼Œå³åŒä¸€ä¸ª Slot ä¸­è¦ä¿å­˜å¤šä¸ªæ•°æ®ï¼Œåé¢å†æ¥è®¨è®ºå¦‚ä½•è§£å†³å“ˆå¸Œå†²çªé—®é¢˜ã€‚ 

å’Œä¸€èˆ¬åŸºäºæ¯”è¾ƒçš„æŸ¥æ‰¾ç®—æ³•ä¸åŒï¼Œå¦‚çº¿æ€§æŸ¥æ‰¾ã€æ’å€¼æŸ¥æ‰¾ï¼Œä¸€èˆ¬çš„çº¿æ€§è¡¨ï¼Œæ ‘ä¸­ï¼Œè®°å½•åœ¨ç»“æ„ä¸­çš„ç›¸å¯¹ä½ç½®æ˜¯éšæœºçš„ï¼Œå³å’Œè®°å½•çš„å…³é”®å­—ä¹‹é—´ä¸å­˜åœ¨ç¡®å®šçš„å…³ç³»ï¼Œå› æ­¤ï¼Œåœ¨ç»“æ„ä¸­æŸ¥æ‰¾è®°å½•æ—¶éœ€è¿›è¡Œä¸€ç³»åˆ—å’Œå…³é”®å­—çš„æ¯”è¾ƒã€‚è¿™ä¸€ç±»æŸ¥æ‰¾æ–¹æ³•å»ºç«‹åœ¨â€œæ¯”è¾ƒâ€œçš„åŸºç¡€ä¸Šï¼ŒæŸ¥æ‰¾çš„æ•ˆç‡ä¾èµ–äºæŸ¥æ‰¾è¿‡ç¨‹ä¸­æ‰€è¿›è¡Œçš„æ¯”è¾ƒæ¬¡æ•°ã€‚

å¦‚æœå“ˆå¸Œè¡¨ä¸é‡‡ç”¨ hash æ˜ å°„å‡½æ•°ï¼Œè€Œåªæ˜¯åœ¨ä¸€ä¸ªæ•°ç»„ä¸­æœç´¢çš„è¯ï¼Œä¹Ÿå°±æ˜¯æ™®é€šçš„æœç´¢ç®—æ³•ï¼Œä¸èƒ½åœ¨æŸ¥æ‰¾é€Ÿåº¦ä¸Šæœ‰è´¨çš„æå‡ã€‚å¯ä»¥è€ƒè™‘ä¸€ä¸‹ä¸ºä»€ä¹ˆä¼šæœ‰è¿™æ ·çš„å·®åˆ«ï¼Œæ•°ç»„è™½ç„¶å¯ä»¥éšæœºè¯»å–ï¼Œä½†æ•°ç»„ä¸‹æ ‡æ˜¯éšæœºçš„ï¼Œå®ƒä¸å…ƒç´ å€¼æ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œè¦é€æ¬¡è®¿é—®å„ä¸ªå…ƒç´ æ‰æ¸…æ¥šå…ƒç´ çš„å†…å®¹ã€‚è€Œå¼•å…¥ hash å‡½æ•°æ˜ å°„åï¼Œå°±é™å®šä»€ä¹ˆæ ·çš„ key å¯¹åº”ç‰¹å®šçš„ä¸‹æ ‡ä½ç½®ã€‚è¿™æ ·ï¼Œé”®å€¼å’Œ hash å‡½æ•°ï¼Œå°±å¯ä»¥å…·å¤‡ç›¸å½“çš„å…ˆéªŒçŸ¥è¯†ï¼Œæ¥é€‰æ‹©é¢„å…ˆè§„åˆ™æŒ‡å®šçš„ä¸‹æ ‡è·å–ç›¸åº”çš„å…ƒç´ ã€‚åœ¨æ²¡æœ‰ hash ç¢°æ’çš„å‰æä¸‹ï¼Œåªéœ€è¦é€‰æ‹©ä¸€æ¬¡ï¼Œå°±å¯ä»¥ä¿è¯è¯¥ä¸‹æ ‡æŒ‡å‘çš„å…ƒç´ æ˜¯æˆ‘ä»¬æƒ³è¦çš„å…ƒç´ ï¼Œè¿™ç»å¯¹æ˜¯æœç´¢æ–¹æ¡ˆçš„è·¨è¶Šå¼çš„è¿›æ­¥ã€‚

Hash å‡½æ•°çš„è®¾è®¡åŸåˆ™ï¼š

- ä¸€è‡´æ€§ï¼šå¦‚æœ a==b åˆ™ hash(a)==hash(b)ã€‚
- é«˜æ•ˆæ€§ï¼šè®¡ç®—é«˜æ•ˆä¾¿æ·ï¼ŒO(1)ï¼Œç›¸å½“ç›´æ¥ä½¿ç”¨åŠ¨æ€æ•°ç»„ï¼Œåœ¨é€‚å½“çš„æƒ…å†µä¸‹ resizeã€‚
- å‡åŒ€æ€§ï¼šå“ˆå¸Œå€¼çš„åˆ†å¸ƒè¶Šå‡åŒ€è¶Šå¥½ï¼Œè¿™å°±æ˜¯å¯¹å–æ¨¡æ³•ä¸­æ¨¡ä¸ºè´¨æ•°çš„åŸå› ã€‚

å“ˆå¸Œå‡½æ•°çš„å¦ä¸€ä¸ªé‡è¦åº”ç”¨å°±æ˜¯åœ¨å®‰å…¨é¢†åŸŸï¼Œé€šè¿‡å“ˆå¸Œå‡½æ•°ï¼Œå¦‚ sha256ï¼Œç”Ÿæˆé‚£äº›ä¸æ–¹ä¾¿æ˜æ–‡ä¿å­˜çš„æ•°æ®ï¼Œå¦‚å¯†ç ï¼Œç”Ÿæˆç›¸åº”çš„å“ˆå¸Œæ‘˜è¦åï¼Œå¹¶ä¸èƒ½é€†å‘è®¡ç®—å‡ºå¯†ç ï¼Œä½†æ˜¯åº”ç”¨ç³»ç»Ÿå¯ä»¥æ ¹æ®åŒæ ·çš„å“ˆå¸Œå‡½æ•°å»éªŒè¯å¯†ç æ˜¯ä¸æ­£ç¡®ã€‚ä¾‹å¦‚ï¼Œç”¨æˆ·ç™»é™†çš„æ—¶å€™ï¼Œè¾“å…¥å¯†ç å­—ç¬¦ä¸²ï¼Œå¦‚æœè¯¥å¯†ç å­—ç¬¦ä¸²çš„ hash å€¼ä¸ç³»ç»Ÿä¿å­˜çš„ hash å€¼ä¸€è‡´ï¼Œé‚£ä¹ˆå°±è®¤ä¸ºç”¨æˆ·è¾“å…¥äº†æ­£ç¡®çš„å¯†ç ã€‚å°±ç®—é»‘å®¢é—¯å…¥äº†æ•°æ®åº“ä¸­çš„å¯†ç è®°å½•ï¼Œä¹Ÿåªèƒ½çœ‹åˆ°å¯†ç çš„ hash å€¼ï¼Œä»è€Œä¿è¯å¯†ç çš„éšç§˜æ€§ã€‚

ä¸åŒçš„å“ˆå¸Œå‡½æ•°å…·æœ‰çš„å®‰å…¨æ€§ä¹Ÿä¸åŒï¼Œä¾‹å¦‚ç›®å‰ç ´è§£ MD5 å“ˆå¸Œå‡½æ•°åšå¾—è¾ƒå¥½çš„ç»“æœæ˜¯ç‹å°äº‘æ•™æˆï¼Œå®ç°äº† MD5 å“ˆå¸Œç¢°æ’æ”»å‡»ã€‚ç›®å‰æœ€å¥½çš„ç»“æœæ˜¯ï¼Œé’ˆå¯¹å‰ç¼€ç¢°æ’(chosen-prefix collsion)ï¼Œç¦»å®Œå…¨å®ç°æ¬¡åŸåƒæ”»å‡»è¿˜æœ‰ä¸€å®šè·ç¦»ã€‚

å“ˆå¸Œæ”»å‡»çš„éš¾åº¦åˆ†çº§ï¼š

- ç»™å‡º hash(A) æ‰¾åˆ° Aï¼Œå³é€†å‘ç ´è§£ï¼›
- åŸåƒæ”»å‡»(preimage attack)ï¼Œç»™å®š y=hash(A)ï¼Œæ‰¾åˆ° Bï¼Œä½¿å¾— hash(B)=yï¼›
- æ¬¡åŸåƒæ”»å‡»(second-preimage attack)ï¼Œç»™å®š Aï¼Œæ‰¾åˆ° Bï¼Œä½¿å¾— hash(A)=hash(B)ï¼›
- ç¢°æ’æ”»å‡»(collsion attackï¼‰ï¼Œæ‰¾åˆ° A, Bï¼Œä½¿å¾— hash(A)=hash(B)ï¼›

Hash è¡¨ä¹Ÿç¡®å®æœ‰ç¼ºç‚¹ï¼š

- åŸºäºæ•°ç»„ï¼Œä¸€æ—¦æ•°ç»„å®šä¹‰åˆ†é…å¥½å†…å­˜åï¼Œè¦æƒ³å†æ¬¡æ›´æ”¹æ˜¯æ¯”è¾ƒè€—æ—¶çš„ï¼Œé€šå¸¸éœ€è¦å‘ç³»ç»Ÿé‡æ–°ç”³è¯·å†…å­˜ç©ºé—´ã€‚
- å½“æ•°æ®å¤ªæ»¡æ—¶ï¼ŒæŸäº›ç±»å‹çš„å“ˆå¸Œè¡¨æ€§èƒ½å¯èƒ½ä¼šæ€¥å‰§ä¸‹é™ï¼Œå› æ­¤éœ€è¦ç›¸å½“å‡†ç¡®æ§åˆ¶è¡¨çš„å¤§å°ï¼Œè¿™ä¹Ÿå¯èƒ½æ¶‰åŠå†…å­˜è°ƒæ•´ã€‚
- å“ˆå¸Œè¡¨æ˜¯æ— åºçš„ï¼Œæ²¡æœ‰æ–¹ä¾¿çš„æ–¹æ³•æ¥è¿›è¡Œéå†ï¼Œå¦‚æœéœ€è¦è¿™ä¸ªåŠŸèƒ½ï¼Œä¸èƒ½ä½¿ç”¨ Hash Tableã€‚

å¦‚æœä¸éœ€è¦æŒ‰é¡ºåºè®¿é—®ï¼Œå¹¶ä¸”å¯ä»¥æå‰é¢„æµ‹æ•°æ®çš„å¤§å°ï¼Œé‚£ä¹ˆå“ˆå¸Œè¡¨åœ¨é€Ÿåº¦å’Œæ–¹ä¾¿æ€§æ–¹é¢æ˜¯æ— ä¸ä¼¦æ¯”çš„ã€‚

å“ˆå¸Œå‡½æ•°çš„è®¾è®¡ï¼š

- é™¤æ³•å“ˆå¸Œæ³•ï¼ˆThe Division Methodï¼‰ï¼Œå¯ä»¥è¡¨ç¤ºä¸º hash(key) = key mod m
- ä¹˜æ³•å“ˆå¸Œæ³•ï¼ˆThe Multiplication Methodï¼‰ï¼Œå¯ä»¥è¡¨ç¤ºä¸º hash(key) = floor( m * ( A * key mod 1) )
- å…¨åŸŸå“ˆå¸Œæ³•ï¼ˆUniversal Hashingï¼‰ï¼Œå¯ä»¥è¡¨ç¤ºä¸º hasha,b(key) = ((a * key + b) mod p) mod m

åœ¨å‘å“ˆå¸Œè¡¨ä¸­æ’å…¥å…ƒç´ æ—¶ï¼Œå¦‚æœæ‰€æœ‰çš„å…ƒç´ å…¨éƒ¨è¢«å“ˆå¸Œåˆ°åŒä¸€ä¸ªæ¡¶ä¸­ï¼Œæ­¤æ—¶æ•°æ®çš„å­˜å‚¨å®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªé“¾è¡¨ï¼Œé‚£ä¹ˆå¹³å‡çš„æŸ¥æ‰¾æ—¶é—´ä¸º Î˜(n) ã€‚è€Œå®é™…ä¸Šï¼Œä»»ä½•ä¸€ä¸ªç‰¹å®šçš„å“ˆå¸Œå‡½æ•°éƒ½æœ‰å¯èƒ½å‡ºç°è¿™ç§æœ€åæƒ…å†µï¼Œå”¯ä¸€æœ‰æ•ˆçš„æ”¹è¿›æ–¹æ³•å°±æ˜¯éšæœºåœ°é€‰æ‹©å“ˆå¸Œå‡½æ•°ï¼Œä½¿ä¹‹ç‹¬ç«‹äºè¦å­˜å‚¨çš„å…ƒç´ ã€‚è¿™ç§æ–¹æ³•ç§°`ä½œå…¨åŸŸå“ˆå¸Œ`ã€‚

å…¨åŸŸå“ˆå¸Œçš„åŸºæœ¬æ€æƒ³æ˜¯åœ¨æ‰§è¡Œå¼€å§‹æ—¶ï¼Œä»ä¸€ç»„å“ˆå¸Œå‡½æ•°ä¸­ï¼Œéšæœºåœ°æŠ½å–ä¸€ä¸ªä½œä¸ºè¦ä½¿ç”¨çš„å“ˆå¸Œå‡½æ•°ã€‚å°±åƒåœ¨å¿«é€Ÿæ’åºä¸­ä¸€æ ·ï¼ŒéšæœºåŒ–ä¿è¯äº†æ²¡æœ‰å“ªä¸€ç§è¾“å…¥ä¼šå§‹ç»ˆå¯¼è‡´æœ€åæƒ…å†µçš„å‘ç”Ÿã€‚åŒæ—¶ï¼ŒéšæœºåŒ–ä¹Ÿä½¿å¾—å³ä½¿æ˜¯å¯¹åŒä¸€ä¸ªè¾“å…¥ï¼Œç®—æ³•åœ¨æ¯ä¸€æ¬¡æ‰§è¡Œæ—¶çš„æƒ…å†µä¹Ÿéƒ½ä¸ä¸€æ ·ã€‚è¿™æ ·å°±ç¡®ä¿äº†å¯¹äºä»»ä½•è¾“å…¥ï¼Œç®—æ³•éƒ½å…·æœ‰è¾ƒå¥½çš„å¹³å‡è¿è¡Œæƒ…å†µã€‚

`å®Œç¾å“ˆå¸Œ`ï¼ˆPerfect Hashingï¼‰ï¼Œå½“å…³é”®å­—çš„é›†åˆæ˜¯ä¸€ä¸ªä¸å˜çš„é™æ€é›†åˆï¼ˆStaticï¼‰æ—¶ï¼Œå“ˆå¸ŒæŠ€æœ¯å¯ä»¥å–å¾—å‡ºè‰²çš„ Worst Case çŠ¶æ€æ€§èƒ½ã€‚å¦‚æœæŸä¸€ç§å“ˆå¸ŒæŠ€æœ¯åœ¨è¿›è¡ŒæŸ¥æ‰¾æ—¶ï¼Œå…¶æœ€åæƒ…å†µçš„å†…å­˜è®¿é—®æ¬¡æ•°ä¸º O(1) æ—¶ï¼Œåˆ™ç§°å…¶ä¸ºå®Œç¾å“ˆå¸Œï¼ˆPerfect Hashingï¼‰ã€‚

è®¾è®¡å®Œç¾å“ˆå¸Œçš„åŸºæœ¬æ€æƒ³æ˜¯åˆ©ç”¨ä¸¤çº§çš„å“ˆå¸Œç­–ç•¥ï¼Œè€Œæ¯ä¸€çº§ä¸Šéƒ½ä½¿ç”¨å…¨åŸŸå“ˆå¸Œï¼ˆUniveral Hashingï¼‰ã€‚

æ ¹æ®ä¸åŒéœ€æ±‚ï¼Œå“ˆå¸Œè¡¨çš„æ„é€ æ–¹æ³•æœ‰å¤šç§ç­–ç•¥ï¼š

- ç›´æ¥å¯»å€ Direct-address tablesï¼Œä¾‹å¦‚ï¼š1 ~ 100 å²çš„äººå£æ•°ç»Ÿè®¡æ•°æ®ï¼Œä»¥å¹´é¾„ä½œä¸º keyï¼Œå“ˆå¸Œå‡½æ•°å–å…³é”®å­—è‡ªèº«ã€‚
- æ•°å­—åˆ†ææ³•ï¼Œä¾‹å¦‚ï¼Œä¸€ç»„ç”Ÿæ—¥æ•°æ®ï¼Œå¹´ä»½é‡å¤å¯èƒ½è¾ƒå¤§ï¼Œå¯ä»¥å–æœˆä»½å’Œæ—¥æœŸä½œä¸º key å¯¹åº”çš„åœ°å€ã€‚
- å¹³æ–¹å–ä¸­æ³•ï¼Œå¯¹ key è¿›è¡Œå¹³æ–¹è¿ç®—ï¼Œç„¶åå–ä¸­é—´å‡ ä½ä¸ºå“ˆå¸Œåœ°å€ã€‚
- æŠ˜å æ³• Foldingï¼Œæœ‰ç§»ä½å åŠ å’Œé—´éš”å åŠ ï¼Œå°† key åˆ†å‰²æˆç›¸åŒä½æ•°çš„å¤šéƒ¨åˆ†ï¼Œæœ€åä¸€éƒ¨åˆ†å¯ä»¥ä¸åŒï¼Œå–å®ƒä»¬çš„å åŠ å’Œä½œä¸ºå“ˆå¸Œåœ°å€ï¼Œä¸¢å¼ƒè¿›ä½ã€‚
- å–ä½™æ•°æ³•ï¼Œ`H(key)=key MOD p (p<=m)`ï¼Œæ•°æ®è¡¨é•¿ mï¼Œå°† key é™¤ä»¥ p æ‰€å¾—ä½™æ•°ä¸ºå“ˆå¸Œåœ°å€ã€‚
- éšæœºæ•°æ³•ï¼Œ`H(key)=random(key)`ï¼Œæ„é€ ä¸€ä¸ªéšæœºå‡½æ•°ï¼Œå–å…³é”®å­—çš„éšæœºå‡½æ•°å€¼ä¸ºå®ƒçš„å“ˆå¸Œåœ°å€ï¼Œå¸¸ç”¨äºå…³é”®å­—é•¿åº¦ä¸ç­‰æ—¶ã€‚

æ’å…¥æ–°æ•°æ®æ—¶ï¼Œå¯èƒ½ä¼šé‡åˆ° Hash Table ä¸­å·²ç»å ç”¨ç›¸åŒçš„ keyï¼Œä¾‹å¦‚äººå£ç»Ÿè®¡æ•°æ®ï¼Œä½¿ç”¨å¹´é¾„ä½œä¸º keyï¼Œç›¸æœ‰å¤šä¸ªäººåŒé¾„æ—¶å°±ä¼šå‡ºç°è¿™ç§æƒ…å†µï¼Œç§°ä¸ºå“ˆå¸Œå†²çª Hash Collisionã€‚

å“ˆå¸Œå†²çªæ˜¯å¯¼è‡´æ“ä½œè¢«ç ´åçš„ä¸€ä¸ªå› ç´ ï¼Œå¦‚æœæ²¡æœ‰å†²çªå‘ç”Ÿï¼Œåˆ™å…ƒç´ è¢«æˆåŠŸæ’å…¥ã€‚å¦‚æœå‘ç”Ÿäº†å†²çªï¼Œåˆ™éœ€è¦åˆ¤æ–­å†²çªçš„åŸå› ï¼Œå› æ­¤ï¼Œå“ˆå¸Œå†²çªæé«˜äº†æ“ä½œçš„ä»£ä»·ï¼Œå“ˆå¸Œå‡½æ•°è®¾è®¡çš„ä¸€ä¸ªç›®æ ‡å°±æ˜¯è¦å°½å¯èƒ½å‡ä½å†²çªçš„å‘ç”Ÿã€‚

å¤„ç†å“ˆå¸Œå†²çªçš„æ–¹å¼æœ‰ä¸¤ç§ï¼šé¿å…å’Œè§£å†³ï¼Œå³å†²çªé¿å…æœºåˆ¶ï¼ˆCollision Avoidanceï¼‰å’Œå†²çªè§£å†³æœºåˆ¶ï¼ˆCollision Resolutionï¼‰ã€‚

é¿å…å“ˆå¸Œå†²çªçš„ä¸€ä¸ªæ–¹æ³•å°±æ˜¯é€‰æ‹©åˆé€‚çš„å“ˆå¸Œå‡½æ•°ï¼Œå“ˆå¸Œå‡½æ•°ä¸­çš„å†²çªå‘ç”Ÿçš„å‡ ç‡ä¸æ•°æ®çš„åˆ†å¸ƒæœ‰å…³ã€‚

å®ç° Hash Table å°±å¿…éœ€è¦è§£å†³åœ°å€å†²çªé—®é¢˜ï¼Œå³ä¸ºå†²çªçš„ key æ˜ å°„åˆ°ä¸€ä¸ªå¯ç”¨çš„åœ°å€ä¸Šã€‚

å“ˆå¸Œå†²çªçš„å¸¸ç”¨è§£å†³æ–¹æ¡ˆï¼š

- Closed Hashing
    - Open Addressing `Hi=(H(key)+di) MOD m i=1,2,...,k(k<=m-1)`ï¼Œå…¶ä¸­ m ä¸ºè¡¨é•¿ï¼Œdi ä¸ºå¢é‡åºåˆ—
        - Linear Probing çº¿æ€§æ¢æµ‹ï¼Œdi å€¼å¯èƒ½ä¸º 1,2,3,...m-1ï¼Œç§°çº¿æ€§æ¢æµ‹å†æ•£åˆ—ã€‚
        - Quadratic Probing å¹³æ–¹æ¢æµ‹ï¼Œdi å–å€¼å¯èƒ½ä¸º 1,-1,2,-2,4,-4,9,-9,16,-16,...k * k,-k * k (k<=m/2)ã€‚
        - Random Probing éšæœºæ¢æµ‹ï¼Œdi å–å€¼ä¸ºä¼ªéšæœºæ•°åˆ—ã€‚
        - Double Hashing åŒé‡å“ˆå¸Œ
    - Bucket Hashing/Addressing å“ˆå¸Œæ¡¶
    - Rehashing äºŒåº¦å“ˆå¸Œ
    - Overflow area å»ºç«‹ä¸€ä¸ªå…¬å…±æº¢å‡ºåŒº
- Open Hashing
    - Seperate Chaining é“¾æ¥æŠ€æœ¯ï¼Œé€šè¿‡é“¾è¡¨æ‰©å±•
    - Hash tree ä½¿ç”¨å“ˆå¸Œæ ‘æ‰©å±•

æ‰€è°“ Closed Hashingï¼Œæ˜¯å› ä¸ºå“ˆå¸Œå†²çªåï¼Œæ²¡æœ‰åœ¨å“ˆå¸Œè¡¨å¤–å¼€æ‹“ç©ºé—´ï¼Œè€Œæ˜¯é¡ºå»¶æŸä¸ªä½ç½®æ¥å­˜æ”¾ï¼Œå³å¼€æ”¾å¯»å€ Open Addressingï¼Œè¿˜æ˜¯åœ¨ä¸€ä¸ªä¸»è¡¨ç©ºé—´ã€‚

è‡³äº Open Hashingï¼Œåˆ™åœ¨å“ˆå¸Œå†²çªæ—¶ï¼Œé€šè¿‡ä¸»è¡¨çš„ Slot æ‰©å±•é“¾è¡¨æ¥æä¾›æ–°ç©ºé—´ï¼Œå®ƒæ˜¯åœ¨å“ˆå¸Œè¡¨ä¹‹å¤–å»ºç«‹çš„æ–°ç©ºé—´ï¼Œæ‰€ä»¥ç§°ä¸ºå¼€æ”¾å“ˆå¸Œã€‚

æœ€ç®€å•çš„ä¸€ç§å¼€æ”¾å¯»å€æ³•å®ç°å°±æ˜¯çº¿æ€§æ¢æµ‹ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š

- æ’å…¥æ–°çš„å…ƒç´ æ—¶ï¼Œä½¿ç”¨å“ˆå¸Œå‡½æ•°æ‰¾åˆ°å“ˆå¸Œè¡¨ä¸­çš„ç›®æ ‡ä½ç½®ï¼›
- æ£€æŸ¥å“ˆå¸Œè¡¨ä¸­è¯¥ä½ç½®æ˜¯å¦å·²ç»å­˜åœ¨å…ƒç´ ã€‚å¦‚æœè¯¥ä½ç½®å†…å®¹ä¸ºç©ºï¼Œåˆ™æ’å…¥å¹¶è¿”å›ï¼Œå¦åˆ™è½¬å‘æ­¥éª¤ 3ã€‚
- å¦‚æœè¯¥ä½ç½®ä¸º iï¼Œåˆ™æ£€æŸ¥ i+1 æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœå·²è¢«å ç”¨ï¼Œåˆ™æ£€æŸ¥ i+2ï¼Œä¾æ­¤ç±»æ¨ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªå†…å®¹ä¸ºç©ºçš„ä½ç½®ã€‚
- å¦‚æœå¤‡ç”¨åœ°å€å…¨éƒ¨ç”¨å®Œï¼Œå¦‚æœä¿ç•™æœ‰ overflow æº¢å‡ºåŒºï¼Œåˆ™å¯ä»¥å°†æ–°å…ƒç´ å­˜å…¥æœ€åçš„æº¢å‡ºåŒºã€‚

æœ€åä¸€æ­¥ï¼Œé€’å¢çš„å¯»å€å³ä¸ºçº¿æ€§æ¢æµ‹çš„å«ä¹‰ï¼Œè¿™ç§ç­–ç•¥éœ€è¦åœ¨è®¾è®¡å“ˆå¸Œå‡½æ•°æ—¶å“ˆå¸Œè¡¨çš„ç©ºé—´éœ€è¦è¶³å¤Ÿå¤šï¼Œè¿™æ ·æ‰ä¼šæœ‰ä½™çš„ç©ºé—´è§£å†³å“ˆå¸Œå†²çªã€‚

åœ¨ä½¿ç”¨å“ˆå¸Œè¡¨æ—¶ï¼Œä¹Ÿéœ€è¦ä¼°è®¡å¥½å¤§æ¦‚å®¹é‡ï¼Œå› ä¸ºå¯¹å“ˆå¸Œè¡¨è¿›è¡Œæ‰©å……æ˜¯ä»¥æ€§èƒ½æŸè€—ä¸ºä»£ä»·çš„æ“ä½œï¼Œåº”è¯¥é¢„å…ˆä¼°è®¡å“ˆå¸Œè¡¨ä¸­æœ€æœ‰å¯èƒ½å®¹çº³çš„å…ƒç´ æ•°é‡ï¼Œåœ¨åˆå§‹åŒ–å“ˆå¸Œè¡¨æ—¶æŒ‡å®šåˆé€‚çš„å®¹é‡ï¼Œä»¥é¿å…ä¸å¿…è¦çš„æ‰©å……ã€‚

å¦å¤–ï¼Œé“¾è¡¨æ‰©å±•ä¹Ÿæ˜¯æ¯”è¾ƒå¸¸ç”¨çš„ç­–ç•¥ï¼Œæ¯”å¦‚ Java çš„ HashMap å°±æ˜¯åŸºäºé“¾åœ°å€æ³•çš„å“ˆå¸Œè¡¨ç»“æ„ï¼Œæ­¤æ—¶å“ˆå¸Œä¸»è¡¨ä¸­æ¯ä¸ª slot éƒ½å¯¹åº”ä¸€ä¸ªé“¾è¡¨ï¼Œç›¸å½“äºä¸€ä¸ª bucketï¼Œå¯ä»¥å®¹çº³å¤šä¸ªæ•°æ®ã€‚

è™½ç„¶é“¾åœ°å€æ³•æ˜¯ä¸€ç§å¾ˆå¥½çš„å¤„ç†å“ˆå¸Œå†²çªçš„æ–¹æ³•ï¼Œä½†æ˜¯åœ¨ä¸€äº›æç«¯æƒ…å†µä¸‹é“¾åœ°å€æ³•ä¼šå¯¼è‡´å“ˆå¸Œè¡¨é€€åŒ–æˆé“¾è¡¨ï¼Œå³å¤±å»å“ˆå¸Œå¿«é€Ÿæœç´¢çš„èƒ½åŠ›ã€‚è¿™ç§æƒ…å†µä¹Ÿæ˜¯å“ˆå¸Œæ´ªæ°´æ”»å‡»çš„åŸç†ï¼Œå“ˆå¸Œé€€åŒ–åï¼Œåç»­çš„æ“ä½œä¼šæ¶ˆè€—å¤§é‡çš„ CPU æ—¶é—´ï¼Œå¤§é‡çš„æ“ä½œå°±å¯èƒ½å¯¼è‡´æœºåˆ¶å¤±å»å“åº”ã€‚

å“ˆå¸Œæ´ªæ°´æ”»å‡»ï¼ˆHash-Flooding Attackï¼‰ä¹Ÿæ˜¯ä¸€ç§æ‹’ç»æœåŠ¡æ”»å‡»ï¼ˆDenial of Serviceï¼‰ï¼Œæ˜¯åŸºäºç®—æ³•å¤æ‚åº¦å‘èµ·çš„ä¸€ç§æ”»å‡»ï¼Œä¸€æ—¦åç«¯æ¥å£å­˜åœ¨åˆé€‚çš„æ”»å‡»é¢ï¼Œæ”»å‡»è€…å°±èƒ½è½»æ¾è®©æ•´å°æœåŠ¡å™¨é™·å…¥ç˜«ç—ªã€‚

2003å¹´ï¼ŒScott A. Crosby å’Œ Dan S. Wallach ä¸¤ä½ç ”ç©¶äººå‘˜å‘è¡¨äº†ä¸€ç¯‡è®ºæ–‡ï¼šDenial of Service via Algorithmic Complexity Attacksã€‚åœ¨è¿™ç¯‡è®ºæ–‡é‡Œä»–ä»¬é¦–æ¬¡æå‡ºï¼šæ—¢ç„¶æœ‰äº›æ•°æ®ç»“æ„çš„æœ€å·®è¿è¡Œæ—¶é—´è¿™ä¹ˆåºŸç‰©ï¼Œæˆ‘ä»¬æœ‰æ²¡æœ‰å¯èƒ½é€šè¿‡ç®—æ³•ä¸Šçš„æ¼æ´ï¼Œå¼ºè¡Œæ„é€ å‡ºä¸€ä¸ªæœ€å·®æƒ…å†µï¼Œè®©æœåŠ¡å™¨æŠŠå…¨éƒ¨çš„èµ„æºéƒ½æµªè´¹åœ¨å¤„ç†è¿™ä¸ªæœ€å·®æƒ…å†µä¸Šï¼Ÿç­”æ¡ˆå½“ç„¶æ˜¯æœ‰çš„ã€‚



# ğŸš© Prime Sieve
- æ±‚åäº¿å†…æ‰€æœ‰è´¨æ•°çš„å’Œï¼Œæ€ä¹ˆåšæœ€å¿«? https://www.zhihu.com/question/29580448
- ç®—æ³•åŸºç¡€-å‰ç¼€å’Œ https://zhuanlan.zhihu.com/p/117569086
- https://www.wolframalpha.com/input/?i=prime+below+1billion
- https://leetcode-cn.com/problems/count-primes/solution/ji-yu-ai-shi-shai-de-dong-tai-gui-hua-fa-gf82/
- Summation of primes https://projecteuler.net/problem=10
- ä»€ä¹ˆæ˜¯ min_25 ç­› https://www.cnblogs.com/crashed/p/12888263.html
- æ•°å­¦ä½“ç³»æ¦‚è¿° https://www.sohu.com/a/332830388_120054637
- Mathematics: A Very Short Introduction https://book4you.org/book/826226/fdbdff
- The Princeton Companion to Mathematics https://book4you.org/book/674867/08c6c1
- The Calculus Lifesaver https://book4you.org/book/680017/92d236
- Thomas' Calculus https://book4you.org/book/3518261/0a6b3d
- æ¬§æ‹‰ä¹˜ç§¯å…¬å¼çš„æ¨å¯¼è¿‡ç¨‹ https://blog.csdn.net/pang9998/article/details/96218600

æ‰€è°“è´¨æ•° Prime å³æŒ‡é‚£äº›åªèƒ½è¢« 1 å’Œè‡ªèº«æ•´é™¤çš„ä¸”å¤§äº 1 çš„è‡ªç„¶æ•°ï¼Œä¾‹å¦‚ 2ã€3ã€5ã€7ã€11ã€‚å¾ˆæ˜æ˜¾ï¼Œé™¤äº† 2ï¼Œæˆ–è€…è¯´ï¼Œæ‰€æœ‰å¤§äº 5 çš„è´¨æ•°ä¸­ï¼Œä¸ªä½æ•°åªæœ‰ 1, 3, 7, 9ã€‚è€Œä¸”ï¼Œè´¨æ•°æ»¡è¶³`å”¯ä¸€åˆ†è§£å®šç†` unique decomposition theoremï¼šä»»ä¸€å¤§äº 1 çš„è‡ªç„¶æ•°ï¼Œè¦ä¹ˆæœ¬èº«æ˜¯è´¨æ•°ï¼Œè¦ä¹ˆå¯ä»¥åˆ†è§£ä¸ºå‡ ä¸ªè´¨æ•°ä¹‹ç§¯ï¼Œä¸”è¿™ç§åˆ†è§£æ˜¯å”¯ä¸€çš„ã€‚

    N = p1^a1 * p2^a2 * Â·Â·Â· * pn^an

    4 = 2^2
    6 = 2^1 * 3^1
    8 = 2^3
    16= 2^4

è´¨æ•°è¿™ä¸ªæ¦‚å¿µäººç±»å·²ç»ç ”ç©¶äº†ä¸Šåƒå¹´ï¼Œä½†æ˜¯çš„å…·ä½“çš„èµ·æºå´ä¸å¾—è€ŒçŸ¥ã€‚æ—©åœ¨å…¬å…ƒå‰ 300 å¹´ï¼Œæ¬§å‡ é‡Œå¾—å°±åœ¨ä»–çš„è‘—ä½œå…ƒç´ ä¸­è¯æ˜äº†æœ‰æ— ç©·å¤šä¸ªè´¨æ•°ï¼ŒåŒæ—¶ä¹Ÿè¯æ˜äº†ä»»ä½•ä¸€ä¸ªæ•´æ•°éƒ½èƒ½å¤Ÿè¢«æŸä¸€ä¸ªè´¨æ•°æ•´é™¤ã€‚æ—¶è‡³ä»Šæ—¥ï¼Œè´¨æ•°åœ¨è®¡ç®—æœºç§‘å­¦è¿™æ ·ä¸€ä¸ªå’Œæ•°å­¦è”ç³»ç´§å¯†çš„å­¦ç§‘ä¸­ä¹Ÿæœ‰è¿™ä¸ªå¹¿æ³›çš„åº”ç”¨ï¼Œæ¯”å¦‚å¸ƒéš†è¿‡æ»¤å™¨ã€ä¼ªéšæœºæ•°ã€RSAåŠ å¯†ç®—æ³•ç­‰ç­‰ï¼Œæ‰€ä»¥æŒæ¡è´¨æ•°çš„ç‰¹æ€§ä»¥åŠåº”ç”¨èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬è§£å†³ä¸å°‘å®é™…é—®é¢˜ã€‚

è´¨æ•°çš„åˆ†å¸ƒéšç€è‡ªç„¶æ•°å¢é•¿è€Œå‡å°ï¼š

- 10 ä»¥å†… 40%
- 100 ä»¥å†… 25%
- 1000 ä»¥å†… 16.8%
- 10000 ä»¥å†… 12.29%
- 100000 ä»¥å†… 9.592%
- 1000000 ä»¥å†… 7.8498%
- 10000000 ä»¥å†… 6.64579%
- 100000000 ä¸€äº¿ä»¥å†… 5.761455%
- 1000000000 åäº¿ä»¥å†… 5.0847534%

è™½ç„¶ï¼Œå‡ºç°é¢‘ç‡åœ¨ä¸‹é™ï¼Œä½†æ˜¯è‡ªç„¶æ•°æ— é™ï¼Œä¹Ÿå°±ä¸èƒ½å‰ä¸ç¡®å®šè´¨æ•°æ˜¯å¦æ•°é‡æœ‰é™ã€‚

æ¬§æ‹‰å‘ç°çš„è´¨æ•°åˆ†å¸ƒå…¬å¼ f(n)=n^2-n+41 æ‰€åœ¨çš„çº¿æ€§ç©ºé—´ä¸Šå­˜åœ¨å¤§é‡è´¨æ•°ã€‚


åœ¨ 400 å¹´å‰ï¼Œä¸€ä¸ªæ³•å›½æ•™å¸ˆé©¬æ—Â·é»˜èˆå°¼ï¼Œå‘ç°äº†ä¸€ç§è´¨æ•°ï¼Œäººä»¬æŠŠå®ƒå«é»˜èˆå°¼è´¨æ•°ã€‚ç”¨ 2^n-1 æ¥å¯»æ‰¾è´¨æ•°ï¼Œå°†æ‰€æœ‰ç¬¦åˆè¿™ä¸ªæ¡ä»¶çš„è´¨æ•°å«åšé»˜èˆå°¼è´¨æ•°ã€‚

ä½†å°½ç®¡å¦‚æ­¤å¥½ç”¨çš„æ¨¡å‹ä¹Ÿæœ‰ 2 ä¸ªç¼ºç‚¹ï¼š

- å¦‚æœäºŒçš„å¹‚æ¬¡ n ä¸æ˜¯è´¨æ•°ï¼Œè¿™ä¸ªæ¨¡å¼æ ¹æœ¬æ— æ•ˆã€‚å¦‚ 2^4-1 = 15 = 3x15 å°±ä¸æ˜¯è´¨æ•°ã€‚
- å³ä½¿å¹‚æ¬¡æ˜¯è´¨æ•°ï¼Œå…¬å¼ä»ç„¶å¯èƒ½æ— æ•ˆï¼Œå¦‚ 2^11-1 = 2047 = 23x89ã€‚

ä»¥ä¸‹æ˜¯ä¸¤ç§æœ€åŸºæœ¬çš„çº¿æ€§ç­›é€‰ç®—æ³•ï¼Œå…¶ä¸€ï¼ŒåŸƒæ°ç­› the Sieve of Eratosthenesï¼ŒåŸƒæ‹‰æ‰˜è‰²å°¼ç­›ã€‚

åŸƒæ°ç­›æ³•è¿‡æ»¤è‡ªç„¶æ•°ä¸­çš„è´¨æ•°ï¼ŒåŸºæœ¬æ€æƒ³æ˜¯ä» 2 å¼€å§‹ï¼Œå°†æ¯ä¸ªè´¨æ•°çš„å€æ•°éƒ½æ ‡è®°æˆåˆæ•°ï¼Œä»¥è¾¾åˆ°ç­›é€‰è´¨æ•°çš„ç›®çš„ï¼Œæ—¶é—´å¤æ‚åº¦ O(nloglogn)ã€‚

```js
function LinearSieve(lim:number){
    let can = new Array(lim);
    for (let i = 2; i <= lim; i++){
        can[i] = 1;
    }
    for (let i = 2; i <= lim; i++){
        for (let j = 2*i; j <= lim; j += i){
            delete can[j];
        }
    }
    for (let i=2; i <= lim; i++){
        if (1 == can[i]) can[i] = i;
    }
    return can.filter( it => !!it);
}
```

åŸƒæ°ç­›æ³•çš„ç¼ºé™·æ˜¯ä¼šå¯¹ä¸€ä¸ªåˆæ•°å¤šæ¬¡ç­›é€‰ï¼Œä¾‹å¦‚ 30 = 2 * 15 = 3 * 10 = 5 * 6 = 6 * 5 â€¦â€¦ ç”¨å®ƒçš„`æœ€å°è´¨å› å­`æ¥ç­›é€‰å³å¯ï¼Œè¿™ä¾¿æ˜¯æ¬§æ‹‰ç­›æ³•ï¼Œæ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦å‡ä¸º O(n)ã€‚

æ¬§æ‹‰ç­›æ³•åœ¨åŸƒæ°ç­›æ³•çš„åŸºç¡€ä¸Šï¼Œè®©æ¯ä¸ªåˆæ•°åªè¢«å®ƒçš„æœ€å°è´¨å› å­ç­›é€‰ä¸€æ¬¡ï¼Œä»¥è¾¾åˆ°ä¸é‡å¤çš„ç›®çš„ï¼Œæœ€å°è´¨å› å­å°±æ˜¯æœ€æœ‰æ•ˆçš„ç­›é€‰æ¡ä»¶ã€‚

```js
function LinearSieve(max:number){
    let prime = new Array(max/4+25).fill(0);
    let visit = new Array(max).fill(0);
    for (let i = 2; i <= max; i++) {
        if (!visit[i]) {
            prime[++prime[0]] = i;
        }
        for (let j = 1; j <=prime[0] && i*prime[j] <= max; j++) {
            visit[i * prime[j]] = 1;
            if (i % prime[j] == 0) {
                break;
            }
        }
    }
    prime[0] = 0;
    return prime.filter(it => it>0);
}
```

ä¸¤æ•°ç»„çš„ä½œç”¨ï¼š

- prime è´¨æ•°è¡¨ï¼Œé¦–ä¸ªå…ƒç´ è®°å½•ç°æœ‰è´¨æ•°ä¸ªæ•°ï¼›
- visit éè´¨æ•°æ ‡è®°è¡¨ï¼Œä¸‹æ ‡ä¸è‡ªç„¶æ•°å¯¹åº”ï¼Œå¦‚ visit[2] å¯¹åº”æ ‡è®°è‡ªç„¶æ•° 2 æ˜¯å¦ä¸ºéè´¨æ•°ï¼Œ 0 å’Œ 1 ä¸ä½œå¤„ç†ã€‚

æ³¨æ„å†…éƒ¨çš„å¾ªç¯ï¼Œéå†è¿‡ç¨‹ä¸­æ ‡è®°åé¢é‚£äº›éè´¨æ•°ï¼Œå³å¯ä»¥æ•´é™¤è´¨æ•°çš„æ•°ï¼Œå…¶ä¸­çš„åˆ¤æ–­æ¡ä»¶ `i % prime[j] == 0`ï¼Œè§£é‡Šä¸º i æ˜¯å·²éå†è´¨æ•°çš„å€æ•°æ—¶ï¼Œå³ i ä¸ºæœ€å°è´¨å› å­å°±è·³è¿‡å†…å¾ªç¯ï¼Œå› ä¸ºåé¢è¿˜ä¼šé‡å¤å®ƒã€‚

è§£æä»£ç è¿è¡Œè¿‡ç¨‹ï¼š

- å¤–å¾ªç¯ i = 2ï¼Œåˆ¤æ–­æœªæ ‡è®°ä¸ºéè´¨æ•°ï¼Œåˆ™å¢åŠ ä¸€ä¸ªè´¨æ•° `2`ï¼›
    - å†…å¾ªç¯ï¼Œj = 1ï¼Œprime[j] = 2ï¼Œæ ‡è®° visit[2 * 2] ä¸ºéè´¨æ•°ï¼Œå¹¶æ‰“æ–­å†…å¾ªç¯ï¼Œä¸å¿…å†…å¾ªç¯åˆ° 2ï¼ŒåŒæ—¶è´¨æ•°è®°å½•ä¹Ÿåªæœ‰ 1 ä¸ª prime[0] = 1ï¼›
- å¤–å¾ªç¯ i = 3ï¼Œåˆ¤æ–­æœªæ ‡è®°ä¸ºéè´¨æ•°ï¼Œåˆ™å¢åŠ ä¸€ä¸ªè´¨æ•° `3`ï¼›
    - å†…å¾ªç¯ï¼Œj = 1, prime[j] = 2ï¼Œæ ‡è®° visit[3 * 2] ä¸ºéè´¨æ•°ï¼›
    - å†…å¾ªç¯ï¼Œj = 2, prime[j] = 3ï¼Œæ ‡è®° visit[3 * 3] ä¸ºéè´¨æ•°ï¼Œå¹¶æ‰“æ–­å†…å¾ªç¯ï¼Œå½“å‰è´¨æ•°è®°å½•ä¹Ÿåªæœ‰ 2 ä¸ªï¼Œprime[0] = 2ï¼›
- å¤–å¾ªç¯ i = 4ï¼Œåˆ¤æ–­å·²ç»æ ‡è®°ä¸ºéè´¨æ•°ï¼›
    - å†…å¾ªç¯ï¼Œj = 1, prime[j] = 2ï¼Œæ ‡è®° visit[4 * 2] ä¸ºéè´¨æ•°ï¼›
    - å†…å¾ªç¯ï¼Œj = 2, prime[j] = 3ï¼Œæ ‡è®° visit[4 * 3] ä¸ºéè´¨æ•°ï¼Œç»“æŸå†…å¾ªç¯ï¼Œå½“å‰è´¨æ•°è®°å½•åªæœ‰ 2 ä¸ªï¼Œprime[0] = 2ï¼›
- å¤–å¾ªç¯ i = 5ï¼Œåˆ¤æ–­æœªæ›¾æ ‡è®°ä¸ºéè´¨æ•°ï¼Œåˆ™å¢åŠ ä¸€ä¸ªè´¨æ•° `5`ï¼›
    - å†…å¾ªç¯ï¼Œj = 1, prime[j] = 2ï¼Œæ ‡è®° visit[5 * 2] ä¸ºéè´¨æ•°ï¼›
    - å†…å¾ªç¯ï¼Œj = 2, prime[j] = 3ï¼Œæ ‡è®° visit[5 * 3] ä¸ºéè´¨æ•°ï¼›
    - å†…å¾ªç¯ï¼Œj = 3, prime[j] = 5ï¼Œæ ‡è®° visit[5 * 5] ä¸ºéè´¨æ•°ï¼Œå¹¶æ‰“æ–­å†…å¾ªç¯ï¼Œå½“å‰è´¨æ•°è®°å½•åªæœ‰ 3 ä¸ªï¼Œprime[0] = 3ï¼›

å¯ä»¥çœ‹åˆ°ï¼Œè´¨æ•° 2 ç­›æ‰ 4ï¼Œè´¨æ•° 3 ç­›æ‰ 3 x {2, 3}ï¼Œåˆæ•° 4 ç­›æ‰ 4 x {2, 3}ï¼Œè´¨æ•° 5 ç­›æ‰ 5 x {2, 3, 5}ï¼Œç­‰ç­‰ï¼Œæ¯å¢åŠ ä¸€ä¸ªè´¨æ•°ï¼Œè¢«ç­›é€‰çš„æ•°æ®éƒ½ä¼šå¾€è‡ªç„¶æ•°ç§»åŠ¨ä¸€æ®µè·ç¦»ã€‚

è®°å½•ä¸­çš„è´¨æ•°æ€»æ˜¯ä¼šåœ¨å¤–å¾ªç¯ä¸­çš„ i é‡å¤è¢«å¤„ç†ï¼Œå¦‚æœä¸åœ¨å†…å±‚æ‰“æ–­ï¼Œé‚£ä¹ˆåé¢çš„å¾ªç¯ä¸­ä¼šåšé‡å¤çš„åˆ¤æ–­ï¼Œå¦‚å¾ªç¯åˆ° i = 8ï¼Œj = 2ï¼Œprime[2] = 3ï¼Œè€Œ visit[8 * 3] å°±ä¼šå’Œ visit[3 * 8] é‡å¤åšæ ‡è®°ï¼Œå¦‚æœä¸æ‰“æ–­å†…å¾ªç¯ã€‚

å¯¹æ¯”ä¸€ä¸‹è¿™ä¸¤ç§ç®—æ³•åœ¨ Deno ä¸­è®¡ç®— 1 åƒä¸‡ä»¥å†…çš„è´¨æ•°å’Œï¼Œå·®åˆ«æ˜¯æ˜æ˜¾ï¼Œä½†æ˜¯æ›´æœ‰æ•ˆç‡çš„å¹¶ä¸æ˜¯çº¿æ€§æ–¹æ¡ˆï¼š

    3203324994356
    default: 19713ms

    3203324994356
    default: 483ms

è´¨æ•°ç»Ÿè®¡é¢˜ç›®æ˜¯ ACM æ•°è®ºç»å…¸é¢˜ç›®ï¼Œæ—¥æœ¬æœ‰ä¸ªä¸€ä¸ªåå« min_25 çš„äººå‘æ˜äº†ä¸€ç§ç®—æ³•ï¼Œç§°ä¸º min_25 ç­›ï¼Œéå¸¸å¿«é€Ÿã€‚ä¸ä¹‹é…å¥—çš„è¿˜æœ‰æ´²é˜ç­›ã€æœæ•™ç­›ã€è«æ¯”ä¹Œæ–¯åæ¼”ç­‰ï¼Œå¯ä»¥è§£å†³å„ç§å¥‡æ€ªçš„æ•°è®ºå‡½æ•°æ±‚åˆé—®é¢˜ã€‚

ä»‹ç»å‡ ä¸ªæ•°å­¦æ¦‚å¿µï¼š

- `ç§¯æ€§å‡½æ•°`ï¼šMultiplicative Function å¯¹äºä»»æ„äº’è´¨çš„æ•´æ•° a å’Œ b æœ‰æ€§è´¨ f(ab)=f(a)f(b) çš„æ•°è®ºå‡½æ•°ã€‚
- `å®Œå…¨ç§¯æ€§å‡½æ•°`ï¼šå¯¹äºä»»æ„æ•´æ•°aå’Œbæœ‰æ€§è´¨f(ab)=f(a)f(b)çš„æ•°è®ºå‡½æ•°ã€‚
- `æ•°è®ºå‡½æ•°`äº¦ç§°`ç®—æœ¯å‡½æ•°`ï¼Œä¸€ç±»é‡è¦çš„å‡½æ•°ï¼ŒæŒ‡å®šä¹‰åœ¨æ­£æ•´æ•°é›†ä¸Šçš„å®å€¼æˆ–å¤å€¼å‡½æ•°ï¼Œæ›´ä¸€èˆ¬åœ°ï¼Œä¹Ÿå¯æŠŠæ•°è®ºå‡½æ•°çœ‹åšæ˜¯æŸä¸€æ•´æ•°é›†ä¸Šå®šä¹‰çš„å‡½æ•° ï¼Œä¾‹å¦‚ ä»¥æ­£æ•´æ•°ä¸º å®šä¹‰åŸŸ çš„å‡½æ•° Æ’ (n)ï¼Œä¾‹å¦‚æ•°åˆ— {Î± n}ã€ é˜¶ä¹˜ n!ã€å¹‚ nÎ» ç­‰éƒ½æ˜¯æ•°è®ºå‡½æ•°ã€‚
- `æ¬§æ‹‰ä¹˜ç§¯å…¬å¼` Euler product formula åœ¨ç ”ç©¶è´¨æ•°çš„åˆ†å¸ƒä¸­æœ‰ç€é‡è¦åº”ç”¨ï¼Œæ•°è®ºä¸­æ˜¯æŒ‡ `ç‹„åˆ©å…‹é›·çº§æ•°` å¯è¡¨ç¤ºä¸ºä¸€æŒ‡æ ‡ä¸ºç´ æ•°çš„æ— ç©·ä¹˜ç§¯ã€‚

ä¸€èˆ¬æˆ‘ä»¬ç§°ä»¥ä¸‹å…¬å¼ä¸ºæ¬§æ‹‰ä¹˜ç§¯å…¬å¼ï¼Œå…¶ä¸­ n ä¸ºå…¨ä½“æ­£æ•´æ•°ï¼Œp ä¸ºå…¨ä½“ç´ æ•°ï¼ŒRe(s) > 1ï¼š

    âˆ‘n(n^-s) = âˆp((1-p^-s)^-1)

`å‰ç¼€å’Œ` æ˜¯ä¸€ç§é¢„å¤„ç†ï¼Œç”¨äºé™ä½æŸ¥è¯¢/ç­›é€‰çš„æ—¶é—´å¤æ‚åº¦ã€‚ 

ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼šç»™å®šä¸€ä¸ªå‡½æ•° f(N) = 2N {N=0,1,2...}ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªç­‰å·®æ•°åˆ—ã€‚æ±‚ä¸€ä¸ªåŒºé—´å†…å€¼çš„å’Œï¼Œéœ€è¦ä»åŒºé—´å·¦ç«¯ç‚¹è¿­ä»£åˆ°åŒºé—´å³ç«¯ç‚¹æ±‚å’Œï¼Œæ—¶é—´å¤æ‚åº¦ç›¸å¯¹è¾ƒå¤§ O(N)ã€‚

è¿™ç§æ—¶å€™å°±éœ€è¦é¢„å…ˆæ±‚åŒºé—´çš„å€¼ï¼Œä¹Ÿå°±æ˜¯æ±‚å¾—å…¬å¼ g(N) = f(N) + f(N-1) ... f(1) = (N+1)Nï¼Œç„¶åæ¯æ¬¡æŸ¥è¯¢å¯ç›´æ¥è®¡ç®—ç­”æ¡ˆï¼Œè€Œä¸æ˜¯è¿­ä»£æŸ¥è¯¢ï¼Œè¿™æ ·æ—¶é—´å¤æ‚åº¦å°±å¯ä»¥é™åˆ° O(1)ã€‚

ä»¥ä¸‹æ˜¯æ ¹æ® Euler Project - 10 Summation of primes è§£é¢˜è€… Lucy_Hedgehog æä¾›çš„æ€è·¯å®ç°è´¨æ•°æ•°é‡è®¡ç®—çš„ç®—æ³•ï¼ŒåŸºäºåŠ¨æ€è§„åˆ’æ–¹æ³•ï¼Œé€Ÿåº¦å¾ˆå¿«ï¼Œç©ºé—´å¤æ‚åº¦ O(sqrt(n))ï¼Œèƒ½è½»æ¾è®¡ç®— 10 äº¿çš„ç»“æœã€‚

æ€è·¯å¤§æ¦‚æ˜¯ï¼šå½“å‰å¤„ç†ä¸­çš„è‡ªç„¶æ•° N = å·²ç»è®°å½•åˆ°çš„è´¨æ•° + åˆæ•°ï¼Œç®—æ³•ä¸­è¿‡æ»¤äº†å¤§é‡ä¸å¿…è¦å¤„ç†çš„æƒ…å†µï¼Œå¤§å¤§æé«˜äº†æ•ˆç‡ã€‚

åŸä½œè€…çš„è¯´æ˜ï¼Œè¿™é‡Œçš„ä»£ç å°†åŸè¯´æ˜çš„ S ç¬¦å·æ›¿æ¢æˆ dp ç¬¦å·ï¼š

> Here is a solution that is more efficient than the sieve of Eratosthenes. It is derived from similar algorithms fro counting primes. The advantage is that there is no need to find all the primes to find theri sum.
> 
> The main idea is as follows: Let S(v,m) be the sum of integers in the range 2..v that remain after sieving whih all primes smaller or eaual than m. That is S(v,m) is the sum of integers up to v that are either prime or the product of primes larger than m.
>
> S(v, p) is equal to S(v, p-1) if p is not prime or v is smaller that p * p. Otherwise (p prime, p * p <= v) S(v, p) can be computed from S(v, p-1) by finding the sum of integers that are removed while sieving with p. An integer is removed in this step if it is the product of p with anther integer that has no divisor smaller that p. This can be expressed as
>
> S(Î½,p) = S(Î½,p-1) - p(S(Î½/p, p-1) - S(p-1, p-1))
>
> Dynamic programming can be used to implement this. It is sufficient to compute S(v,p) fro all positive integers v that are representable as floor(n/k) for some integer k and all p â‰¤ âˆšÎ½


```py
def countPrimes(n: int) -> int:
    if n < 2:
        return 0
    r = int(n**0.5)
    V = [n//a for a in range(1, r)] + list(range(n//r, 0, -1))
    dp = {v: v-1 for v in V}
    for p in range(2, r+1):
        for key in V:
            if dp[p] == dp[p-1] or p*p > key:
                break
            dp[key] += -dp[key//p] + dp[p-1]
    return dp[n]
 
if __name__ == '__main__':
    max = 100000000;
    sum = countPrimes(max);
    print("Count of prime below %s: %s" % (max, sum))
```

è§£æä¸€ä¸‹ Python çš„è¯­æ³•ï¼š

- `def countPrimes` å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼›
- `n**0.5` è¡¨ç¤ºæ±‚ n çš„ 0.5 æ¬¡æ–¹ï¼Œå³äºŒæ¬¡æ–¹æ ¹ï¼›
- `range(start, stop[, step])` å‡½æ•°ç”Ÿæˆä¸€ä¸ªåŒºé—´ `[start, stop)`ï¼›
- `[n//a for a in range(1, r)]` åœ¨åˆ—è¡¨ä¸­ä½¿ç”¨ for-in å¾ªç¯è¿™ç§è¯­æ³•å«æ¨å¯¼ Comprehensionï¼Œç”Ÿæˆåºåˆ— `[n//r, n]`ï¼Œå¦‚æœ r å¤§äº 1ï¼Œå¦åˆ™ç”Ÿæˆç©ºåºåˆ—ï¼›
- `list(range(n//r, 0, -1))` ç”Ÿæˆé€’å‡åºåˆ— `[n//r, 0)`ï¼›
- `{v: v-1 for v in V}` ä¹Ÿæ˜¯æ¨å¯¼å¼ï¼Œç”Ÿæˆä¸€ä¸ªå­—å…¸ï¼Œä½¿ç”¨å˜é‡ v çš„æ•°å€¼ä½œä¸º keyï¼Œv - 1 ä½œä¸ºå€¼ï¼›
- list + list å°†ä¸¤ä¸ªåˆ—è¡¨çš„å…ƒç´ ç›¸è¿æˆæ•´ä½“ï¼Œå³æ±‚å¾—å…ƒç´ çš„å¹¶é›†ï¼›

æ³¨æ„ // è¡¨ç¤ºæµ®ç‚¹è¿ç®—å¹¶å‘ä¸‹å–æ•´ï¼Œfloored quotientï¼Œå¯ä»¥å‚è€ƒ Python æ ‡å‡†åº“ Numeric Types â€” int, float, complexã€‚

æ•´ä¸ªåŠ¨æ€è§„åˆ’ç®—æ³•ä¸­ï¼ŒV å’Œ dp åˆ†åˆ«ä½œä¸ºç­›é€‰åºåˆ—ã€è´¨æ•°ç»Ÿè®¡å¯¹è±¡ï¼Œdp å¯ä»¥çœ‹ä½œæ˜¯å·²æœ‰çš„è§£å†³æ–¹æ¡ˆçš„ç¼“å­˜æ•°æ®ã€‚è€Œ V åºåˆ—çš„ç”Ÿæˆå°±ç­›é€‰æ‰äº†ä¸€å¤§éƒ¨åˆ†æ•°æ®ï¼ŒåŒ…å«ä¸¤éƒ¨åˆ†ï¼Œé™¤äº†é€’å‡åºåˆ— `[n//r, 0)` éƒ¨åˆ†ã€‚å¦å¤–ä¸€éƒ¨åˆ†åºåˆ—å°±æ˜¯ `[n//r, n)`ï¼Œå¹¶ä¸”è¿™éƒ¨åˆ†åºåˆ—çš„æ•°é‡æŒ‰ `range(1, r)` åŒºé—´ç”Ÿæˆï¼Œå³åŒ…å« `[n, n/2 ... n/r]`ã€‚ 

åˆ†æè¿è¡Œæµç¨‹ï¼š

- å‡è®¾ä¼ å…¥ n = 2ï¼Œé‚£ä¹ˆåˆå§‹ V = [1] å’Œ dp = {1: 0}ï¼Œè¿”å› 0ã€‚
- å‡è®¾ä¼ å…¥ n = 3ï¼Œé‚£ä¹ˆåˆå§‹ V = [2, 1] å’Œ dp = {2: 1, 1: 0}ï¼Œè¿”å› 1ã€‚
- å‡è®¾ä¼ å…¥ n = 4ï¼Œé‚£ä¹ˆåˆå§‹ V = [3, 2, 1] å’Œ dp = {3: 2, 2: 1, 1: 0}ï¼Œè¿”å› 2ã€‚
- å‡è®¾ä¼ å…¥ n = 5ï¼Œé‚£ä¹ˆåˆå§‹ V = [4, 2, 1] å’Œ dp = {4: 3, 2: 1, 1: 0}ï¼Œè¿˜æ˜¯è¿”å› 2ã€‚
- å‡è®¾ä¼ å…¥ n = 6ï¼Œé‚£ä¹ˆåˆå§‹ V = [5, 2, 1] å’Œ dp = {5: 4, 2: 1, 1: 0}ï¼Œè¿˜æ˜¯è¿”å› 2ã€‚
- å‡è®¾ä¼ å…¥ n = 7ï¼Œé‚£ä¹ˆåˆå§‹ V = [6, 3, 2, 1] å’Œ dp = {6: 5, 3: 2, 2: 1, 1: 0}ï¼Œè¿˜æ˜¯è¿”å› 3ã€‚

å†…å¾ªç¯è¿‡æ»¤æ‰äº†éè´¨æ•°ï¼Œçœ‹å†…å¾ªç¯çš„æ¡ä»¶ï¼Œ`range(2, r+1)`ï¼Œè¦çŸ¥é“ r å°±æ˜¯è¦æ±‚çš„æœ€å¤§è‡ªç„¶æ•°çš„äºŒæ¬¡æ–¹æ ¹ï¼Œæ‰€ä»¥è¿‡è™‘ä¹Ÿå°±åªéœ€è¦åœ¨è¿™ä¸ªæ•°å€¼ä»¥å†…ï¼Œè¶…è¿‡çš„å€¼å°±ä¸éœ€è¦è€ƒè™‘äº†ã€‚

å¦å¤–ï¼Œåªè¦ `p*p > key` å³æ½œåœ¨çš„è´¨æ•°çš„å¹³æ–¹å¤§äºå½“å‰å¤„ç†ä¸­çš„ dp é¡¹å¯¹åº”çš„è‡ªç„¶æ•°ï¼Œæˆ–è€… dp[p] == dp[p-1] å³å‰åä¸¤ä¸ªè®°å½•ç›¸ç­‰è¡¨ç¤ºå·²ç»å¤„ç†è¿‡ï¼Œå¦åˆ™ä¸ä¼šå‡ºç°ç›¸ç­‰çš„æƒ…å†µï¼Œè¿™ä¸¤ç§æƒ…å†µéƒ½ä¼šç›´æ¥è·³è¿‡å¤„ç†ã€‚

å¤„ç† dp çš„è¿™å¥ä»£ç  `dp[key] += -dp[key//p] + dp[p-1]`ï¼Œåœ¨ç¬¬ä¸€è½®å¾ªç¯å¤„ç†æ—¶ï¼Œå°±æ˜¯å°†å½“å‰çš„ dp è®°å½•çš„æ•°é‡å‡åŠï¼Œå³å‡æ‰äº†å¶æ•°çš„é‡ã€‚å¹¶ä¸”ï¼Œå°†å‰é¢çš„å·²è§£å†³çš„è´¨æ•°æ•°é‡ `dp[p-1]` ç›¸åº”è®°å½•åˆ°æ–°çš„ä½ç½®ä¸Šæ¥ã€‚



# ğŸš© Hash Tree
- å“ˆå¸Œæ ‘ï¼ˆHashTreeï¼‰æŸ¥æ‰¾ç®—æ³• https://zhuanlan.zhihu.com/p/290832847

`å“ˆå¸Œæ ‘` Hash Tree æ˜¯ä¸€ç§åœ¨ç†è®ºä¸Šå’Œå®é™…åº”ç”¨ä¸­å‡èƒ½æœ‰æ•ˆåœ°å¤„ç†å†²çªçš„æ–¹æ³•ï¼Œä¸€èˆ¬çš„å“ˆå¸Œç®—æ³•èµ¶æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯ O(1)ï¼Œè€Œä¸”åŸºæœ¬æ˜¯ä»¥ç©ºé—´æ¢æ—¶é—´ï¼Œè¿™å¾ˆå®¹æ˜“å¯¼è‡´å¯¹å­˜å‚¨ç©ºé—´æ— é™åˆ¶çš„éœ€æ±‚ï¼Œè€Œå“ˆå¸Œæ ‘åˆ©ç”¨åŸºäºè´¨æ•°åˆ†è¾¨å®šç†ï¼Œæ„å»ºå‡ºä¸€ä¸ªè´¨æ•°çš„æ ‘å½¢ç»“æ„ï¼Œä½¿å¾—å¯¹ç©ºé—´çš„éœ€æ±‚æ§åˆ¶åœ¨ä¸€å®šèŒƒå›´å†…ã€‚

è´¨æ•° Prime æŒ‡é‚£äº›åªèƒ½è¢« 1 å’Œè‡ªèº«æ•´é™¤çš„ä¸”å¤§äº 1 çš„è‡ªç„¶æ•°ï¼Œä¾‹å¦‚ 2ã€3ã€5ã€7ã€11ã€‚å¾ˆæ˜æ˜¾ï¼Œé™¤äº† 2ï¼Œæˆ–è€…è¯´ï¼Œæ‰€æœ‰å¤§äº 2 çš„è´¨æ•°ä¸­ï¼Œä¸ªä½æ•°åªæœ‰ 1, 3, 7, 9ã€‚è€Œä¸”ï¼Œè´¨æ•°æ»¡è¶³å”¯ä¸€åˆ†è§£å®šç†ï¼šä»»ä¸€å¤§äº 1 çš„è‡ªç„¶æ•°ï¼Œè¦ä¹ˆæœ¬èº«æ˜¯è´¨æ•°ï¼Œè¦ä¹ˆå¯ä»¥åˆ†è§£ä¸ºå‡ ä¸ªè´¨æ•°ä¹‹ç§¯ï¼Œä¸”è¿™ç§åˆ†è§£æ˜¯å”¯ä¸€çš„ã€‚

æ ¹æ®è´¨æ•°å”¯ä¸€åˆ†è§£å®šç†ï¼Œä¸€ä¸ªæ•°å¯ä»¥é™¤ä»¥ä¸€ç³»ä¾‹è´¨æ•°è€Œå¾—åˆ°åˆ†è§£ï¼Œè€Œä¸”è¿™äº›è´¨æ•°åºåˆ—å”¯ä¸€ï¼Œæ¯ä¸ªæ•°éƒ½ä¸åŒï¼Œä¾‹å¦‚ï¼š

    9  = 3 * 3
    10 = 2 * 5
    20 = 2 * 2 * 5
    30 = 2 * 3 * 5
    77 = 7 * 11 

è´¨æ•°åˆ†è¾¨å®šç†ç®€å•çš„è¯´å°±æ˜¯ N ä¸ªè´¨æ•°çš„ä¹˜ç§¯ï¼Œå°±æ˜¯è¿™ N ä¸ªç§¯æ•°å¯ä»¥ç²¾ç¡®åˆ†è¾¨çš„æ•´æ•°æ•°é‡ï¼Œè¿™ N ä¸ªç§¯æ•°ç»„æˆçš„åºåˆ—å…·æœ‰å”¯ä¸€æ€§ï¼Œæ¯ä¸ªæ•°éƒ½æœ‰å”¯ä¸€çš„è´¨æ•°åˆ†è§£åºåˆ—ã€‚

ä¾‹å¦‚ï¼š2 ä¸ªè¿ç»­è´¨æ•° 2ï¼Œ3 å¯ä»¥åˆ†è¾¨ 2Ã—3 = 6 ä¸ªæ•´æ•°ï¼ŒåŒ…æ‹¬ 1, 2, 3, 4, 5, 6ï¼Œå¦‚ä¸‹ï¼Œå°†è¿™ 6 æ•´æ•°å¯¹ 2ï¼Œ3 åˆ†åˆ«æ±‚ä½™å¾—åˆ°å”¯ä¸€çš„ä½™æ•°åºåˆ—ï¼š

    | Int | 2 | 3 | ä½™æ•°åºåˆ— |
    |-----|---|---|----------|
    |   1 | 1 | 1 | 1ï¼Œ1     |
    |   2 | 0 | 2 | 0ï¼Œ2     |
    |   3 | 1 | 0 | 1ï¼Œ0     |
    |   4 | 0 | 1 | 0ï¼Œ1     |
    |   5 | 1 | 2 | 1ï¼Œ2     |
    |   6 | 0 | 0 | 0ï¼Œ0     |

å¯è§ï¼Œä½¿ç”¨è¿ç»­è´¨æ•° 2ï¼Œ3ï¼Œå°±å¯ä»¥é€šè¿‡ä½™æ•°åºåˆ—åˆ†è¾¨ 6 ä¸ªæ•°ï¼Œè¿™ 6 ä¸ªæ•°çš„ä½™æ•°åºåˆ—ä¸ä¼šç›¸åŒçš„ã€‚

å“ˆå¸Œæ ‘ç»“æ„ç‰¹å¾å¦‚ä¸‹ï¼š

- å“ˆå¸Œæ ‘ä¸­æ¯å±‚èŠ‚ç‚¹éƒ½ä¸ä¸€ä¸ªè´¨æ•°å…³è”ï¼Œä»¥æ ¹èŠ‚ç‚¹ä¸º L0ï¼Œå…³è”ç¬¬ä¸€ä¸ªè´¨æ•° 2ï¼Œç„¶å L1 å…³è”ç¬¬ 2 ä¸ªè´¨æ•° 3ï¼Œä¾æ­¤ç±»æ¨ã€‚
- å­èŠ‚ç‚¹çš„æ•°é‡ä¸å±‚çº§å¯¹åº”çš„è´¨æ•°çš„åˆ†è¾¨æ•°åˆ—ç›¸åŒï¼›
- key å¯¹åº”çš„èŠ‚ç‚¹å¯ä»¥è®°å½•è¯¥æ•°åŠå…¶ä»–ä¿¡æ¯ï¼›

ä¾‹å¦‚ï¼Œä»¥ä¸‹æ˜¯ 4 å±‚çš„ Hash Treeï¼Œå®é™…ä½¿ç”¨ä¸­ï¼Œè¿™äº›èŠ‚ç‚¹æ˜¯è¿è¡Œä¸­æŒ‰éœ€è¦åŠ¨æ€æ·»åŠ çš„ï¼Œæ‰€ä»¥ä¸ä¼šåœ¨åˆ›å»ºæ—¶å°±å ç”¨å¤§é‡å†…å­˜ï¼š

                   Hash Tree
                       0                      <-- L0 [2 nodes]                 R
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                     â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
              0                   1           <-- L1 [3 nodes]          R0           R1
         â”Œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”                            â”Œâ”€â”€â”€â”¼â”€â”€â”€â”    â”Œâ”€â”€â”€â”¼â”€â”€â”€â”
         0    1    2         0    1    2      <-- L2 [5 nodes]     R00 R01 R02  R00 R01 R02
     â”Œâ”€â”¬â”€â”¼â”€â”¬â”€â” â”Œâ”€â”¬â”€â”¼â”€â”¬â”€â” â”Œâ”€â”¬â”€â”¼â”€â”¬â”€â” â”Œâ”€â”¬â”€â”¼â”€â”¬â”€â”  
     0 1 2 3 4 0 1 2 3 4 0 1 2 3 4 0 1 2 3 4  <-- L3 [7 nodes]

æ·±åº¦ä¸º 10 å±‚çš„å“ˆå¸Œæ ‘å°±å¯ä»¥åˆ†è¾¨ 6464693230 = 2x3x5x7x11x13x17x19x23x29 ä¸ªæ•´æ•°ï¼Œè¶…è¿‡ Int32 å¯è¡¨ç¤ºçš„ä¸åˆ° 43 äº¿èŒƒå›´ï¼Œè€Œæ·±åº¦ä¸º 100 å±‚çš„å“ˆå¸Œæ ‘å°±å¯ä»¥åˆ†è¾¨ 4.711930e219 ä¸ªæ•´æ•°ã€‚è€Œæ·±åº¦ä¸º H çš„æ ‘åªéœ€è¦å®Œæˆ H æ¬¡å–ä½™è¿ç®—å³å¯å®Œæˆåˆ†è¾¨ï¼Œæ„å‘³ç€ 10 æ¬¡å–ä½™è¿ç®—ï¼Œå³å¯åˆ†è¾¨åˆ° 64 äº¿ä¸ªæ•°ï¼Œè€Œ 100 æ¬¡å–ä½™è¿ç®—ç›¸å½“äº 100 ä¸ª CPU æŒ‡ä»¤å‘¨æœŸï¼Œå³å¯å®Œæˆåˆ†è¾¨ 4.711930e219 ä¸ªæ•°ï¼Œæ•ˆç‡å¾ˆé«˜ï¼Œåˆ†è¾¨æ€§å¾ˆå¼ºã€‚å¯ä»¥ç”¨äº IP è·¯ç”±ç­‰å¯ä»¥ç”¨æ•´æ•°ä½œä¸ºå…³é”®å­—è¿›è¡Œæ£€ç´¢çš„åœºæ™¯ã€‚å…·æœ‰ç»“æ„ç®€å•ã€æ£€ç´¢è¿…é€Ÿã€åˆ é™¤èŠ‚ç‚¹ç»“æ„ä¸å˜ç­‰ä¼˜ç‚¹ï¼Œç¼ºç‚¹æ˜¯ä¸èƒ½åŸºäºå…³é”®å­—æ’åºã€‚

Hash Tree ä¼˜ç‚¹

- ç»“æ„ç®€å•ï¼Œæ¯å±‚èŠ‚ç‚¹çš„å­èŠ‚ç‚¹ä¸ºè¿ç»­çš„è´¨æ•°ï¼Œå­èŠ‚ç‚¹å¯ä»¥éšæ—¶åˆ›å»ºï¼Œå› æ­¤å“ˆå¸Œæ ‘çš„ç»“æ„æ˜¯åŠ¨æ€çš„ï¼Œä¸éœ€è¦æå‰åˆ†é…ç©ºé—´ã€‚æ³¨æ„ï¼Œå“ˆå¸Œæ ‘æ˜¯ä¸€ä¸ªå•å‘å¢åŠ çš„ç»“æ„ï¼Œå³å“ˆå¸Œæ ‘çš„æ€»èŠ‚ç‚¹æ•°å¢é•¿åï¼Œä¸ä¼šéšæ•°æ®é‡å‡å°‘è€Œå‡å°‘ï¼Œç›®çš„æ˜¯ä¸ºäº†é¿å…ç»“æ„çš„è°ƒæ•´å¸¦æ¥çš„é¢å¤–æ¶ˆè€—ã€‚
- æŸ¥æ‰¾è¿…é€Ÿï¼Œå¯¹äº 32bit æ•´æ•°ï¼Œå“ˆå¸Œæ ‘å±‚çº§æœ€å¤šä½¿ç”¨ 10 å±‚ï¼Œå› æ­¤æœ€å¤šåªéœ€è¦åæ¬¡å–ä½™å’Œæ¯”è¾ƒæ“ä½œï¼Œå°±å¯ä»¥çŸ¥é“è¿™ä¸ªå¯¹è±¡æ˜¯å¦å­˜åœ¨ï¼Œè¿™ä¸ªåœ¨ç®—æ³•é€»è¾‘ä¸Šå†³å®šäº†å“ˆå¸Œæ ‘çš„ä¼˜è¶Šæ€§ã€‚
- ç»“æ„ä¸å˜ï¼Œå“ˆå¸Œæ ‘åœ¨åˆ é™¤çš„æ—¶å€™ï¼Œå¹¶ä¸åšä»»ä½•ç»“æ„è°ƒæ•´ï¼Œææœ‰æ•ˆç‡ã€‚å¸¸è§„æ ‘ç»“æ„åœ¨å¢åˆ æ“ä½œåéœ€è¦è¿›è¡Œç»“æ„è°ƒæ•´ï¼Œå¦åˆ™å¯èƒ½é€€åŒ–ä¸ºé“¾è¡¨ç»“æ„ï¼Œè€Œå¯¼è‡´æŸ¥æ‰¾æ•ˆç‡çš„é™ä½ã€‚ä½†æ˜¯ï¼Œçº¢é»‘æ ‘è¿™ç§æ ‘å¼€ç»“æ„ä¼šåˆ©ç”¨çº¢è‰²æ ‡è®°èŠ‚ç‚¹ä¸ç”¨è¿›è¡Œè°ƒæ•´ï¼Œæ¥æå‡æ•ˆç‡ã€‚

Hash Tree ç¼ºç‚¹æ˜¯æ— åºæ€§ï¼Œä¸æ”¯æŒæ’åºã€‚å¦‚æœåœ¨æ­¤åŸºç¡€ä¸Šä¸åšä»»ä½•æ”¹è¿›çš„è¯å¹¶è¯•å›¾é€šè¿‡éå†æ¥å®ç°æ’åºï¼Œé‚£ä¹ˆæ“ä½œæ•ˆç‡å°†è¿œè¿œä½äºå…¶ä»–ç±»å‹çš„æ•°æ®ç»“æ„ã€‚

å¯ä»¥çœ‹åˆ°ï¼Œæ¯ä¸ªèŠ‚ç‚¹æ‹¥æœ‰çš„å­èŠ‚ç‚¹æ•°é‡ä¸ä¸å¯¹åº”çš„è´¨æ•°æ‰€æ‹¥æœ‰çš„ä½™æ•°åºåˆ—ç›¸åŒã€‚å“ˆå¸Œæ ‘ä¸Šç”±æ ¹èŠ‚ç‚¹ï¼Œåˆ°ä»»æ„å¶èŠ‚ç‚¹çš„è·¯å¾„é€‰æ‹©å°±æ˜¯é€šè¿‡ä¸€æ­¥æ­¥æ¨¡è¿ç®—å¾—åˆ°çš„ä½™æ•°æ¥å†³å®šçš„ã€‚ä½¿ç”¨æ—¶ï¼ŒæŒ‰å…ˆæ¥å…ˆå ä½çš„åŸåˆ™ä¼˜å…ˆä½¿ç”¨å‰é¢çš„èŠ‚ç‚¹ï¼Œå¦‚èŠ‚ç‚¹å·²ç»è¢«å ç”¨ï¼Œåˆ™å¾€ä¸‹ä¸€çº§æŸ¥æ‰¾ã€‚

ä¾‹å¦‚ï¼Œå…ˆåœ¨å“ˆå¸Œè¡¨ä¸­æ’å…¥ 6ï¼Œæ³¨æ„è¿™é‡Œçš„ 6 æ˜¯ keyï¼Œå¯ä»¥å°†å…¶å¯¹åº”çš„æ•°æ®å­˜å…¥å“ˆå¸Œè¡¨ä¸­ã€‚å…ˆåœ¨æ ¹èŠ‚ç‚¹å³ `L0` å±‚ä¸­æ‰§è¡Œ MOD 2ï¼Œå¾—åˆ° 0ï¼Œå¹¶ä¸”æ ‘ä¸­æ²¡æœ‰ä»»ä½•å­èŠ‚ç‚¹ï¼Œæ‰€ä»¥ `R0` = nullï¼Œéœ€è¦åˆ›å»ºå­èŠ‚ç‚¹ä¿å­˜ 6ã€‚

ç„¶åï¼Œå†æ’å…¥ 4ï¼ŒåŒæ ·è¿˜æ˜¯åœ¨æ ¹èŠ‚ç‚¹ä¸­æ‰§è¡Œ MOD 2 è¿ç®—ï¼Œå¾—åˆ° 0ï¼Œä½†æ­¤æ—¶ `R0` å·²ç»è¢« 6 å…ˆè¡Œå ç”¨ï¼Œæ‰€ä»¥éœ€è¦åœ¨ `L1` å±‚æ‰§è¡Œå¤šä¸€æ¬¡çš„æ¨¡è¿ç®—ï¼Œå³ 4 MOD 3 = 1ï¼Œäºæ˜¯æ•°å­— 4 å°±å®‰å®¶ `R01` è¿™ä¸ªèŠ‚ç‚¹ã€‚

åŒç†ï¼Œå¦‚æœå†æ’å…¥ 2ï¼Œå…ˆåå°±ä¼šç»è¿‡ `R0`ï¼Œå†è®¡ç®— 2 MOD 3 = 2ï¼Œä¿å­˜åˆ° `R02` èŠ‚ç‚¹ä¸­ã€‚

æŸ¥è¯¢æ—¶ä¹ŸæŒ‰åŒæ ·é€»è¾‘ï¼Œæ¯”å¦‚ï¼ŒæŸ¥è¯¢ 3ï¼Œå…ˆè®¡ç®— 3 MOD 2 = 1ï¼Œå¯¹åº” `R1` èŠ‚ç‚¹ï¼Œä½†å®ƒæ˜¯ null èŠ‚ç‚¹ï¼Œæ‰€ä»¥æ•°æ®å¹¶æ²¡æœ‰åœ¨å“ˆå¸Œè¡¨ä¸­ä¿å­˜ã€‚å¦‚æœæŸ¥è¯¢ 2ï¼Œè®¡ç®— 2 MOD 2 = 2ï¼Œæ­¤æ—¶æŸ¥è¯¢åˆ° `R0` èŠ‚ç‚¹ï¼Œä½†æ˜¯å¯¹æ¯”å‘ç°å·²ç»è¢« 6 å æ®ã€‚æ‰€ä»¥ç»§ç»­å¾€ä¸‹å±‚æŸ¥è¯¢ï¼Œè®¡ç®— 2 MOD 3 = 2ï¼ŒæŸ¥è¯¢ `R2` èŠ‚ç‚¹ï¼Œæ¯”è¾ƒå¾—åˆ°æ­£ç¡®ç»“æœã€‚

åˆ é™¤æ—¶ä¹ŸæŒ‰åŒæ ·é€»è¾‘ï¼Œå…ˆæ‰¾åˆ°èŠ‚ç‚¹ï¼Œå†æ ‡è®°ä¸ºåˆ é™¤çŠ¶æ€ã€‚

é€šè¿‡ä»¥ä¸Šçš„æµç¨‹è§£æï¼Œå¯ä»¥å¾ˆæ¸…æ¥šï¼Œå°½ç®¡å“ˆå¸Œè¡¨å…·æœ‰éå¸¸é«˜çš„æ•°å€¼åˆ†è¾¨èƒ½åŠ›ï¼Œä½†å¹¶æ²¡æœ‰å› ä¸ºè¿™ä¸ªèƒ½åŠ›è€Œå ç”¨å¤§é‡å†…å­˜ï¼Œé™¤éæ˜¯çœŸå®ä½¿ç”¨åˆ°äº†è¿™ä¹ˆå¤šçš„æ•°æ®ã€‚

å“ˆå¸Œæ ‘çš„é€€åŒ–æ˜¯æŒ‡ï¼šç»è¿‡å“ˆå¸Œæ ‘ç»è¿‡åå¤çš„æ•°æ®æ’å…¥å’Œåˆ é™¤ä¹‹åï¼Œæ•°æ®è®°å½•ä¸¥é‡åå‘å¹¶é›†ä¸­äºæ ‘ç»“æ„çš„æŸæ¡æˆ–æŸå‡ æ¡åˆ†æ”¯è·¯å¾„ä¸Šã€‚è¿™æ ·çš„åˆ†æ”¯è·¯å¾„å¹³å‡æŸ¥æ‰¾é•¿åº¦æ¥è¿‘é¢„è®¾çš„æœ€å¤§æŸ¥æ‰¾é•¿åº¦ã€‚

åœ¨å®é™…åº”ç”¨ä¸­ï¼Œæ‰€æ’å…¥çš„æ•°æ®è®°å½•æ˜¯ä¸èƒ½äº‹å…ˆä¼°è®¡çš„ï¼Œå“ˆå¸Œæ ‘åªèƒ½è¢«åŠ¨çš„æ¥å—å’Œå¤„ç†ã€‚å› æ­¤å¯ä»¥åœ¨å“ˆå¸Œæ ‘ä»£ç ä¸­æ”¾å…¥å‡ ä¸ªç»Ÿè®¡è®°å½•æŒ‡æ ‡ï¼Œç”¨äºè¡¡é‡å“ˆå¸Œæ ‘çš„é€€åŒ–ç¨‹åº¦ã€‚

# ğŸš© Trie Tree
- https://visualgo.net/en/suffixtree
- https://www.studytonight.com/advanced-data-structures/trie-data-structure-explained-with-examples

å­—å…¸æ ‘ï¼Œä¹ŸæŒ‰å…¶ç‰¹æ€§ç§°ä¸ºå‰ç¼€æ ‘ï¼ŒæŒ‰å…¶åŠŸèƒ½ç§°ä¸ºå•è¯æŸ¥æ‰¾æ ‘ï¼Œä¹Ÿå¯ä»¥æŒ‰å¤šèŠ‚ç‚¹åˆ†æ”¯å½’ç±»ä¸º N-ary Treeï¼Œå¹¿æ³›åº”ç”¨äºç»Ÿè®¡å’Œæ’åºå¤§é‡çš„å­—ç¬¦ä¸²ï¼Œä½†ä¸ä»…é™äºå­—ç¬¦ä¸²ï¼Œå¸¸ç”¨äºæœç´¢å¼•æ“ç³»ç»Ÿè¿›è¡Œè¯é¢‘ç»Ÿè®¡ã€‚

å®ƒçš„ä¼˜ç‚¹æ˜¯æœ€å¤§é™åº¦åœ°å‡å°‘æ— è°“çš„å­—ç¬¦ä¸²æ¯”è¾ƒï¼ŒæŸ¥è¯¢æ•ˆç‡æ¯”è¾ƒé«˜ã€‚

Trie åº”ç”¨äºè‡ªåŠ¨å®ŒæˆåŠŸï¼Œç”¨æˆ·è¾“å…¥å°±å¯ä»¥æ ¹æ®é¢‘åº¦ä¼˜å…ˆç»™å‡ºè¾“å…¥æç¤ºï¼Œæ¯”å¦‚è¾“å…¥ foot å°±å¯ä»¥æç¤º football è€Œä¸æ˜¯ footpathã€‚å¯ä»¥ç”¨æ¥ Trie æ¥ä¿å­˜é¢å¤–çš„ä¿¡æ¯ï¼Œå¦‚è¯é¢‘ï¼Œåœ¨ç”¨æˆ·æœç´¢æ—¶ï¼Œè‡ªåŠ¨æç¤º footballï¼Œå› ä¸ºå®ƒå‡ºç°çš„å¯èƒ½æ€§æ›´é«˜ã€‚

Trie è¿˜å¯ä»¥ç”¨äºæ‹¼å†™æ£€æŸ¥ï¼Œå°†ç”¨æˆ·è¾“å…¥çš„å•è¯ï¼Œå¯¹æ¯”å­—å…¸ç°æœ‰çš„å‰ç¼€å°±å¯ä»¥åˆ¤æ–­ç”¨æˆ·è¾“å…¥çš„æ˜¯ä¸æ˜¯æ­£ç¡®çš„å•è¯ã€‚

Key Points

- æ—¶é—´å¤æ‚åº¦ O(m * n)ï¼Œå…¶ä¸­ m ä¸ºå•è¯é‡ï¼Œn ä¸ºå•è¯å¹³å‡é•¿åº¦ã€‚
- èŠ‚ç‚¹æ’å…¥æ—¶é—´å¤æ‚åº¦ã€ç©ºé—´å¤æ‚åº¦éƒ½ä¸º O(n)ï¼Œå…¶ä¸­ n ä¸ºå•è¯é•¿åº¦ã€‚
- å‰ç¼€æˆ–èŠ‚ç‚¹æœç´¢æ—¶é—´å¤æ‚åº¦ O(n)ï¼Œå…¶ä¸­ n ä¸ºå•è¯é•¿åº¦ã€‚

å­—å…¸æ ‘æ ¸å¿ƒæ€æƒ³æ˜¯ç©ºé—´æ¢æ—¶é—´ï¼Œåˆ©ç”¨å­—ç¬¦ä¸²çš„å…¬å…±å‰ç¼€æ¥é™ä½æŸ¥è¯¢æ—¶é—´çš„å¼€é”€ä»¥è¾¾åˆ°æé«˜æ•ˆç‡çš„ç›®çš„ã€‚

Trie Tree ç‰¹å¾ï¼š

- é™¤`æ ¹èŠ‚ç‚¹`ä¸å«å­—ç¬¦å¤–ï¼Œæ‰€æœ‰èŠ‚ç‚¹åŒ…éƒ½åªåŒ…å«ä¸€ä¸ªå­—ç¬¦å’Œä¸€ä¸ªç»ˆç»“æ ‡è®°ï¼Œå¦‚æœæ˜¯ç»ˆç»“å­—ç¬¦ï¼Œåˆ™æ ‡è®°ä¸º`ç»ˆç»“èŠ‚ç‚¹`ã€‚
- ä»æ ¹èŠ‚ç‚¹åˆ°ä»»ä¸€`ç»ˆç»“èŠ‚ç‚¹`ï¼Œè·¯å¾„ä¸Šç»è¿‡çš„å­—ç¬¦è¿æ¥èµ·æ¥ï¼Œä¸ºè¯¥èŠ‚ç‚¹å¯¹åº”çš„å­—ç¬¦ä¸²ã€‚
- æ¯ä¸ªèŠ‚ç‚¹çš„æ‰€æœ‰å­èŠ‚ç‚¹åŒ…å«çš„å­—ç¬¦éƒ½ä¸ç›¸åŒã€‚
- å®ƒçš„ key éƒ½ä¸ºå­—ç¬¦ä¸²ï¼Œèƒ½åšåˆ°é«˜æ•ˆæŸ¥è¯¢å’Œæ’å…¥ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(k)ï¼Œkä¸ºå­—ç¬¦ä¸²é•¿åº¦ï¼Œç¼ºç‚¹æ˜¯å¦‚æœå¤§é‡å­—ç¬¦ä¸²æ²¡æœ‰å…±åŒå‰ç¼€æ—¶å¾ˆè€—å†…å­˜ã€‚

è¿™ç§ç»“æ„å†³å®šäº†å­—å…¸æ ‘æ¯”è¾ƒæ¶ˆè€—ç©ºé—´ï¼Œä¸€ä¸ªèŠ‚ç‚¹åªåŒ…å«ä¸€ä¸ªå­—ç¬¦ï¼Œå¸¦ä¸€ä¸ªåˆ—è¡¨æŒ‡é’ˆã€‚

Tire æ ‘å¯ä»¥å½’ç»“ä¸ºå•†æ•°ç±»å“ˆå¸Œå‡½æ•°ï¼Œé‡‡ç”¨ 26 ä½è®¡æ•°è¿›åˆ¶æ–¹å¼ï¼ˆä»¥è‹±æ–‡å­—æ¯ä¸ºåŸºç¡€ï¼‰ã€‚

å…³äºè‹±æ–‡å•è¯çš„ç»Ÿè®¡æƒ…å†µè¡¨æ˜ï¼Œå­—æ¯æ˜¯æœ‰ä¸åŒçš„ä½¿ç”¨é¢‘åº¦çš„ï¼Œæœ€å¸¸ç”¨çš„ä¸º E T A O I N S H R Dï¼Œç»å¤§å¤šæ•°è‹±æ–‡å•è¯é•¿åº¦ä¸º 8 ä¸ªå­—æ¯ï¼Œæœ€é•¿æœ‰ 20 ä¸ªå­—æ¯ã€‚

ç”±æ•°æ®ç»Ÿè®¡å¯ä»¥åˆ†æå¾—å‡º Tire æ ‘çš„åŸºæœ¬æƒ…å†µï¼š

- æœ€å¤§æŸ¥æ‰¾é•¿åº¦è‡³å°‘è¦è®¾ç½®è‡³ 20ã€‚
- å¹³å‡æœ€å¤§æŸ¥æ‰¾é•¿åº¦åº”å½“æ¥è¿‘äº 8ã€‚
- å„ä¸ªåˆ†æ”¯è·¯å¾„ä¸Šçš„æ•°æ®è®°å½•åˆ†å¸ƒä¸å‡åŒ€ï¼ŒæŸäº›è·¯å¾„ä¸Šè¿‡å¤šï¼ŒæŸäº›è·¯å¾„ä¸Šè¿‡å°‘ã€‚

ä½¿ç”¨å“ˆå¸Œæ ‘è¿›è¡Œå¤„ç†æ›´æœ‰ä¼˜åŠ¿ï¼š

- æ— éœ€å¯¹è‹±æ–‡å•è¯çš„é•¿åº¦åšå‡ºé™åˆ¶ã€‚
- åªæ˜¯å•è¯è¾ƒé•¿æ—¶ï¼Œå–ä½™è¿ç®—éœ€è¦æ¶ˆè€—è¾ƒå¤š CPU æ—¶é—´ã€‚ä¹Ÿå¯ä»¥å¯¹è‹±æ–‡å•è¯é¢„å…ˆä½¿ç”¨ä½™æ•°ç±»å“ˆå¸Œå‡½æ•°è¿›è¡Œå¤„ç†ï¼Œå°†ç»“æœæ•°å€¼ä½œä¸ºå­—ç¬¦ä¸²çš„å…³é”®å­—ã€‚è¿™æ ·å¤„ç†æ•´æ•°è¦è¿œä¼˜äºå¤„ç†é•¿å­—ç¬¦ä¸²ã€‚
- è‹±æ–‡å•è¯æ•°é‡è¶…è¿‡ 100 ä¸‡ï¼Œå¸¸ç”¨å•è¯ 5 ä¸‡ï¼Œå“ˆå¸Œæ ‘å¯ä»¥è½»æ¾å®ç°æŸ¥æ‰¾ã€‚ä»¥æœ¬æ–‡æ¨èçš„é™¤æ•°æ•°åˆ— [å…¬å¼] ä¸ºä¾‹ï¼Œé‚£ä¹ˆæœ€å¤§æŸ¥æ‰¾é•¿åº¦é¢„ä¼°ä¸º3ï¼ˆ256Ã—255Ã—253 = 16515840ï¼Œè¿œå¤§äº1000000ï¼‰ï¼Œå…¶å¹³å‡æŸ¥æ‰¾é•¿åº¦åº”è¯¥ä¸è¶…è¿‡3ã€‚
- æ•°æ®è®°å½•éƒ½ä¼šé è¿‘æ ¹èŠ‚ç‚¹ï¼Œå„åˆ†æ”¯è·¯å¾„æ•°æ®æ˜¯å‡è¡¡çš„ã€‚å¯ä»¥ä¼˜å…ˆæ’å…¥å‡ºç°é¢‘æ¬¡é«˜çš„å•è¯ï¼Œå†æ’å…¥å‡ºç°é¢‘æ¬¡ä½çš„å•è¯ï¼Œæé«˜æŸ¥è¯¢å‡»ä¸­æ¦‚ç‡ï¼Œå‡å°‘å¹³å‡æŸ¥æ‰¾é•¿åº¦ã€‚

æ¯”å¦‚ï¼Œä»¥å•è¯ ish, inn, cab, app, ap æ¥å»ºç«‹æ ‘çŠ¶ç»“æ„ï¼Œæ³¨æ„ï¼Œä½¿ç”¨ â€¢ è¡¨ç¤ºç»ˆç»“èŠ‚ç‚¹æ ‡è®°ï¼š

            R
     â”Œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”
     a      c     i
     |      |   â”Œâ”€â”´â”€â”
     pâ€¢     a   n   s
     |      |   |   |
     pâ€¢     bâ€¢  nâ€¢  hâ€¢

å‚è€ƒä»¥ä¸‹ä»£ç ï¼š

```java
class Trie {
    class TrieNode {
        boolean isEndOfWord;
        TrieNode children[];
        
        public TrieNode(){
            isEndOfWord = false;
            children = new TrieNode[26];
        }
    }
    
    TrieNode root;

    public Trie() {
        root = new TrieNode();
    }
    
    public void insert(String word) {
        TrieNode node = root;
        
        for (char c : word.toCharArray()) {
            if (node.children[c-'a'] == null) {
                node.children[c-'a'] = new TrieNode();
            }
            node = node.children[c-'a'];
        }
        node.isEndOfWord = true;
    }
    
    public boolean search(String word) {
        return isMatch(word, root, 0, true);
    }

    public boolean startsWith(String prefix) {
        return isMatch(prefix, root, 0, false);
    }
    
    public boolean isMatch( String s, TrieNode node, int index, boolean isFullMatch) {
        if (node == null)
            return false;
        
        if (index == s.length())
            return !isFullMatch || node.isEndOfWord;
        
        return isMatch(s, node.children[s.charAt(index) - 'a'], index + 1, isFullMatch);      
    }    
    
    public static void main(String[] args){
        Trie trie = new Trie();
        trie.insert("cat");
        trie.insert("car");
        trie.insert("dog");
        trie.insert("pick");
        trie.insert("pickle");
        boolean isPresent = trie.search("cat");
        System.out.println(isPresent);
        isPresent = trie.search("picky");
        System.out.println(isPresent);
        isPresent = trie.startsWith("ca");
        System.out.println(isPresent);
        isPresent = trie.startsWith("pen");
        System.out.println(isPresent);
    }
}
```


# ğŸš© Binary Tree äºŒå‰æ ‘ä¸å›¾è®º
- ç®—æ³•å¯¼è®º Introduction to Algorithms, 3rd Edition - 12 Binary Search Trees
- Data Structures & Algorithms in Java Chapter 8: Binary Trees & Chapter 9: Red-Black Trees
- Balanced Search Trees https://algs4.cs.princeton.edu/33balanced/
- å¦‚ä½•åœ¨ 15 åˆ†é’Ÿå†…å­¦ä¼šæ‘©æ–¯å¯†ç ï¼ŸNelson https://www.bilibili.com/video/av628068656/
- Matrix67: The Aha Moments - ä»€ä¹ˆæ˜¯Pé—®é¢˜ã€NPé—®é¢˜å’ŒNPCé—®é¢˜ http://www.matrix67.com/blog/archives/105
- https://github.com/trekhleb/javascript-algorithms/tree/master/src/data-structures/tree
- PAT - Programming Ability Test è®¡ç®—æœºç¨‹åºè®¾è®¡èƒ½åŠ›è€ƒè¯• https://www.patest.cn/practice
- Data Structure Visualizations https://www.cs.usfca.edu/~galles/visualization/Algorithms.html
- B æ ‘è‡ªåœ¨äººå¿ƒ https://www.bilibili.com/video/BV1Aa4y1j7a4/
- B+Tree ä¸æ•°æ®åº“ç´¢å¼• https://www.bilibili.com/video/BV1hE41147tP

å›¾è®º Graph theory æ˜¯ç¦»æ•£æ•°å­¦çš„ä¸€ä¸ªåˆ†æ”¯ã€‚

å›¾è®ºèµ·æºäºä¸€ä¸ªè‘—åçš„æ•°å­¦é—®é¢˜ï¼ŒæŸ¯å°¼æ–¯å ¡ï¼ˆKonigsbergï¼‰é—®é¢˜ï¼Œå³ä¸ƒæ¡¥é—®é¢˜ã€‚è¿™ä¸ªé—®é¢˜æ˜¯åŸºäºä¸€ä¸ªç°å®ç”Ÿæ´»ä¸­çš„äº‹ä¾‹ï¼šå½“æ—¶ä¸œæ™®é²å£«æŸ¯å°¼æ–¯å ¡ï¼ˆä»Šæ—¥ä¿„ç½—æ–¯åŠ é‡Œå®æ ¼å‹’ï¼‰å¸‚åŒºè·¨æ™®åˆ—æˆˆåˆ©äºšæ²³ä¸¤å²¸ï¼Œæ²³ä¸­å¿ƒæœ‰ä¸¤ä¸ªå°å²›ï¼Œå°å²›ä¸æ²³çš„ä¸¤å²¸æœ‰ä¸ƒæ¡æ¡¥è¿æ¥ã€‚åœ¨æ‰€æœ‰æ¡¥éƒ½åªèƒ½èµ°ä¸€éçš„å‰æä¸‹ï¼Œå¦‚ä½•æ‰èƒ½æŠŠè¿™ä¸ªåœ°æ–¹æ‰€æœ‰çš„æ¡¥éƒ½èµ°éï¼Ÿ

1738 å¹´ï¼Œç‘å…¸æ•°å­¦å®¶ Euler è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œä»–ä¹Ÿæˆä¸ºäº†å›¾è®ºçš„åˆ›å§‹äººã€‚æ¬§æ‹‰æŠŠé¡¶ç‚¹çš„åº¦å®šä¹‰ä¸ºä¸è¯¥é¡¶ç‚¹ç›¸å…³è”çš„è¾¹çš„æ¡æ•°ï¼Œå¹¶ä¸”ä»–è¯æ˜äº†å­˜åœ¨ä»ä»»æ„ç‚¹å‡ºå‘ï¼Œç»è¿‡æ‰€æœ‰è¾¹æ°å¥½ä¸€æ¬¡ï¼Œå¹¶æœ€ç»ˆå›åˆ°å‡ºå‘é¡¶ç‚¹çš„èµ°æ³•çš„å……åˆ†å¿…è¦æ¡ä»¶æ˜¯ï¼šæ¯ä¸ªé¡¶ç‚¹çš„åº¦å‡ä¸ºå¶æ•°ã€‚äººä»¬ç§°ä¹‹ä¸ºæ¬§æ‹‰é—­è¿¹ï¼ˆEulerian walkï¼‰ï¼Œæ‰€ä»¥è¿™ä¸ªé—®é¢˜æ˜¯æ— è§£çš„ï¼Œå› ä¸ºæœ‰ 3 ä¸ªç‚¹çš„æ¥è¿æ˜¯å¥‡æ•°ã€‚

1859 å¹´ï¼Œå“ˆå¯†é¡¿å›è·¯è¢«æå‡ºï¼Œæ€èµ·äº†å›¾è®ºç ”ç©¶çš„çƒ­æ½®ã€‚é—®é¢˜æè¿°åœ¨ä¸€ä¸ªæœ‰å¤šä¸ªåŸå¸‚çš„åœ°å›¾ç½‘ç»œä¸­ï¼Œå¯»æ‰¾ä¸€æ¡ä»ç»™å®šçš„èµ·ç‚¹åˆ°ç»™å®šçš„ç»ˆç‚¹æ²¿é€”æ°å¥½ç»è¿‡æ‰€æœ‰å…¶ä»–åŸå¸‚ä¸€æ¬¡çš„è·¯å¾„ã€‚

1969å¹´ï¼Œé˜¿ä½©å°”(Appel)å’Œå“ˆè‚¯(Haken)å€ŸåŠ©è®¡ç®—æœºç»™å‡ºäº†å››è‰²çŒœæƒ³çš„è¯æ˜ï¼Œä½†è¿™ç§è¯æ˜æ–¹æ³•ä¸æ¼‚äº®ï¼Œå¦‚ä»Šä»æœ‰è®¸å¤šæ•°å­¦å®¶åœ¨åŠªåŠ›åœ°è¿½æ±‚ï¼Œè¯•å›¾ä»æ•°å­¦ç†è®ºä¸Šè¯æ˜ã€‚

å›¾è®ºä¸å…¶ä»–å­¦ç§‘ï¼Œæ‹“æ‰‘å­¦ã€è®¡ç®—æœºç§‘å­¦ç­‰çš„å…³ç³»å¯†åˆ‡ã€‚

å›¾è®ºæ˜¯ç¦»æ•£æ•°å­¦ä¸­çš„é‡è¦å†…å®¹ï¼Œå¹¶ä¸”å®ƒä¸æ‹“æ‰‘å­¦å¯†åˆ‡ç›¸å…³ã€‚ ç”¨ä¸€ç¬”ç”»è§£å†³äº†æŸ¯å°¼æ–¯å ¡é—®é¢˜ï¼ŒEuler åœ¨å¼€åˆ›äº†å›¾è®ºçš„åŒæ—¶ï¼Œä¹Ÿå¼€åˆ›äº†æ‹“æ‰‘å­¦ã€‚è€Œ 1852 å¹´æå‡ºçš„ å››è‰²çŒœæƒ³ ï¼Œå®é™…ä¸Šä¹Ÿæ˜¯å›¾è®ºä¸æ‹“æ‰‘å­¦çš„ç»¼åˆã€‚æ‹“æ‰‘å­¦(topology)æ˜¯ç ”ç©¶å‡ ä½•å›¾å½¢æˆ–ç©ºé—´ï¼Œåœ¨è¿ç»­æ”¹å˜å½¢çŠ¶åè¿˜èƒ½ä¿æŒä¸å˜çš„ä¸€äº›æ€§è´¨çš„å­¦ç§‘ã€‚å®ƒåªè€ƒè™‘ç‰©ä½“é—´çš„ä½ç½®å…³ç³»è€Œä¸è€ƒè™‘å®ƒä»¬çš„å½¢çŠ¶å’Œå¤§å°ã€‚

æ‹“æ‰‘å­¦å¯ä»¥åƒå›¾è®ºä¸€æ ·ç®€æ˜æ˜“æ‡‚ï¼Œä½†è¿™ä¸¤è€…éƒ½å¯ä»¥å¾ˆæŠ½è±¡ã€‚

å›¾è®ºä¹Ÿå¹¿æ³›æ¸—é€åœ¨è®¡ç®—æœºç§‘å­¦é¢†åŸŸä¸­ï¼Œè®¡ç®—æœºç§‘å­¦é¢†åŸŸæœ‰ç€å„ç§å„æ ·çš„å›¾è®ºç®—æ³•ï¼Œå¦‚ï¼šæ·±åº¦ä¼˜å…ˆéå†ï¼Œå¹¿åº¦ä¼˜å…ˆéå†ï¼Œæ‹“æ‰‘æ’åºï¼Œå¼ºè¿é€šåˆ†é‡ï¼Œå•æºæœ€çŸ­è·¯ï¼Œå¤šæºæœ€çŸ­è·¯ï¼Œæœ€å°ç”Ÿæˆæ ‘ï¼Œæœ€å¤§æµã€‚

æˆ´å…‹æ–¯ç‰¹æ‹‰ç®—æ³• Dijkstraâ€™s algorithm æ˜¯ç”±è·å…°è®¡ç®—æœºç§‘å­¦å®¶è‰¾å…¹èµ«å°”Â·æˆ´å…‹æ–¯ç‰¹æ‹‰æå‡ºçš„æœ€çŸ­å¯»è·¯ç®—æ³•ï¼Œä½¿ç”¨äº†å¹¿åº¦ä¼˜å…ˆæœç´¢è§£å†³éè´Ÿæƒæœ‰å‘å›¾çš„å•æºæœ€çŸ­è·¯å¾„é—®é¢˜ï¼Œç®—æ³•æœ€ç»ˆå¾—åˆ°ä¸€ä¸ªæœ€çŸ­è·¯å¾„æ ‘ã€‚

Graph æ˜¯æ•°æ®ç»“æ„å’Œç®—æ³•å­¦ä¸­æœ€å¼ºå¤§çš„æ¡†æ¶ä¹‹ä¸€ï¼Œæˆ–è®¸ä¸æ˜¯ä¹‹ä¸€ã€‚å›¾å‡ ä¹å¯ä»¥ç”¨æ¥è¡¨ç°æ‰€æœ‰ç±»å‹çš„ç»“æ„æˆ–ç³»ç»Ÿï¼Œä»äº¤é€šç½‘ç»œåˆ°é€šä¿¡ç½‘ç»œï¼Œä»ä¸‹æ£‹æ¸¸æˆåˆ°æœ€ä¼˜æµç¨‹ï¼Œä»ä»»åŠ¡åˆ†é…åˆ°äººé™…äº¤äº’ç½‘ç»œï¼Œå›¾éƒ½æœ‰å¹¿é˜”çš„ç”¨æ­¦ä¹‹åœ°ã€‚

è€Œè¦è¿›å…¥å›¾è®ºçš„ä¸–ç•Œï¼Œæ¸…æ™°ã€å‡†ç¡®çš„åŸºæœ¬æ¦‚å¿µæ˜¯å¿…é¡»çš„å‰æå’ŒåŸºç¡€ã€‚ä¸‹é¢å¯¹å…¶æœ€æ ¸å¿ƒå’Œæœ€é‡è¦çš„æ¦‚å¿µä½œå‡ºè¯´æ˜ã€‚å…³äºå›¾è®ºçš„æ¦‚å¿µå¼‚ä¹å¯»å¸¸çš„å¤šï¼Œå…ˆæŒæ¡ä¸‹é¢æœ€æ ¸å¿ƒæœ€é‡è¦çš„ï¼Œè¶³å¤Ÿå¼€å±•ä¸€äº›å·¥ä½œäº†ï¼Œå…¶å®ƒçš„å†åˆ°å®è·µä¸­ä¸æ–­å»ç†è§£å’Œç†Ÿæ‚‰å§ã€‚

è¿™é‡Œçš„å›¾å¹¶ä¸æ˜¯æŒ‡å›¾å½¢å›¾åƒæˆ–åœ°å›¾ï¼Œé€šå¸¸æ¥è¯´ï¼ŒæŠŠå›¾è§†ä¸ºä¸€ç§ç”±é¡¶ç‚¹ç»„æˆçš„æŠ½è±¡ç½‘ç»œï¼Œç½‘ç»œä¸­çš„å„é¡¶ç‚¹å¯ä»¥é€šè¿‡è¾¹å®ç°å½¼æ­¤çš„è¿æ¥ï¼Œè¡¨ç¤ºä¸¤é¡¶ç‚¹æœ‰å…³è”ã€‚

æ³¨æ„å›¾å®šä¹‰ä¸­çš„åŸºæœ¬ç»“æ„ï¼š

- é¡¶ç‚¹ vertex è¡¨ç¤ºæŸä¸ªäº‹ç‰©æˆ–å¯¹è±¡ï¼Œç§°é¡¶ç‚¹ä¸ºç‚¹ã€èŠ‚ç‚¹ã€èŠ‚ç‚¹ã€ç«¯ç‚¹ç­‰éƒ½æ˜¯å¯ä»¥ã€‚å«ä»€ä¹ˆæ— æ‰€è°“ï¼Œç†è§£æ˜¯ä»€ä¹ˆæ‰æ˜¯å…³é”®ã€‚
- è¾¹ edge é¡¶ç‚¹ä¹‹é—´çš„çº¿æ¡ï¼Œè¡¨ç¤ºäº‹ç‰©ä¸äº‹ç‰©ä¹‹é—´çš„å…³ç³»ã€‚éœ€è¦æ³¨æ„çš„æ˜¯è¾¹è¡¨ç¤ºçš„æ˜¯é¡¶ç‚¹ä¹‹é—´çš„é€»è¾‘å…³ç³»ï¼Œç²—ç»†é•¿çŸ­éƒ½æ— æ‰€è°“çš„ã€‚

å›¾çš„åŸºæœ¬æ€§è´¨ï¼š

- æœ‰å‘/æ— å‘å›¾ï¼ˆDirected Graph/ Undirected Graphï¼‰
- æƒé‡ï¼ˆweightï¼‰è¾¹çš„æƒé‡æˆ–è€…ç§°ä¸ºæƒå€¼ã€å¼€é”€ã€é•¿åº¦ç­‰ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªéå¸¸æ ¸å¿ƒçš„æ¦‚å¿µï¼Œå³æ¯æ¡è¾¹éƒ½æœ‰ä¸ä¹‹å¯¹åº”çš„å€¼ã€‚
- è·¯å¾„/æœ€çŸ­è·¯å¾„ï¼ˆpath/shortest pathï¼‰
- ç¯ï¼ˆloopï¼‰ç¯è·¯æ˜¯ä¸€ä¸ªä¸è·¯å¾„ç›¸ä¼¼çš„æ¦‚å¿µï¼Œåœ¨è·¯å¾„çš„ç»ˆç‚¹æ·»åŠ ä¸€æ¡æŒ‡å‘èµ·ç‚¹çš„è¾¹ï¼Œå°±æ„æˆä¸€æ¡æœ€ç®€å•çš„ç¯è·¯ã€‚
- è¿é€šå›¾/è¿é€šåˆ†é‡ï¼ˆconnected graph/connected componentï¼‰å³å›¾ä¸­ä»»æ„ 2 ä¸ªé¡¶ç‚¹ä¹‹é—´éƒ½å­˜åœ¨è·¯å¾„ï¼Œå³ä¸ºè¿é€šå›¾ã€‚
- åŒæ„(isomorphism)ï¼Œå°±æ˜¯ç»“æ„ç›¸åŒï¼Œæœ€ç®€å•çš„ä¾‹å­å°±æ˜¯äº”è¾¹å½¢å’Œäº”è§’æ˜Ÿäº†ã€‚

è€Œæ ‘çŠ¶å›¾åˆ™æ˜¯ç•¥è®ºä¸­çš„ä¸€ä¸ªå°æ–¹å‘ï¼Œæ ‘çŠ¶å›¾æ˜¯å›¾çš„ä¸€ç§ç‰¹æ®Šå½¢æ€ï¼ŒäºŒå‰æ ‘åˆæ˜¯æ ‘çŠ¶æ€å›¾çš„ç‰¹æ®Šå½¢æ€ã€‚

æ ‘å›¾æ˜¯ä¸€ä¸ªæœ‰å±‚æ¬¡çš„æœ‰ç©·é›†åˆï¼Œç”±ä¸€ä¸ªæ ¹èŠ‚ç‚¹å’Œå¤šä¸ªå­æ ‘æ„æˆï¼Œä»¥ä¸‹çš„æ ‘çŠ¶å›¾æ˜¯ç»å…¸çš„è¡¨è¾¾ï¼Œä½†æ ‘å›¾ä¸ä»…é™äºè¿™æ ·çš„è¡¨ç°å½¢å¼ï¼Œæ–¹å—å›¾åµŒå¥—ä¹Ÿæ˜¯å¸¸ç”¨çš„æ ‘å›¾è¡¨ç°æ–¹å¼ã€‚

å¦‚æ‘©æ–¯ç  Morse Binary Tree

                               â€¢ â‡¦              Morse Binary Tree            â‡¨ â€”     EX.
                                                        â”‚                             SOS  â€¢â€¢â€¢ --- â€¢â€¢â€¢
                               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    DENO -â€¢â€¢ â€¢ -â€¢
                             â€¢[E]                                               [T]â€”  RUST â€¢-â€¢ â€¢â€¢- â€¢â€¢â€¢ -
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â€¢ I                       A                         N                       M â€”
           â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
         â€¢ S           U           R           W             D           K           G           O â€”
        â”Œâ”€â”€â”´â”€â”€â”     â”Œâ”€â”€â”´â”€â”€â”     â”Œâ”€â”€â”´â”€â”€â”     â”Œâ”€â”€â”´â”€â”€â”       â”Œâ”€â”€â”´â”€â”€â”     â”Œâ”€â”€â”´â”€â”€â”     â”Œâ”€â”€â”´â”€â”€â”     â”Œâ”€â”€â”´â”€â”€â”
      â€¢ H     V     F     _     L     _     P     J       B     X     C     Y     Z     Q     _     _
      â”Œâ”€â”´â”€â” â”Œâ”€â”´â”€â” â”Œâ”€â”´â”€â” â”Œâ”€â”´â”€â” â”Œâ”€â”´â”€â” â”Œâ”€â”´â”€â” â”Œâ”€â”´â”€â” â”Œâ”€â”´â”€â”   â”Œâ”€â”´â”€â” â”Œâ”€â”´â”€â” â”Œâ”€â”´â”€â” â”Œâ”€â”´â”€â” â”Œâ”€â”´â”€â” â”Œâ”€â”´â”€â” â”Œâ”€â”´â”€â” â”Œâ”€â”´â”€â”
    â€¢ 5   4     3           2       +               1   6   = /                 7           8     9   0

æ ‘çŠ¶å›¾çš„åŸºäºç‰¹ç‚¹ï¼š

- åªæœ‰ä¸€ä¸ªæ ¹èŠ‚ç‚¹ï¼Œå³æ²¡æœ‰çˆ¶èŠ‚ç‚¹çš„èŠ‚ç‚¹åªæœ‰ä¸€ä¸ªï¼›
- éæ ¹å­èŠ‚ç‚¹æœ‰ä¸”åªæœ‰ä¸€ä¸ªçˆ¶èŠ‚ç‚¹ï¼›
- æ¯ä¸ªèŠ‚ç‚¹æœ‰é›¶ä¸ªæˆ–å¤šä¸ªå­èŠ‚ç‚¹ï¼›
- èŠ‚ç‚¹æ•° n >= 0ï¼›
- æ‰€æœ‰èŠ‚ç‚¹éƒ½æ˜¯è¿é€šçš„ï¼›
- ä»»æ„ 2 ç‚¹ä¹‹é—´åªæœ‰å”¯ä¸€è·¯å¾„ï¼› 
- æ ‘æ˜¯æ— ç¯çš„è¿é€šå›¾ï¼› 
- æ£®æ—æ˜¯æ— ç¯çš„éè¿é€šå›¾ã€‚

æ ‘çŠ¶å›¾åŒæ—¶åˆæ˜¯ä¸€ç§ç‰¹åˆ«æœ‰ç”¨çš„æ•°æ®ç»“æ„ï¼Œå‡ ä¹æ‰€æœ‰è½¯ä»¶éƒ½æœ‰å®ƒçš„å½±å­ï¼Œæ¯”å¦‚ HTML çš„èŠ‚ç‚¹æ ‘ï¼Œé¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­çš„ç±»å‹ç»§æ‰¿å…³ç³»ï¼Œæ•°æ®ç®—æ³•ç»“æ„ä¸­çš„äºŒå‰æ ‘ï¼ŒçœŸæ˜¯â€œä¸‡ç‰©çš†æ ‘â€ã€‚

å› æ­¤ï¼Œå®ƒæœ‰ç€ä¸€äº›éå¸¸é‡è¦çš„ç‰¹ç‚¹å’Œæ¦‚å¿µï¼š

- `Node` èŠ‚ç‚¹ä¹Ÿå°±æ˜¯å›¾çš„é¡¶ç‚¹ã€‚
- `Branch` æ ‘æå°±æ˜¯å›¾çš„è¾¹ edgeã€‚
- `Root` æ ¹èŠ‚ç‚¹ï¼Œé¡¶ç‚¹å°±æ˜¯æ ¹ã€‚å¯ä»¥æ ¹æ®ä¼˜åŒ–éœ€è¦é€‰æ‹©ä»»æ„ä¸€ä¸ªèŠ‚ç‚¹ä½œä¸ºæ ¹ï¼Œè¿™ä¹Ÿç§°ä¸ºæ—‹è½¬æ“ä½œï¼Œä¸»è¦ç”¨äºå¹³è¡¡æ ‘çš„ç»“æ„ã€‚
- `Leaf` å¶èŠ‚ç‚¹ï¼Œæ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ï¼Œæˆ–è€…è¯´åº¦æ•°ä¸º 0 çš„èŠ‚ç‚¹ã€‚
- `Degree` å³èŠ‚ç‚¹æ‹¥æœ‰çš„å­æ ‘æ•°é‡ï¼Œleaf å³åº¦æ•°ä¸º 0 çš„èŠ‚ç‚¹ï¼Œä¸ Order åŒºåˆ«ã€‚
- `Order` é˜¶æ•°ï¼Œå³èŠ‚ç‚¹æ‹¥æœ‰çš„æœ€å¤§å­æ ‘æ•°é‡ï¼ŒM é˜¶å°±æ˜¯æœ€å¤šæœ‰ M ä¸ªå­èŠ‚ç‚¹ã€‚
- `Height` æ ‘é«˜/æ·±åº¦ level/depth/heightï¼Œå³æ ¹èŠ‚ç‚¹åˆ°å­èŠ‚ç‚¹çš„æœ€å¤§è·ç¦»ï¼Œä»»æ„èŠ‚ç‚¹åˆ°æ ¹èŠ‚ç‚¹çš„è·ç¦»å³ä¸ºèŠ‚ç‚¹é«˜åº¦ã€‚ 
- `Sibling` å…„å¼ŸèŠ‚ç‚¹ã€‚
- `Child`  å­èŠ‚ç‚¹ã€‚
- `Parent` çˆ¶èŠ‚ç‚¹ã€‚
- `Ancestor` ç¥–å…ˆèŠ‚ç‚¹ï¼ŒèŠ‚ç‚¹å¾€æ ¹èŠ‚ç‚¹ç»è¿‡çš„æ‰€æœ‰çˆ¶èŠ‚ç‚¹éƒ½æ˜¯ç¥–å…ˆèŠ‚ç‚¹ã€‚
- `Descendant` åä»£èŠ‚ç‚¹ï¼Œå­èŠ‚ç‚¹ä»¥åŠåˆ°å¶èŠ‚ç‚¹çš„æ‰€æœ‰èŠ‚ç‚¹ã€‚
- `Forest` æ£®æ—ï¼Œå¤šé¢—æ ‘çš„é›†åˆç§°ä¸ºæ£®æ—ï¼Œæ ‘ä¸æ ‘ä¹‹é—´äº’ä¸ç›¸äº¤ã€‚

æ ‘å›¾ä¹Ÿåº”ç”¨äºå‹ç¼©å’Œç¼–ç é¢†åŸŸï¼Œä¾‹å¦‚æœ€åŸºæœ¬çš„å‹ç¼©ç¼–ç æ–¹æ³• Huffman Treeï¼Œç»™
å®š N ä¸ªæƒå€¼ä½œä¸º N ä¸ªå¶å­èŠ‚ç‚¹ï¼Œæ„é€ ä¸€æ£µäºŒå‰æ ‘ï¼Œè‹¥ WPL - Weighted Path Length æƒé‡è·¯å¾„é•¿åº¦è¾¾åˆ°æœ€å°ï¼Œç§°è¿™æ ·çš„äºŒå‰æ ‘ä¸ºæœ€ä¼˜äºŒå‰æ ‘ï¼Œä¹Ÿç§°ä¸ºå“ˆå¤«æ›¼æ ‘ï¼Œä¸»è¦ç”¨äºä¿¡æ¯å‹ç¼©ç¼–ç ã€‚

è®¡ç®— WPL åªéœ€è¦å°†èŠ‚ç‚¹çš„æƒå€¼ä¸èŠ‚ç‚¹æ‰€åœ¨è·¯å¾„ç»è¿‡èŠ‚ç‚¹æ•°ç›¸ä¹˜ï¼Œå†æ±‚å’Œã€‚

1951å¹´ï¼Œå“ˆå¤«æ›¼åœ¨éº»çœç†å·¥å­¦é™¢ï¼ˆMITï¼‰æ”»è¯»åšå£«å­¦ä½ï¼Œäº 1952 å¹´åœ¨è®ºæ–‡ã€Šä¸€ç§æ„å»ºæå°å¤šä½™ç¼–ç çš„æ–¹æ³•ã€‹ï¼ˆA Method for the Construction of Minimum-Redundancy Codesï¼‰ä¸­å‘è¡¨äº†è¿™ä¸ªç¼–ç æ–¹æ³•ã€‚

å‰é¢çš„æ‘©æ–¯ç äºŒå‰æ ‘å°±æ˜¯ä¸€ä¸ª Huffman Tree ä¾‹å­ï¼Œæ ¹æ®ç»Ÿè®¡çš„å­—æ¯é¢‘åº¦æ•°æ®ï¼Œå‰åä¸ªæœ€å¸¸ç”¨å­—æ¯å¦‚ä¸‹ï¼š

- E 12.70%
- T 9.06%
- A 8.17%
- O 7.51%
- I 6.97%
- N 6.75%
- S 6.33%
- H 6.09%
- R 5.99%
- D 4.25%

æ‰€ä»¥ ET ç»™äº†æœ€çŸ­ç¼–ç ï¼Œæ‘©æ–¯ç ä¸­çš„ â€¢ - å¯ä»¥ç”¨äºŒè¿›åˆ¶æ•°è¡¨ç¤ºï¼Œæ‰€ä»¥ä¼ è¾“ä¸€ä¸ªå­—æ¯æœ€å°‘å¯ä»¥åªç”¨ä¸€ä¸ª bitã€‚è¿™æ ·å¯¹äºä¸€ç¯‡è¦å‹ç¼©çš„æ–‡ç« è€Œè¨€ï¼Œå å¤§éƒ¨åˆ†çš„ ET å­—æ¯å°±å¯ä»¥ç”¨æœ€å°‘çš„ç¼–ç æ¥è¡¨ç¤ºï¼Œå®ç°æœ€å¤§çš„å‹ç¼©æ¯”ã€‚


è®¡ç®—æœºé€šå¸¸ä½œä¸ºæœç´¢å·¥å…·ä½¿ç”¨ï¼Œæ¯”å¦‚åœ¨ 1000 ä¸‡ä¸ªæ•°ä¸­æ‰¾ä¸€ä¸ªç‰¹æ®Šå€¼ï¼Œå¦‚æœä¸ä½¿ç”¨ä¼˜åŒ–çš„æ•°æ®ç»“æ„ï¼ŒLinear Search å°±å¯èƒ½éœ€è¦æœç´¢æ‰€æœ‰çš„æ•°æ®ï¼Œæ‰æ‰¾åˆ°æœ€åé‚£ä¸ªå€¼æ˜¯ç›®æ ‡æ•°æ®ã€‚

ä¸ºäº†æé«˜æœç´¢æ•ˆç‡ï¼Œæ›´æ•ˆçš„æ˜¯å°†æ•°æ®æ•´ç†æˆç‰¹æ®Šçš„ç»“æ„ï¼Œç±»ä¼¼æ•°æ®åº“çš„ç´¢å¼•ï¼Œæ¯”å¦‚å°†è¿™äº›æ•°æ®ä»å¤§åˆ°å°æ’å¥½ã€‚å½“è¦æ‰¾ä¸€ä¸ªå€¼ï¼Œå…ˆä»ä¸­é—´å³ 500 ä¸‡çš„ä½ç½®ï¼Œæ¯”è¾ƒçœ‹çœ‹æ˜¯å¤§äº†è¿˜æ˜¯å°äº†ã€‚ç„¶åæ ¹æ®ç»“æœï¼Œå†ä»å¦ä¸€åŠæ•°æ®çš„ä¸­é—´ä½ç½®æŸ¥æ‰¾ï¼Œè¿™å°±æ˜¯äºŒåˆ†æ³•æœç´¢ï¼ŒäºŒåˆ†æ³•æŸ¥æ‰¾ï¼ŒæŠ˜åŠæŸ¥æ‰¾æ³•ä¸€å †åå­—å¯å«ã€‚

äºŒå‰æœç´¢æ ‘ BST - Binary Search Tree å°±æ˜¯è¿™æ ·çš„éçº¿æ€§æ•°æ®ç»“æ„ï¼Œæ¯æ¬¡æ£€ç´¢æ•°æ®æ—¶æ ¹æ®å…³é”®å­—çš„å¤§å°é€‰æ‹©æ˜¯å¾€å·¦å­æ ‘èµ°è¿˜æ˜¯å¾€å³å­æ ‘èµ°ï¼Œè¿™æ ·æ¯æ¬¡éƒ½å°‘æ¯”è¾ƒäº†ä¸€åŠçš„æ•°æ®ï¼Œæ¯”çº¿æ€§æœç´¢æ•ˆç‡é«˜å¤šäº†ã€‚æ£€ç´¢çš„è¿‡ç¨‹æ˜¯è·Ÿç€æ ‘çš„è·¯å¾„å¾€ä¸‹èµ°çš„ï¼Œå› æ­¤æ ‘çš„é«˜åº¦ä¼šå¯¹æ•ˆç‡äº§ç”Ÿå½±å“ï¼Œå¦‚æœæ ‘é«˜å’ŒåŸå§‹æ•°æ®çº¿æ€§ç»“æ„ä¸€è‡´ï¼Œé‚£å°±å®Œå…¨æ²¡æœ‰æ„ä¹‰ï¼Œæ‰€ä»¥éœ€è¦å¯¹æ ‘çŠ¶æ€ç»“æ„è¿›è¡Œå„ç§ä¼˜åŒ–ã€‚

äºŒå‰æŸ¥æ‰¾æ ‘ï¼Œä¹Ÿç§°æœ‰åºäºŒå‰æ ‘ï¼Œæˆ–å·²æ’åºäºŒå‰æ ‘ï¼Œæ— åºçš„æ ‘ä¼¼ä¹ä½œç”¨ä¸å¤§ã€‚å› ä¸ºç”¨äºæœç´¢ï¼ŒäºŒå‰æ ‘åˆç§°ä¸º BST - Binary Search Tree äºŒå‰æœç´¢æ ‘ã€‚æŸ¥è¯¢æ•ˆç‡ä»‹äº O(log n) ~ O(n) ä¹‹é—´ï¼Œç†æƒ³çš„æ’åºæƒ…å†µä¸‹æŸ¥è¯¢æ•ˆç‡ä¸º O(log n)ã€‚æç«¯æƒ…å†µä¸‹ BST å°±æ˜¯ä¸€ä¸ªçº¿æ€§é“¾è¡¨ç»“æ„ï¼Œæ­¤æ—¶å…ƒç´ æŸ¥æ‰¾çš„æ•ˆç‡ç›¸ç­‰äºé“¾è¡¨æŸ¥è¯¢ O(n)ã€‚

æ‰€ä»¥ï¼ŒäºŒå‰æ ‘çš„å¹³è¡¡æ€§ï¼Œå’Œæ ‘çš„é«˜åº¦æ˜¯å…¶ä¸­ä¸»è¦ä¼˜åŒ–è€ƒè™‘çš„ç‰¹æ€§ï¼Œè¿™ä¸¤ä¸ªè¯´çš„æ˜¯åŒä¸€å›äº‹ã€‚æ ‘é«˜ä½¿ç”¨å¯¹æ•°è®¡ç®—ï¼Œæœ€å°æ ‘é«˜å°±æ˜¯å¹³è¡¡çš„äºŒå‰æ ‘ï¼Œæœ‰ 8 ä¸ªå€¼çš„æ ‘é«˜å°±æ˜¯ log2(8) = 4 å±‚ã€‚å¦‚æœä¸æ˜¯å¹³è¡¡æ ‘ï¼Œç”šè‡³æ˜¯çº¿æ€§ç»“æ„ï¼Œæ ‘é«˜å°±ç­‰äºå…ƒç´ çš„æ•°é‡ã€‚

æŸ¥æ‰¾æ ‘çš„ç‰¹ç‚¹ï¼š

- å·¦å­æ ‘ä¸Šæ‰€æœ‰èŠ‚ç‚¹çš„å€¼å‡å°äºå®ƒçš„æ ¹èŠ‚ç‚¹çš„å€¼ã€‚
- å³å­æ ‘ä¸Šæ‰€æœ‰èŠ‚ç‚¹çš„å€¼å‡å¤§äºå®ƒçš„æ ¹èŠ‚ç‚¹çš„å€¼ã€‚
- ä»»æ„èŠ‚ç‚¹çš„å·¦ã€å³å­æ ‘ä¹Ÿåˆ†åˆ«ä¸ºäºŒå‰æŸ¥æ‰¾æ ‘ã€‚
- æ²¡æœ‰é”®å€¼ç›¸ç­‰çš„èŠ‚ç‚¹ï¼ˆno duplicate nodesï¼‰ã€‚

ä¸¤ç§åŸºæœ¬çš„å›¾å½¢æœç´¢ç®—æ³•ï¼š

- BFS - Breadth-first search å®½åº¦ä¼˜å…ˆæœç´¢ï¼Œé¦–å…ˆæ¢ç´¢æ¯ä¸ªèŠ‚ç‚¹çš„ç›¸é‚»èŠ‚ç‚¹ï¼Œç„¶åæ¢ç´¢ç›¸é‚»èŠ‚ç‚¹çš„ç›¸é‚»èŠ‚ç‚¹ã€‚
- DFS - Deep-first search æ·±åº¦ä¼˜å…ˆæœç´¢ï¼Œå°è¯•å°½å¯èƒ½åœ°æ·±å…¥ä¸€æ¡è·¯å¾„ï¼Œå¦‚æœ‰å¯èƒ½ä¾¿è®¿é—®æ–°çš„ç›¸é‚»èŠ‚ç‚¹ã€‚

æ­¤å¤–è¿˜æœ‰ä»¥ä¸‹å‡ ç§èŠ‚ç‚¹éå†æ–¹å¼ï¼š

- å…ˆåºéå†ï¼Œä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œé€†æ—¶é’ˆéå†æ•´æ£µæ ‘ï¼Œç±»ä¼¼ DFS æ·±åº¦ä¼˜å…ˆéå†ï¼›
- ä¸­åºéå†ï¼Œå°†èŠ‚ç‚¹æŒ‰åŸæœ‰çº¿æ€§é¡ºåºéå†ï¼Œå¯ä»¥ç†è§£ä¸ºäºŒå‰æ ‘æ¯ä¸ªèŠ‚ç‚¹å‚ç›´æ–¹å‘æŠ•å½±ä¸‹æ¥ä»å·¦åˆ°å³çš„é¡ºåºï¼›
- ååºéå†ï¼Œä»å·¦å­æ ‘å¼€å§‹ï¼Œä»æœ€åº•å±‚èŠ‚ç‚¹ç”±å·¦è‡³å³éå†ï¼Œå¯ä»¥æƒ³è±¡ä¸ºä¸€æ£µæ£µæ‘˜è‘¡è„ï¼Œå·¦å­æ ‘æ‘˜å®Œå†æ‘˜å³å­æ ‘åæ‘˜æ ¹ï¼›
- å±‚æ¬¡éå†ï¼Œä»æœ€åº•å±‚ç”±å·¦è‡³å³éå†ï¼Œæ— è®ºæ˜¯å·¦ã€å³å­æ ‘ï¼Œåªè¦åŒé«˜åº¦çš„ä¸€å±‚å°±ä¸€å¹¶éå†ï¼›

LeetCode ç›¸å…³çš„é¢˜ç›®ï¼š

- [144] Binary Tree Preorder Traversal å‰åºéå†
- [94] Binary Tree Inorder Traversal ä¸­åºéå†
- [145] Binary Tree Postorder Traversal ååºéå†
- [102] Binary Tree Level Order Traversal å±‚åºéå†
- [107] Binary Tree Level Order Traversal II bottom-up å‹å±‚åºéå†
- [103] Binary Tree Zigzag Level Order Traversal ä¹‹å­—å‹å±‚åºéå†
- [314] Binary Tree Vertical Order Traversal å‚ç›´éå†

ä¾‹å¦‚ï¼Œä»¥ä¸‹ä¸€æ£µæ ‘çš„å„ç§éå†ç»“æœï¼š

           H      
       â”Œâ”€â”€â”€â”´â”€â”€â”€â”     å…ˆåºéå†ï¼š H E I A T N M
       E       T     ä¸­åºéå†ï¼š I E A H N T M
     â”Œâ”€â”´â”€â”   â”Œâ”€â”´â”€â”   ååºéå†ï¼š I A E N M T H
     I   A   N   M   å±‚æ¬¡éå†ï¼š A A N M E T H

Why Use Binary Trees?

- Slow Insertion in an Ordered Array.
- Slow Searching in a Linked List.

äºŒå‰æ ‘æ»¡è¶³æ ‘çŠ¶å›¾çš„åŸºæœ¬ç‰¹ç‚¹ï¼ŒèŠ‚ç‚¹æœ€å¤šåªæœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ï¼Œè¿™æ­£æ˜¯äºŒå‰æ ‘çš„åå­—æ¥æºã€‚äºŒå‰æ ‘ç®€ç§° BSTï¼Œå’Œå¸¸è§çš„ B-Tree æ˜¯ä¸¤ç§ä¸åŒçš„ç»“æ„ã€‚

æ ¹æ®å¶èŠ‚ç‚¹çš„åˆ†å¸ƒä¸åŒï¼Œå¯ä»¥æŒ‰ä»¥ä¸‹åˆ†ç±»ï¼š

- `å®Œç¾äºŒå‰æ ‘` Perfect Binary Tree æ‰€æœ‰å¶èŠ‚ç‚¹æ·±åº¦ç›¸åŒï¼Œæ‰€æœ‰éå¶èŠ‚ç‚¹éƒ½æœ‰ä¸¤ç‚¹å­èŠ‚ç‚¹ã€‚ä¹Ÿç§°ä¸ºæ»¡äºŒå‰æ ‘ï¼Œæ·±åº¦ä¸º k(>=-1) ä¸”æœ‰ 2^(k+1) - 1 ä¸ªèŠ‚ç‚¹ã€‚
- `å®Œå…¨äºŒå‰æ ‘` Complete Binary Treeï¼Œé™¤äº†æœ€åº•å±‚ï¼Œæ‰€æœ‰èŠ‚ç‚¹éƒ½æ˜¯å®Œå…¨å……æ»¡å­èŠ‚ç‚¹ï¼Œè€Œå¶å­èŠ‚ç‚¹ä»å·¦åˆ°å‹ä¾æ¬¡æ’åˆ—ï¼Œä¸éœ€è¦å¡«æ»¡äºŒå‰æ ‘ã€‚
- `å®Œæ»¡äºŒå‰æ ‘` Full Binary Tree/Strictly Binary Treeï¼Œé™¤å¶èŠ‚ç‚¹å¤–ï¼Œæ‰€æœ‰èŠ‚ç‚¹éƒ½æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ã€‚æ¢å¥è¯è¯´ï¼Œåªè¦æœ‰å­èŠ‚ç‚¹ï¼Œå°±å¿…æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ã€‚
- `å¹³è¡¡äºŒå‰æ ‘` Balance Binary Tree è¦æ±‚å·¦å³å­æ ‘çš„é«˜åº¦å·®è‡³å¤šä¸º 1 ä¸ªèŠ‚ç‚¹ã€‚
- `è‡ªå¹³è¡¡äºŒå‰æ ‘` Self-Balancing Binary Search Tree ç®€ç§° `AVL` å¹³è¡¡äºŒå‰æ ‘ï¼Œåå­—æ¥æºäºå®ƒçš„å‘æ˜ä½œè€… G.M. Adelson-Velsky å’Œ E.M. Landisã€‚

æ‰€è°“è‡ªå¹³è¡¡ï¼Œæ˜¯æŒ‡éœ€è¦é€šè¿‡ç®—æ³•å®ç°è‡ªå¹³è¡¡ç‰¹æ€§ï¼Œä¸å¦åˆ™å®ƒå°±æ˜¯èƒ½ç§°ä¹‹ä¸ºè‡ªå¹³è¡¡æ ‘ï¼Œå› ä¸ºå®ƒæ²¡æœ‰æ»¡è¶³å®šä¹‰ã€‚

å’Œç§ç»“æ„å¯¹æ¯”ï¼š

         Complete Binary Tree    Balance Binary Tree      Perfect Binary Tree     Complete Binary Tree
                 I                       A                         N                       M 
           â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
           S           U           R           W             D           K           G           O
        â”Œâ”€â”€â”´â”€â”€â”     â”Œâ”€â”€â”´â”€â”€â”     â”Œâ”€â”€â”´â”€â”€â”     â”Œâ”€â”€â”´â”€â”€â”       â”Œâ”€â”€â”´â”€â”€â”     â”Œâ”€â”€â”´â”€â”€â”     â”Œâ”€â”€â”´â”€â”€â”
        H     V     F           L           P     J       B     X     C     Y     Z     Q

å¹³è¡¡æ ‘ã€éå¹³è¡¡æ ‘ Balanced vs Unbalanced æ˜¯æ ‘çš„ä¸¤ç§å¸¸è§åˆ†ç±»ã€‚

éå¹³è¡¡çš„äºŒå‰æ ‘å¯ä»¥è¿›è¡Œæ—‹è½¬æ“ä½œï¼Œè°ƒæ•´ä¸ºå¹³è¡¡äºŒå‰æ ‘ï¼Œå³é€‰æ‹©å…¶ä¸­ä¸€ä¸ªå­èŠ‚ç‚¹ä½œ rootï¼Œé€‰æ‹©å³ä¾§å­èŠ‚ç‚¹å³ä¸º `å·¦æ—‹è½¬` Left Rotationï¼Œåä¹‹ä¸ºå³æ—‹è½¬ã€‚åœ¨è°ƒæ•´äºŒå‰æ ‘æ—¶ï¼Œè¦ç¡®è®¤ä¸¤ä¸ªä¸œè¥¿ï¼Œä¸€ä¸ªæ˜¯æ—‹è½¬æ–¹å‘ï¼Œä¸€ä¸ªæ˜¯æ—‹è½¬è½´ï¼ˆèŠ‚ç‚¹ï¼‰ã€‚

è‡ªå¹³è¡¡äºŒå‰æ ‘ AVL å®šä¹‰ï¼šå®ƒæˆ–è€…æ˜¯ä¸€é¢—ç©ºæ ‘ï¼Œæˆ–è€…ä¸¥æ ¼æ»¡è¶³ä»¥ä¸‹æ€§è´¨çš„äºŒå‰æ’åºæ ‘ï¼š

- å·¦å­æ ‘ã€å³å­æ ‘çš„æ·±åº¦ä¹‹å·®(å¹³è¡¡å› å­)çš„ç»å¯¹å€¼ä¸è¶…è¿‡ 1ï¼›
- ä¸”å®ƒçš„å·¦å­æ ‘å’Œå³å­æ ‘éƒ½æ˜¯ä¸€é¢—å¹³è¡¡äºŒå‰æ ‘ã€‚

äºŒå‰æ ‘ä½œä¸ºä¸€ç§ç»å…¸çš„æ ‘å½¢ç»“æ„ï¼Œæ˜¯ä¸€ç§å…¥çº§æ•°æ®ç»“æ„ï¼Œè€Œå®é™…åº”ç”¨ä¸­ï¼Œæœ‰éå¸¸å¤šçš„å„ç§æ ‘å½¢å˜ä½“ï¼Œå¸¸è§çš„å¦‚ä¸‹ï¼š

- `BinaryHeap` äºŒå‰å †ï¼ŒäºŒå‰æ ‘ä¸å †æ ˆç»“æ„çš„ç»„åˆï¼Œå®ç° push pop ç­‰æ“ä½œï¼ŒåŒæ—¶åˆå…·æœ‰éçº¿æ€§è®¿é—®çš„é«˜æ•ˆï¼Œå¸¸è§äºå®ç°ä¼˜å…ˆçº§ç®¡ç†ã€‚
- `Splay Tree` ä¼¸å±•æ ‘ä¹Ÿå«åˆ†è£‚æ ‘ï¼Œæ˜¯ä¸€ç§äºŒå‰æ’åºæ ‘ï¼Œå®ƒèƒ½åœ¨O(log n)å†…å®Œæˆæ’å…¥ã€æŸ¥æ‰¾å’Œåˆ é™¤æ“ä½œã€‚
- `B-Tree` å°±å« B æ ‘ï¼Œå› ä¸ºæ–‡ä»¶æ•°æ®å¿«é€Ÿè®¿é—®éœ€æ±‚è®¾è®¡çš„ï¼Œä¸åŸºæœ¬çš„äºŒå‰æ ‘ä¸åŒï¼Œå®ƒæ˜¯ä¸€ä¸ª N é˜¶ç»“æ„ï¼ŒåŒ…å« N ä¸ªå­èŠ‚ç‚¹æŒ‡é’ˆå’Œ N-1 ä¸ª Keyï¼Œ2-3-4 Tree æ˜¯ç‰¹æ®Šå½¢å¼ã€‚
- `B+Tree` æ˜¯ B-Tree çš„ä¸€ä¸ªå˜ç§ï¼Œå¯¹äºä¸€ä¸ª N é˜¶ç»“æ„ï¼Œå­æ ‘æŒ‡é’ˆå’Œ key çš„æ•°é‡éƒ½æ˜¯ N ä¸ªï¼Œåœ¨ MySQL ç­‰æ•°æ®åº“ç´¢å¼•ä¸­ä½¿ç”¨éå¸¸å¹¿æ³›ã€‚
- `B*Tree` æ ‘æ˜¯ B+Tree çš„å˜ä½“ï¼Œåœ¨ B+Tree çš„éæ ¹å’Œéå¶å­èŠ‚ç‚¹å†å¢åŠ æŒ‡å‘å…„å¼Ÿçš„æŒ‡é’ˆã€‚
- `RBT` Red-Black Tree çº¢é»‘æ ‘æ˜¯å¦ä¸€ç§å¹³è¡¡ä¼˜åŒ–æ ‘ï¼Œå¼•å…¥èŠ‚ç‚¹çš„é¢œè‰²å±æ€§ï¼Œå…·æœ‰æƒ°æ€§å¹³è¡¡å¤„ç†ï¼Œæ€§èƒ½è¾ƒå¥½ï¼Œä½†å®ç°è¾ƒå¤æ‚ã€‚
- `N-ary Tree` N å‰æ ‘ï¼ŒèŠ‚ç‚¹æœ‰è¶…è¿‡ 2 ä¸ªåˆ†æ”¯çš„æ ‘å‹ç»“æ„ã€‚
- `Trie Tree` å­—å…¸æ ‘/å‰ç¼€æ ‘æ˜¯ N å‰æ ‘çš„ä¸€ç§ç‰¹æ®Šå½¢å¼ï¼Œä¹Ÿæ˜¯å“ˆå¸Œæ ‘çš„å˜ç§ï¼Œæ ¸å¿ƒæ˜¯ä»¥ç©ºé—´æ¢æ—¶é—´ã€‚å­èŠ‚ç‚¹ä¿å­˜å­—ç¬¦ï¼Œæ¯æ¡è·¯å¾„ä¸Šçš„å­—ç¬¦æ‹¼æ¥èµ·å®Œæ•´çš„å­—ç¬¦ä¸²ã€‚
- `Radix Tree` ç±»ä¼¼å­—å…¸æ ‘ï¼Œå¯ä»¥å°†å­—å…¸æ ‘çœ‹ä¸ºä¸€ä¸ª 26 é˜¶çš„åŸºæ•°æ ‘ã€‚
- `Fenwick Tree` äºŒå‰ç´¢å¼•æ ‘
- `Segment Tree` Interval tree çº¿æ®µæ ‘ï¼Œå…ƒç´ çš„å€¼ä»£æ˜¯ä¸€ä¸ªåŒºé—´ï¼Œå¸¸ç”¨äºåŒºé—´çš„ç»Ÿè®¡ï¼Œæ¯”å¦‚ä¸€ä¸ªåŒºé—´çš„æœ€å¤§å€¼ï¼Œæœ€å°å€¼ï¼Œæ±‚å’Œç­‰ç­‰ã€‚
- `Heap Tree` å †ç§¯æ ‘ï¼Œåœ¨å †æ’åºä¸­æœ‰åº”ç”¨ï¼Œæ˜¯ä¸€ç§å®Œå…¨äºŒå‰æ ‘ï¼Œmin-heap å°æ ¹å †è¦æ±‚èŠ‚ç‚¹å°äºæˆ–ç­‰äºå­èŠ‚ç‚¹å€¼ï¼Œmax-heap å¤§æ ¹å †è¦æ±‚èŠ‚ç‚¹å¤§äºæˆ–ç­‰äºå­èŠ‚ç‚¹å€¼ã€‚

Splay Tree é€šè¿‡ä¸æ–­è°ƒæ•´ï¼Œä¼˜åŒ–æŸ¥æ‰¾æ•ˆç‡ï¼Œç¬¬ä¸€æ¬¡æŸ¥æ‰¾æŸä¸ªå€¼ï¼Œæ—¶é—´å¤æ‚åº¦å¯èƒ½æ˜¯ O(n)ï¼Œä½†æ˜¯æŸ¥æ‰¾åï¼Œå®ƒä¼šæŠŠè¿™ä¸ªå€¼é€šè¿‡æ—‹è½¬æ“ä½œæ”¾åˆ°æ ‘æ ¹ä¸‹ï¼Œå› æ­¤ï¼Œä¹‹åçš„æŸ¥æ‰¾å°±éå¸¸å¿«äº†ã€‚ç”±äºæ²¡æœ‰å¼•å…¥é¢å¤–çš„æ ‡è®°ï¼Œå› è€Œæ ‘ç»“æ„ä¸æ ‡å‡†çº¢é»‘æ ‘æ²¡æœ‰ä»»ä½•ä¸åŒï¼Œä»ç©ºé—´è§’åº¦æ¥çœ‹ï¼Œå®ƒæ¯” Treapã€SBTã€AVL è¦é«˜æ•ˆå¾—å¤šã€‚å› ä¸ºç»“æ„ä¸å˜ï¼Œå› æ­¤åªè¦æ˜¯é€šè¿‡å·¦æ—‹å’Œå³æ—‹è¿›è¡Œçš„æ“ä½œå¯¹ Splay Tree æ€§è´¨éƒ½æ²¡æœ‰ä¸æ¯«å½±å“ï¼Œå› è€Œå®ƒä¹Ÿæä¾›äº† BST ä¸­æœ€ä¸°å¯Œçš„åŠŸèƒ½ï¼ŒåŒ…æ‹¬å¿«é€Ÿçš„æ‹†åˆ†å’Œåˆå¹¶ï¼Œå¹¶ä¸”å®ç°æä¸ºä¾¿æ·ã€‚å…¶æ—¶é—´æ•ˆç‡ä¹Ÿç›¸å½“ç¨³å®šï¼Œå’Œ Treap åŸºæœ¬ç›¸å½“ï¼Œå¸¸æ•°è¾ƒé«˜ã€‚ä¼¸å±•æ ‘æœ€æ˜¾è‘—çš„ç¼ºç‚¹æ˜¯å®ƒæœ‰å¯èƒ½ä¼šå˜æˆä¸€æ¡é“¾ã€‚

å †æ ‘ä¹Ÿå¯ä»¥å«åšäºŒå‰å † binary heapï¼Œäº¦ç§°ä¸ºä¼˜å…ˆé˜Ÿåˆ— priority queueï¼Œé€šå¸¸æ˜¯ä¸€ä¸ªå¯ä»¥è¢«çœ‹åšä¸€æ£µæ ‘çš„æ•°ç»„å¯¹è±¡ï¼Œå¦‚ Rust çš„ BinaryHeap å®ç°ã€‚åœ¨é˜Ÿåˆ—ä¸­ï¼Œè°ƒåº¦ç¨‹åºåå¤æå–é˜Ÿåˆ—ä¸­ç¬¬ä¸€ä¸ªä½œä¸šå¹¶è¿è¡Œï¼Œå› è€Œå®é™…æƒ…å†µä¸­æŸäº›æ—¶é—´è¾ƒçŸ­çš„ä»»åŠ¡å°†ç­‰å¾…å¾ˆé•¿æ—¶é—´æ‰èƒ½ç»“æŸï¼Œæˆ–è€…æŸäº›ä¸çŸ­å°ï¼Œä½†å…·æœ‰é‡è¦æ€§çš„ä½œä¸šï¼ŒåŒæ ·åº”å½“å…·æœ‰ä¼˜å…ˆæƒï¼Œå †å³ä¸ºè§£å†³æ­¤ç±»é—®é¢˜è®¾è®¡çš„ä¸€ç§æ•°æ®ç»“æ„ã€‚

å¯¹äº M é˜¶ B-Tree ä¸»è¦ç‰¹ç‚¹å¦‚ä¸‹ï¼š

- èŠ‚ç‚¹æœ€å¤šæœ‰ M ä¸ªå­æ ‘ï¼›
- èŠ‚ç‚¹æœ€å°‘æœ‰ cil(M/2) ä¸ªå­æ ‘ï¼Œé™¤æ ¹èŠ‚ç‚¹ã€å¶å­èŠ‚ç‚¹ã€‚
- èŠ‚ç‚¹æœ€å¤šæœ‰ M-1 ä¸ª Keyï¼›
- æ‰€æœ‰å¶å­èŠ‚ç‚¹åˆ°æ ¹èŠ‚ç‚¹åŒé«˜ï¼Œå³æ ‘é«˜ï¼›
- èŠ‚ç‚¹çš„ Key å…·æœ‰åŒºé—´å±æ€§ï¼Œä¸å­˜æ”¾è¶…è¿‡èŒƒå›´çš„ Keyã€‚
- èŠ‚ç‚¹ Key å¡«æ»¡åéœ€è¦è¿›è¡Œåˆ†è£‚ï¼Œåˆ†æ‹†æˆäºŒä¸ªå­èŠ‚ç‚¹ï¼Œä¸­é—´çš„ key ä½œä¸ºæ–°èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ï¼›

å¦‚æœç”¨æ•´æ•°æ¥è¡¨ç¤º Key çš„èŒƒå›´ï¼Œå…¶å€¼ t ä¸å°äº 2ï¼Œå³æ˜¯æ ‘çš„æœ€å°åº¦æ•°ã€‚å½“è¿™ä¸ªèŒƒå›´æ˜¯ 2 æ—¶ï¼Œè¿™ç§æ ‘å°±æ˜¯ B-Tree æœ€ç®€å•çš„å½¢å¼ï¼Œå«åš 2-3-4 Treeï¼ŒèŠ‚ç‚¹æœ‰ 2 Keys å’Œ 3 ä¸ªå­æ ‘æŒ‡é’ˆã€‚è¿™ç§æ ‘æœ‰å®Œç¾çš„å¹³è¡¡æ€§ï¼Œæ ¹èŠ‚ç‚¹åˆ°ä»»æ„å¶å­èŠ‚ç‚¹çš„è·¯å¾„é•¿åº¦ç›¸ç­‰ã€‚å®è·µä¸­ï¼Œè¿™ä¸ª t å€¼ä¼šå–æ›´å¤§çš„å€¼ä»¥è·å¾—æ›´å°çš„æ ‘é«˜åº¦ã€‚

2-3-4 Tree åå­—æ¥æºäºä¸‰ç§èŠ‚ç‚¹ï¼š

- 2-node æœ‰ 2 ä¸ªå­èŠ‚ç‚¹ï¼Œ1 ä¸ª Keyï¼›
- 3-node æœ‰ 3 ä¸ªå­èŠ‚ç‚¹ï¼Œ2 ä¸ª Keyï¼›
- 4-node æœ‰ 4 ä¸ªå­èŠ‚ç‚¹ï¼Œ3 ä¸ª Keyï¼›

B+Tree ä¸»è¦ç‰¹ç‚¹å¦‚ä¸‹ï¼š

- éå¶å­èŠ‚ç‚¹ä¸å­˜å‚¨æ•°æ®ï¼Œåªå­˜å‚¨é”®å€¼ï¼›
- æ¯ä¸ªéå¶å­èŠ‚ç‚¹æœ‰ n ä¸ªé”®å€¼ key å°±æœ‰ n ä¸ªå­èŠ‚ç‚¹æŒ‡é’ˆ pointï¼Œè¿™æ˜¯ B+Tree ä¸ B-Tree çš„ä¸€å¤§å·®å¼‚ï¼›
- å¶å­èŠ‚ç‚¹å°±æ˜¯é”®å€¼æ•°æ®ï¼Œæ²¡æœ‰æŒ‡é’ˆï¼Œç¥–å…ˆèŠ‚ç‚¹æ‰€æœ‰é”®å€¼éƒ½ä¼šå‡ºç°åœ¨å¶å­èŠ‚ç‚¹ä¸Šï¼Œç¨ å¯†ç´¢å¼•å¯ä»¥å‡å°‘ I/O æ“ä½œï¼›
- å¶å­èŠ‚ç‚¹å¯ä»¥é€šè¿‡åŒå‘é“¾è¡¨ç›´æ¥é—®é¢˜ï¼›

æ³¨æ„å·®åˆ«ï¼š

- å¯¹äºä¸€ä¸ª 5 é˜¶ B+Treeï¼Œæ¯ä¸ªèŠ‚ç‚¹æœ‰ 5 ä¸ªå­æ ‘æŒ‡é’ˆå’Œ 5 ä¸ª keyã€‚
- å¯¹äºä¸€ä¸ª 5 é˜¶ B-Treeï¼Œæ¯ä¸ªèŠ‚ç‚¹æœ‰ 5 ä¸ªå­æ ‘æŒ‡é’ˆå’Œ 4 ä¸ª keyã€‚

B+Tree ä¸ B-Tree åŸºæœ¬ç›¸åŒï¼ŒåŒºåˆ«æ˜¯ B-Tree å¯ä»¥åœ¨éå¶å­èŠ‚ç‚¹å‘½ä¸­æ•°æ®ï¼Œè€Œ B+Tree åªæœ‰è¾¾åˆ°å¶å­èŠ‚ç‚¹æ‰å‘½ä¸­æ•°æ®ï¼Œå…¶æ€§èƒ½ä¹Ÿç­‰ä»·äºåœ¨å…³é”®å­—å…¨é›†åšä¸€æ¬¡äºŒåˆ†æŸ¥æ‰¾ï¼Œä½†è¿™æ ·æŸ¥è¯¢æ€§èƒ½ç¨³å®šï¼ŒåŒæ—¶å› ä¸ºå…¨é”®å€¼ç´¢å¼•æœ‰æ•ˆå‡å°‘ I/O æ“ä½œï¼ŒåŒæ—¶å¢åˆ èŠ‚ç‚¹æ•ˆç‡æ›´é«˜ï¼Œæ›´é€‚åˆç”¨äºæ–‡ä»¶ã€æ•°æ®çš„ç´¢å¼•ã€‚å› æ­¤ï¼ŒB+Tree å¹¿æ³›ç”¨äºæ–‡ä»¶ç³»ç»ŸåŠæ•°æ®åº“ä¸­ï¼Œå¦‚ Oracleï¼ŒMySQLï¼ŒSQLServer ç­‰ã€‚

B+Tree è¿˜æœ‰ä¸€ä¸ªæœ€å¤§çš„å¥½å¤„ï¼Œæ–¹ä¾¿æ‰«åº“ï¼Œç›´æ¥å°†å¶å­èŠ‚ç‚¹æ‰«ä¸€éå®Œæˆï¼Œä¸éœ€è¦éå†æ•´æ£µæ ‘ã€‚B+Tree æ”¯æŒæ–¹ä¾¿çš„ range-queryï¼Œè¿™æ˜¯æ•°æ®åº“é€‰ç”¨ B+Tree çš„æœ€ä¸»è¦åŸå› ã€‚æ¯”å¦‚è¦æŸ¥ 5-10 ä¹‹é—´çš„ï¼ŒB+Tree ä¸€æ¬¡å®šä½ 5ï¼Œå†ä¸€æ¬¡å®šä½ 10ï¼Œç„¶åä¸²èµ·æ¥å°±è¡Œäº†ã€‚

![B+Tree æ’å…¥å’Œå¹³è¡¡](https://img-blog.csdnimg.cn/img_convert/e0261cbe25f372771f4d2428655e42f9.gif)

å¦‚æœå‰é¢çš„æ‘©æ–¯ç çš„æ ‘å›¾ç”¨ B+Tree è¡¨ç¤ºï¼Œåº”è¯¥ç±»ä¼¼å¦‚ä¸‹çš„ç»“æ„ï¼š

                               â€¢ â‡¦              Morse Binary Tree            â‡¨ â€”     EX.
                                                        â”‚                             SOS  â€¢â€¢â€¢ --- â€¢â€¢â€¢
                               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    DENO -â€¢â€¢ â€¢ -â€¢
                             â€¢[E]                                               [T]â€”  RUST â€¢-â€¢ â€¢â€¢- â€¢â€¢â€¢ -
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â€¢ I                       A                         N                       M â€”
           â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
         â€¢ S           U           R           W             D           K           G           O â€”
        â”Œâ”€â”€â”´â”€â”€â”     â”Œâ”€â”€â”´â”€â”€â”     â”Œâ”€â”€â”´â”€â”€â”     â”Œâ”€â”€â”´â”€â”€â”       â”Œâ”€â”€â”´â”€â”€â”     â”Œâ”€â”€â”´â”€â”€â”     â”Œâ”€â”€â”´â”€â”€â”     â”Œâ”€â”€â”´â”€â”€â”
      â€¢ H     V     F     _     L     _     P     J       B     X     C     Y     Z     Q     _     _
      â”Œâ”€â”´â”€â” â”Œâ”€â”´â”€â” â”Œâ”€â”´â”€â” â”Œâ”€â”´â”€â” â”Œâ”€â”´â”€â” â”Œâ”€â”´â”€â” â”Œâ”€â”´â”€â” â”Œâ”€â”´â”€â”   â”Œâ”€â”´â”€â” â”Œâ”€â”´â”€â” â”Œâ”€â”´â”€â” â”Œâ”€â”´â”€â” â”Œâ”€â”´â”€â” â”Œâ”€â”´â”€â” â”Œâ”€â”´â”€â” â”Œâ”€â”´â”€â”
      5 H 4 S V 3I  F  U    2  EL  R+    A  P  W  J 1   6 B =D/ X  N  C  K  Y   7TZ  G  Q  M8    O9   0

å½“ç„¶è¿™é‡Œå±•ç¤ºçš„æ˜¯ 2 é˜¶æ ‘ï¼Œä¸å®é™…ä¸­ä½¿ç”¨çš„é˜¶æ•°ä¸åŒã€‚

åœ¨å¢åˆ èŠ‚ç‚¹ä¸Šçš„ keyï¼Œæ³¨æ„æ˜¯å¢åˆ  key è€Œä¸æ˜¯èŠ‚ç‚¹ï¼Œä¸€èˆ¬éœ€è¦ä¿è¯æœ€å°‘æœ‰ 2 ä¸ª keyã€‚å¦‚æœæ•°é‡ä¸è¶³ï¼Œå°±å¯ä»¥è¿›è¡ŒèŠ‚ç‚¹åˆå¹¶ï¼Œå¦‚æœ key å¡«æ»¡èŠ‚ç‚¹ï¼Œå°±éœ€è¦è¿›è¡ŒèŠ‚ç‚¹åˆ†è£‚ï¼Œå¯¹æ¯”çº¢é»‘æ ‘åˆ™æ˜¯é€šè¿‡æ—‹è½¬è§£å†³å¹³è¡¡é—®é¢˜ã€‚

B* Tree æ ‘æ˜¯ B+Tree çš„å˜ä½“ï¼Œåœ¨ B+Tree çš„éæ ¹å’Œéå¶å­èŠ‚ç‚¹å†å¢åŠ æŒ‡å‘å…„å¼Ÿçš„æŒ‡é’ˆã€‚B* Tree å®šä¹‰äº†éå¶å­èŠ‚ç‚¹ key ä¸ªæ•°è‡³å°‘ä¸º(2/3)Mï¼Œå³å—çš„æœ€ä½ä½¿ç”¨ç‡ä¸º 2/3ï¼Œè€Œä¸æ˜¯ B+Tree çš„ 1/2ã€‚

B+Tree åœ¨ä¸€ä¸ªèŠ‚ç‚¹å¡«æ»¡éœ€è¦è¿›è¡Œåˆ†è£‚ï¼š

- é€šè¿‡åˆ†é…ä¸€ä¸ªæ–°çš„èŠ‚ç‚¹ï¼Œå¹¶å°†åŸèŠ‚ç‚¹ä¸­ 1/2 çš„æ•°æ®å¤åˆ¶åˆ°æ–°èŠ‚ç‚¹ï¼Œæœ€ååœ¨çˆ¶èŠ‚ç‚¹ä¸­è®¾ç½®æ–°å¢èŠ‚ç‚¹çš„æŒ‡é’ˆã€‚
- B+Tree çš„åˆ†è£‚åªå½±å“åŸèŠ‚ç‚¹å’Œçˆ¶èŠ‚ç‚¹ï¼Œè€Œä¸ä¼šå½±å“å…„å¼ŸèŠ‚ç‚¹ã€‚

B* Tree åœ¨ä¸€ä¸ªèŠ‚ç‚¹æ»¡éœ€è¦è¿›è¡Œåˆ†è£‚ï¼š

- å¦‚æœå®ƒçš„ä¸‹ä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹æœªæ»¡ï¼Œå°±å°†ä¸€éƒ¨åˆ†æ•°æ®ç§»åˆ°å…„å¼ŸèŠ‚ç‚¹ä¸­ã€‚
- å†åœ¨åŸèŠ‚ç‚¹æ’å…¥å…³é”®å­—ï¼Œæœ€åä¿®æ”¹çˆ¶èŠ‚ç‚¹ä¸­å…„å¼ŸèŠ‚ç‚¹çš„å…³é”®å­—ï¼ˆå› ä¸ºå…„å¼ŸèŠ‚ç‚¹çš„å…³é”®å­—èŒƒå›´æ”¹å˜äº†ï¼‰ã€‚
- å¦‚æœå…„å¼Ÿä¹Ÿæ»¡äº†ï¼Œåˆ™åœ¨åŸèŠ‚ç‚¹ä¸å…„å¼ŸèŠ‚ç‚¹ä¹‹é—´å¢åŠ æ–°èŠ‚ç‚¹ï¼Œå¹¶å„å¤åˆ¶ 1/3 çš„æ•°æ®åˆ°æ–°èŠ‚ç‚¹ï¼Œæœ€ååœ¨çˆ¶èŠ‚ç‚¹å¢åŠ æ–°èŠ‚ç‚¹çš„æŒ‡é’ˆã€‚

æ‰€ä»¥ï¼ŒB* Tree åˆ†é…æ–°èŠ‚ç‚¹çš„æ¦‚ç‡æ¯” B+Tree è¦ä½ï¼Œç©ºé—´ä½¿ç”¨ç‡æ›´é«˜ã€‚


# ğŸš© Red-Black Tree çº¢é»‘æ ‘æœ‰ç‚¹æ‡’
- ç®—æ³•å¯¼è®º Introduction to Algorithms, 3rd Edition - 13 Red-Black Trees
- Robert Sedgewick - Algorithms, 4th Edition https://algs4.cs.princeton.edu/home/
- Left-Leaning Red-Black Trees - Robert Sedgewick - Princeton University https://www.cs.princeton.edu/~rs/talks/LLRB/RedBlack.pdf
- Red/Black Tree Visualization https://www.cs.usfca.edu/~galles/visualization/RedBlack.html
- Data Structure Visualizations https://www.cs.usfca.edu/~galles/visualization/Algorithms.html
- https://github.com/trekhleb/javascript-algorithms/tree/master/src/data-structures/tree/red-black-tree
- https://www.geeksforgeeks.org/avl-tree-set-1-insertion/
- https://www.geeksforgeeks.org/avl-tree-set-2-deletion/

çº¢é»‘æ ‘ï¼Œç»™äººä»¥å¼ºçƒˆçš„ç¬¬ä¸€å¬è§‰å†²å‡»åŠ›ï¼Œå…·æœ‰å¾ˆå¼ºçš„è§†è§‰æ•ˆåº”ï¼Œå¥½åƒå¾ˆé«˜ç«¯çš„æ„Ÿå—ã€‚äº‹å®ä¸Šçš„ç¡®å¦‚æ­¤ï¼Œçº¢é»‘æ ‘æ˜¯ä¸€ç§é«˜çº§æ•°æ®ç»“æ„ï¼Œåœ¨ C++ã€Java ç­‰ç¼–ç¨‹è¯­è¨€çš„æ ‡å‡†åº“é‡Œåšä¸º setã€map çš„åº•å±‚æ•°æ®ç»“æ„å®ç°ï¼Œä»¥åŠ Linux ä¸­è¿›ç¨‹çš„å…¬å¹³è°ƒåº¦ã€å†…å­˜ç®¡ç†ã€‚åœ¨å·¥ç¨‹ä¸Šçº¢é»‘æ ‘åº”ç”¨éå¸¸å¹¿æ³›ï¼ŒC++ STL ç”¨çš„éƒ½æ˜¯çº¢é»‘æ ‘ï¼Œç®—æ³•å¯¼è®ºç»™å‡ºä¼ªä»£ç çš„ä¹Ÿæ˜¯çº¢é»‘æ ‘ã€‚

                                            Red-Black Binary Tree
    âšª black                                         âšª
                                                      â”‚
    ğŸ”´ red                   ğŸ”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€âšª
                              E                                                 T
                âšªâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€âšª                       âšªâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€âšª
                 I                       A                        NIL                      NIL
          ğŸ”´â”€â”€â”€â”€â”´â”€â”€â”€â”€ğŸ”´          ğŸ”´â”€â”€â”€â”€â”´â”€â”€â”€â”€ğŸ”´     
           S           U           R          W      
      âšªâ”€â”€â”´â”€â”€âšª  âšªâ”€â”€â”´â”€â”€âšª   âšªâ”€â”€â”´â”€â”€âšª âšªâ”€â”€â”´â”€â”€âšª 
      NIL    NIL  NIL    NIL   NIL    NIL NIL    NIL 

Java HashMap çš„å®ç°å°±ä½¿ç”¨äº†çº¢é»‘æ ‘æ¥è§£å†³ Hash å†²çªé—®é¢˜ï¼Œå®ç°é«˜æ•ˆ key-value æŸ¥æ‰¾ã€‚

RB-Tree çº¢é»‘æ ‘ç‰¹æ€§ï¼š

- èŠ‚ç‚¹åªèƒ½æ˜¯ `RED` æˆ–æ˜¯ `BLACK` ä¸¤ç§çŠ¶æ€ï¼›
- æ ¹èŠ‚ç‚¹æ€»æ˜¯ `BLACK`ï¼›
- å¦‚æœèŠ‚ç‚¹æ˜¯ `RED` èŠ‚ç‚¹ï¼Œå…¶å­èŠ‚ç‚¹å¿…éœ€æ˜¯ `BLACK`ï¼Œåä¹‹ä¸ç®¡ `BLACK` èŠ‚ç‚¹çš„å­èŠ‚ç‚¹çŠ¶æ€ï¼›
- å¶èŠ‚ç‚¹æ˜¯ `BLACK`ï¼Œä½†ä¸å­˜å‚¨æ•°æ®ï¼Œå¹¶ä¸”æ‰€æœ‰æ•°æ®èŠ‚ç‚¹éƒ½å……æ»¡å¶èŠ‚ç‚¹ï¼›
- ä»»æ„èŠ‚ç‚¹åˆ°è¾¾å¶èŠ‚ç‚¹çš„å„æ¡è·¯å¾„ç»è¿‡çš„ `BLACK` èŠ‚ç‚¹æ•°å¿…éœ€ç›¸ç­‰ï¼Œå¹¶ä¸”æœ€å¤§ã€æœ€å°çš„ `Black Height` ä¸è¶…è¿‡ 2 å€ï¼›

å¶èŠ‚ç‚¹æ˜¯ nilï¼Œå³ä¸å­˜å‚¨ä»»ä½•ä¸œè¥¿ä¸€èˆ¬ä¸ç”»å‡ºæ¥ï¼Œå…¶å®ƒå­˜æœ‰æ•°æ®çš„èŠ‚ç‚¹ç§°ä¸ºå†…èŠ‚ç‚¹ã€‚çº¢é»‘æ ‘å¹¶æ²¡æœ‰çº¦æŸ `BLACK` èŠ‚ç‚¹çš„å­èŠ‚ç‚¹é¢œè‰²ï¼Œåªè¦æ±‚ `RED` èŠ‚ç‚¹çš„å­èŠ‚ç‚¹ä¸º `BLACK`ã€‚çº¢é»‘æ ‘å¯ä»¥æ²¡æœ‰ `RED` èŠ‚ç‚¹ï¼Œåªéœ€è¦æ»¡è¶³ 5 æ¡åŸºæœ¬æ¡ä»¶å°±å¯ä»¥ã€‚

äºŒå‰æœç´¢æ ‘åœ¨æœ€åçš„æƒ…å†µä¸‹å¯èƒ½ä¼šå˜æˆä¸€ä¸ªé“¾è¡¨ï¼Œè€Œçº¢é»‘æ ‘åœ¨æ¯ä¸€æ¬¡æ’å…¥æˆ–åˆ é™¤èŠ‚ç‚¹ä¹‹åéƒ½ä¼šèŠ± O(log N) çš„æ—¶é—´æ¥å¯¹æ ‘çš„ç»“æ„ä½œä¿®æ”¹ï¼Œä»¥ä¿æŒæ ‘çš„å¹³è¡¡ã€‚åŒæ—¶ï¼Œçº¢é»‘æ ‘åˆä¸åƒ AVL é‚£æ ·ä¸¥æ ¼å¹³è¡¡ï¼Œæ€§èƒ½æ›´å¥½ã€‚

ä»ç†è®ºä¸Šçœ‹ï¼Œå¹³è¡¡äºŒå‰æ ‘è¿½æ±‚çš„æ˜¯ç»å¯¹å¹³è¡¡ï¼ä¹Ÿå°±æ˜¯è¯´å·¦å­æ ‘å’Œå³å­æ ‘å·®å€¼å¿…é¡»å°äºç­‰äº 1ã€‚å®ç”¨ä¸­çº¢é»‘æ ‘åªéœ€è¦ä¿è¯å·¦å³å­æ ‘ä¸­çš„ BLACK èŠ‚ç‚¹æ•°é‡ä¸€è‡´å³å¯ã€‚è¿™åªæ˜¯ä¿è¯äº†é»‘è‰²èŠ‚ç‚¹çš„ç»å¯¹å¹³è¡¡ï¼Œçº¢è‰²èŠ‚ç‚¹æ˜¯ä¸è€ƒè™‘çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å·¦å­æ ‘å’Œå³å­æ ‘åªè¦æ»¡è¶³ 2 å€ä»¥å†…çš„å…³ç³»å°±å¯ä»¥äº†ï¼Œå› è€Œæ˜¯æ¥è¿‘å¹³è¡¡çš„ã€‚

ä»å¦ä¸€ä¸ªè§’åº¦çœ‹çº¦æŸå…³ç³»ï¼Œå°† `RED` èŠ‚ç‚¹ç§»é™¤ï¼Œå¹¶ä¸”å°†å…¶å­èŠ‚ç‚¹æ‹¼æ¥åˆ°å…¶çˆ¶èŠ‚ç‚¹ï¼Œè¿™æ ·å½¢æˆçš„å°±æ˜¯ä¸€æ£µå®Œç¾çš„ 4 é˜¶æ ‘ï¼Œä¹Ÿå°±æ˜¯ 2-3-4 Treeï¼Œæ‰€æœ‰èŠ‚ç‚¹æœ€å¤šæœ‰ 4 ä¸ªå­èŠ‚ç‚¹ï¼Œå¹¶ä¸”æ‰€æœ‰è·¯å¾„ç­‰é«˜ï¼Œæ ‘é«˜å°±æ˜¯ `Black Heigh`ã€‚

Robert Sedgewick åœ¨å…¶ã€Šç®—æ³•ã€‹ä¸€ä¹¦å°±æ˜¯ç”¨ 2-3-4 Tree çš„è§†è§’æ¥æ”¹è¿›è¡Œç°ä»£çº¢é»‘æ ‘ç®—æ³• LLRB - Left-leaning red-black treesã€‚

å› ä¸ºè¿™ä¸ªæ¡ä»¶çº¿æŸçš„å­˜åœ¨ï¼Œçº¢é»‘æ ‘ä¸­åˆå…·æœ‰ä¸€ä¸ªé‡è¦çš„ `Black Height` å±æ€§ï¼Œå®ƒå†³å®šçš„æ ‘çš„ç¨³å®šçŠ¶æ€ï¼Œåªè¦å®ƒå‡ºç°é«˜åº¦å˜æ›´ï¼Œå°±éœ€è¦å¯¹æ ‘ä½œå‡ºå¹³è¡¡è°ƒæ•´ã€‚

å…·ä½“çš„å«ä¹‰ï¼Œå°±æ˜¯åœ¨æ’å…¥æ–°èŠ‚ç‚¹æ—¶ï¼Œè®¾ç½®ä¸º `RED` å°±å¯ä»¥é¿å…è¿›è¡Œå¹³è¡¡å¤„ç†çš„è¿‡ç¨‹ï¼Œä½†æ˜¯å½“éœ€è¦å¾€ `RED` æ’å…¥æ–°èŠ‚ç‚¹æ—¶å°±å¿…ä¼šæ–°å¢ `BLACK` è¿™å°±ä¼šå‡ºç°è·¯å¾„çš„ `Black Height` é«˜åº¦å¢é•¿ï¼Œéœ€è¦é‡æ–°å¹³è¡¡ã€‚ä¹Ÿå°±æ˜¯è¿™ä¸ª `RED` èŠ‚ç‚¹çš„å­˜åœ¨ï¼Œæ‰€ä»¥çº¢é»‘æ ‘å…·æœ‰ä¸€å®šçš„æƒ°æ€§ï¼Œå¹¶ä¸éœ€è¦åƒ AVL é‚£æ ·å‹¤å¿«åœ°è¿›è¡Œå¹³è¡¡è°ƒæ•´ã€‚

æ­£æ˜¯çº¢é»‘æ ‘çš„ 5 æ¡åŸºæœ¬æ€§è´¨ï¼Œä½¿ä¸€æ£µ n ä¸ªèŠ‚ç‚¹çš„çº¢é»‘æ ‘å§‹ç»ˆä¿æŒäº†ä¸è¶…è¿‡ 2 log(n+1) çš„é«˜åº¦ï¼Œæƒ°æ€§å¹³è¡¡ä½¿å¾—çº¢é»‘æ ‘çš„æŸ¥æ‰¾ã€æ’å…¥ã€åˆ é™¤çš„æ—¶é—´å¤æ‚åº¦æœ€åä¸º O(log n)ï¼Œæ¯” AVL å…·æœ‰æ›´ä½³çš„æ€§èƒ½ã€‚


å¾€æ ‘ä¸Šæ’å…¥æ–°èŠ‚ç‚¹ï¼Œæˆ–åˆ é™¤ç°æœ‰èŠ‚ç‚¹éƒ½å¯èƒ½ä¼šç ´ååŸæœ‰å¹³è¡¡ï¼Œæœ‰ LLã€RRã€LRã€RL å››ç§åŸºæœ¬çš„å¤±è¡¡å§¿æ€ï¼Œç›¸åº”è°ƒæ•´æ–¹å¼å¯ä»¥æƒ³è±¡ä¸ºæ ‘å›¾çš„æ—‹è½¬æ“ä½œã€‚

å‡å®š T1 T2 T3 ä¸ºå­æ ‘ï¼Œä»¥ä¸‹ç¤ºèŒƒæ ‘å›¾æ—‹è½¬çš„æ¦‚å¿µï¼š

         y                                 x
        / \      Right Rotation (T,y)     / \
       x   T3      -------------->       T1  y
      / \          <--------------          / \
     T1  T2      Left Rotation  (T,x)     T2  T3

æ—‹è½¬è¿‡ç¨‹åˆ†æï¼Œä»¥ä¸‹æŒ‰å³æ—‹è½¬çš„è¿‡ç¨‹åˆ†æï¼Œå·¦æ—‹è½¬çš„æ“ä½œç±»ä¼¼ï¼š

- é¦–å…ˆï¼Œå¯¹äº y æ—‹è½¬æ—¶ä¼šé™çº§ï¼Œè„±ç¦» x åç©ºå‡ºå·¦æŒ‡é’ˆï¼›
- å¯¹äº x å‡çº§ä¸ºçˆ¶èŠ‚ç‚¹ï¼Œå¹¶ä»¥ y å­æ ‘ä½œä¸ºå³å­æ ‘ï¼Œæ‰€ä»¥ x åŸæ¥çš„å³å­æ ‘å¿…éœ€è„±ç¦»å‡ºå»å¦åˆ™æ— æ³•ä¸ y å­æ ‘ç›¸è¿ï¼›
- å°†åŸ x å³æ ‘ä¸ y ç©ºå‡ºçš„å·¦æŒ‡é’ˆç›¸è¿ï¼Œå®Œæˆå³æ—‹è½¬ï¼›

ä»¥ä¸‹åªå±•ç¤º AVL æ ‘çš„å±€éƒ¨ä¼šå‡ºç°çš„å››ç§åŸºæœ¬çš„æ’å…¥å¤±è¡¡çŠ¶æ€ï¼Œæœªå±•ç¤ºåˆ é™¤å¤±è¡¡ï¼Œå¹¶ä¸”ä¸æ˜¯æœ€ç®€åŒ–çš„å½¢å¼ã€‚å„ä¸ªå¶èŠ‚ç‚¹å¯ä»¥çœ‹ä½œæ˜¯æœ‰å¤šå±‚çº§çš„å­æ ‘ï¼Œå¯¹æ“ä½œæ— å½±å“ã€‚

LL - Left Left æ’å…¥æˆ–åˆ é™¤æ–¹å¼ï¼Œå¯¹äº LL æ’å…¥å¤±è¡¡ï¼Œè¿›è¡Œå³æ—‹è°ƒæ•´ã€‚

    |   Balanced  |               |  Unbalanced   |               |   balanced    |
    |       E     |               |         E     |               |       U       |
    |   â”Œâ”€â”€â”€â”´â”€â”€â”€â” |   LL insert   |     â”Œâ”€â”€â”€â”´â”€â”€â”€â” |    RR Adjust  |   â”Œâ”€â”€â”€â”´â”€â”€â”€â”   |
    |   I       A | ------------> |     I       A | ------------> |   S       A   |
    | â”Œâ”€â”´â”€â”       |               |   â”Œâ”€â”´â”€â”       |               | â”Œâ”€â”´â”€â”   â”Œâ”€â”´â”€â” |
    | S   U       |               |   S   U       |               | H   I   E     |
    |             |               | â”Œâ”€â”´â”€â”         |               |               |
    |             |               | H             |               |               |

RR - Right Right æ’å…¥æˆ–åˆ é™¤æ–¹å¼ï¼Œå¯¹äº RR æ’å…¥å¤±è¡¡ï¼Œè¿›è¡Œå·¦æ—‹è°ƒæ•´ã€‚

    |   Balanced  |               |  Unbalanced   |               |   balanced    |
    |     E       |               |     E         |               |       S       |
    | â”Œâ”€â”€â”€â”´â”€â”€â”€â”   |   RR insert   | â”Œâ”€â”€â”€â”´â”€â”€â”€â”     |   RR Adjust   |   â”Œâ”€â”€â”€â”´â”€â”€â”€â”   |
    | I       A   | ------------> | I       A     | ------------> |   E       U   |
    |       â”Œâ”€â”´â”€â” |               |       â”Œâ”€â”´â”€â”   |               | â”Œâ”€â”´â”€â”   â”Œâ”€â”´â”€â” |
    |       S   U |               |       S   U   |               | I       A   H |
    |             |               |         â”Œâ”€â”´â”€â” |               |               |
    |             |               |             H |               |               |

LR - Left Right æ’å…¥æˆ–åˆ é™¤æ–¹å¼ï¼Œå¯¹äº LR æ’å…¥å¤±è¡¡ï¼Œè¿›è¡ŒåŒæ—‹è½¬è°ƒæ•´ï¼Œå…ˆä½å±‚å·¦æ—‹è°ƒæ•´ï¼Œè½¬æ¢ä¸º LL æ’å…¥å¤±è¡¡é—®é¢˜ï¼Œå†å³æ—‹ã€‚

    |   Balanced  |               |  Unbalanced   |               |   balanced    |
    |       E     |               |         E     |               |       U       |
    |   â”Œâ”€â”€â”€â”´â”€â”€â”€â” |   LR insert   |     â”Œâ”€â”€â”€â”´â”€â”€â”€â” |   LR Adjust   |   â”Œâ”€â”€â”€â”´â”€â”€â”€â”   |
    |   I       A | ------------> |     I       A | ------------> |   I       E   |
    | â”Œâ”€â”´â”€â”       |               |   â”Œâ”€â”´â”€â”       |               | â”Œâ”€â”´â”€â”   â”Œâ”€â”´â”€â” |
    | S   U       |               |   S   U       |               | S   H       A |
    |             |               |     â”Œâ”€â”´â”€â”     |               |               |
    |             |               |     H         |               |               |

RL - Right Left æ’å…¥æˆ–åˆ é™¤æ–¹å¼ï¼Œå¯¹äº RL æ’å…¥å¤±è¡¡ï¼Œè¿›è¡ŒåŒæ—‹è½¬è°ƒæ•´ï¼Œå…ˆä½å±‚å³æ—‹è°ƒæ•´ï¼Œè½¬åŒ–ä¸º RR æ’å…¥å¤±è¡¡é—®é¢˜ï¼Œå†å·¦æ—‹ã€‚

    |   Balanced  |               |   Unbalanced  |               |   balanced    |
    |     E       |               |       E       |               |       H       |
    | â”Œâ”€â”€â”€â”´â”€â”€â”€â”   |   RL insert   |   â”Œâ”€â”€â”€â”´â”€â”€â”€â”   |   RL Adjust   |   â”Œâ”€â”€â”€â”´â”€â”€â”€â”   |
    | I       A   | ------------> |   I       A   | ------------> |   E       A   |
    |       â”Œâ”€â”´â”€â” |               |         â”Œâ”€â”´â”€â” |               | â”Œâ”€â”´â”€â”   â”Œâ”€â”´â”€â” |
    |       S   U |               |         S   U |               | I       S   U |
    |             |               |       â”Œâ”€â”´â”€â”   |               |               |
    |             |               |       H       |               |               |

çº¢é»‘æ ‘çš„å¹³è¡¡æ“ä½œéƒ½åŸºäºå››ç§åŸºæœ¬ç±»å‹ï¼Œå¹¶ä¸”ç»“åˆäº†èŠ‚ç‚¹é¢œè‰²å±æ€§è¿›è¡Œå¤„ç†ï¼Œæ‰€ä»¥å¹¶ä¸åƒ AVL é‚£æ ·éœ€è¦ä¸¥æ ¼å¹³è¡¡ã€‚åªéœ€è¦è¿›è¡Œå±€éƒ¨è°ƒæ•´ï¼Œæ»¡è¶³æ ¹èŠ‚ç‚¹åˆ°æ‰€æœ‰å¶èŠ‚ç‚¹çš„ `Black Height` ç›¸åŒå³å¯ã€‚ä½†ä¹Ÿå› ä¸ºåŠ å…¥é¢œè‰²å±æ€§ï¼Œæ‰€ä»¥çº¢é»‘æ ‘çš„å¹³è¡¡è°ƒæ•´çš„å®ç°æ¯”å¸¸è§„çš„äºŒå‰æ ‘è¦å¤æ‚ã€‚

æ’å…¥æ–°èŠ‚ç‚¹æ—¶çš„åŸºæœ¬é—®é¢˜å°±æ˜¯ç ´åè§„åˆ™é—®é¢˜ï¼Œçº¢é»‘æ ‘çš„æœ«ç«¯èŠ‚ç‚¹ä¸å­˜åœ¨åŒæ—¶è¿æ¥ `BLACK` å’Œ `NIL` çš„æƒ…å†µï¼Œåªæœ‰è¿æ¥ `RED` å’Œ `NIL` å­èŠ‚ç‚¹æ‰èƒ½æ»¡è¶³ `Black Height` é«˜åº¦ç»Ÿä¸€çš„è¦æ±‚ã€‚

ç»¼åˆå„ç§æƒ…å†µï¼š

- æ’å…¥èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ä¸º `BLACK`ï¼Œæœ€ä¼˜æ’å…¥ `RED` èŠ‚ç‚¹ï¼Œæ— å¹³è¡¡åŠ¨ä½œã€‚
- æ’å…¥èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ï¼Œåˆ™è¡¨ç¤ºè¦æ‰“ç ´ `Black Height`ï¼Œéœ€è¦è¿›è¡Œå˜è‰²ã€æˆ–å„ç§æ—‹è½¬å¤„ç†ã€‚

æ’å…¥ä¸€ä¸ªæ–°èŠ‚ç‚¹ï¼Œé»˜è®¤é¢œè‰²ä¸ºçº¢è‰²ï¼Œä»¥ä¸‹å‡ ç§æƒ…å†µéœ€è¦åšç¿»è½¬ï¼š

- Right child red, left child black:rotate left.
- Left child, left-left grandchild red: rotate right.
- Both children red:flip colors.

é€šè¿‡å˜è‰²å¯ä»¥è§£å†³çš„æƒ…å†µæ˜¯ï¼Œå”ã€çˆ¶èŠ‚ç‚¹åŒ€ä¸º `RED`ï¼Œç¥–çˆ¶ä¸º `BLACK`ï¼Œé€šè¿‡å˜è‰²å¤„ç†å³å¯å¹³è¡¡ã€‚

æ¼”ç¤ºï¼Œè¿™é‡Œä¸ç»™å‡º `NIL` å¶èŠ‚ç‚¹ï¼Œé€šè¿‡å˜è‰²æ“ä½œé¿å…è¿›è¡Œæ—‹è½¬å¹³è¡¡æ“ä½œï¼Œä¾æ¬¡é€çº§å˜è‰²ç›´åˆ°ç¬¦åˆè§„åˆ™ï¼š

                    âšª                                         âšª         
                     E                                          E          
              ğŸ”´â”€â”€â”€â”€â”´â”€â”€â”€â”€ğŸ”´                             âšªâ”€â”€â”€â”€â”´â”€â”€â”€â”€âšª    
               I          A         insert 5              I          A     
          âšªâ”€â”€â”´â”€â”€âšª  âšªâ”€â”€â”´â”€â”€âšª    ------->         ğŸ”´â”€â”€â”´â”€â”€âšª  âšªâ”€â”€â”´â”€â”€âšª
           S      U    R      W                       S      U    R      W 
      ğŸ”´â”€â”€â”´â”€â”€ğŸ”´                                 âšªâ”€â”€â”´â”€â”€âšª                
       H      V                                   H      V                 
                                              ğŸ”´â”€â”€â”´                       
                                               5                           

å½“å”ã€çˆ¶èŠ‚ç‚¹åˆ†åˆ«ä¸º `RED`ï¼Œ`BLACK`ï¼Œå°±æ ¹æ®æ’å…¥ç‚¹ä½ç½®ï¼ŒLL RR LR RLï¼Œç”¨ç¬¦åˆçš„æ—‹è½¬è°ƒæ•´æ“ä½œã€‚

                    âšª                                         âšª         
                     E                                          E          
              ğŸ”´â”€â”€â”€â”€â”´â”€â”€â”€â”€ğŸ”´                             âšªâ”€â”€â”€â”€â”´â”€â”€â”€â”€âšª    
               I          A         insert 5              I          A     
          âšªâ”€â”€â”´â”€â”€âšª  âšªâ”€â”€â”´â”€â”€âšª    ------->         ğŸ”´â”€â”€â”´â”€â”€âšª  âšªâ”€â”€â”´â”€â”€âšª
           S      U    R      W                       S      U    R      W 
      ğŸ”´â”€â”€â”´â”€â”€âšª                                 âšªâ”€â”€â”´â”€â”€âšª                
       H      V                                   H      V                 
                                              ğŸ”´â”€â”€â”´                       
                                               5                           

ç›¸æ¯”è¾ƒäºçº¢é»‘æ ‘çš„èŠ‚ç‚¹æ’å…¥ï¼Œåˆ é™¤èŠ‚ç‚¹æ›´ä¸ºå¤æ‚ï¼Œä»å­èŠ‚ç‚¹æ˜¯å¦ä¸º null å’Œçº¢è‰²æ¥è®¨è®ºã€‚

æŠŠè¦åˆ é™¤çš„ç»“ç‚¹åœ¨ä¸ç ´åå¹³è¡¡çš„å‰æä¸‹å…ˆæŸ“çº¢ï¼Œå†åˆ é™¤ã€‚

å­èŠ‚ç‚¹è‡³å°‘æœ‰ä¸€ä¸ªä¸º null

å½“å¾…åˆ é™¤çš„èŠ‚ç‚¹çš„å­èŠ‚ç‚¹è‡³å°‘æœ‰ä¸€ä¸ªä¸º null èŠ‚ç‚¹æ—¶ï¼Œåˆ é™¤äº†è¯¥èŠ‚ç‚¹åï¼Œå°†å…¶æœ‰å€¼çš„èŠ‚ç‚¹å–ä»£å½“å‰èŠ‚ç‚¹å³å¯ã€‚



# ğŸš© Graph Algorithms å›¾è®ºä¸ç®—æ³•
- [å›¾åŠå…¶è¡ç”Ÿç®—æ³• Graph algorithms](https://www.cnblogs.com/silence-cho/p/10089065.html)
- [æ ‘åŠå…¶è¡ç”Ÿç®—æ³• Tree Algorithms](https://www.cnblogs.com/silence-cho/p/10056097.html)
- [ä» Graph åˆ° Graph Convolutionï¼šæ¼«è°ˆå›¾ç¥ç»ç½‘ç»œæ¨¡å‹](https://www.cnblogs.com/SivilTaram/p/graph_neural_network_1.html)
- [1. A Comprehensive Survey on Graph Neural Networks](https://arxiv.org/abs/1901.00596)
- [2. the Graph Neural Network Model by Franco Scarselli](https://persagen.com/files/misc/scarselli2009graph.pdf)
- [3. Spectral Networks and Locally Connected Networks on Graphs by Joan Bruna](https://arxiv.org/abs/1312.6203)
- [4. Distributed Representations of Words and Phrases and their Compositionality by Tomas Mikolov](http://papers.nips.cc/paper/5021-distributed-representations-of-words-andphrases)
- [5. DeepWalk: Online Learning of Social Representations](https://arxiv.org/abs/1403.6652)
- [6. Translating Embeddings for Modeling Multi-relational Data](https://papers.nips.cc/paper/5071-translating-embeddings-for-modeling-multi-relational-data)
- [7. Deep Learning on Graphs: A Survey](https://arxiv.org/abs/1812.04202)
- [8. å¦‚ä½•ç†è§£Graph Convolutional Networkï¼ˆGCNï¼‰](https://www.zhihu.com/question/54504471)
- [9. Almeidaâ€“Pineda recurrent backpropagation](https://www.wikiwand.com/en/Almeidaâ€“Pineda_recurrent_backpropagation)
- [10. Gated graph sequence neural networks](https://arxiv.org/abs/1511.05493)
- [11. Representing Schema Structure with Graph Neural Networks for Text-to-SQL Parsing](https://arxiv.org/abs/1905.06241)
- [12. Spider1.0 Yale Semantic Parsing and Text-to-SQL Challenge](https://yale-lily.github.io/spider)
- [13](https://www.wikiwand.com/en/Laplacian_matrix)
- [14. Graph Neural Networks: A Review of Methods and Applications](https://arxiv.org/pdf/1812.08434)


æ ‘æ˜¯ä¸€ç§ç‰¹æ®Šçš„å›¾ï¼Œç›¸æ¯”æ ‘ï¼Œå›¾æ›´èƒ½ç”¨æ¥è¡¨ç¤ºç°å®ä¸–ç•Œä¸­çš„çš„å®ä½“ï¼Œå¦‚è·¯çº¿å›¾ï¼Œç½‘ç»œèŠ‚ç‚¹å›¾ï¼Œè¯¾ç¨‹ä½“ç³»å›¾ç­‰ã€‚ä¸€æ—¦èƒ½ç”¨å›¾æ¥æè¿°å®ä½“ï¼Œèƒ½æ¨¡æ‹Ÿå’Œè§£å†³ä¸€äº›éå¸¸å¤æ‚çš„ä»»åŠ¡ã€‚

ç›¸å…³æ¦‚å¿µå’Œè¯æ±‡å¦‚ä¸‹ï¼š

- Vertex é¡¶ç‚¹ï¼šå›¾çš„èŠ‚ç‚¹
- Edge è¾¹ï¼šé¡¶ç‚¹é—´çš„è¿çº¿ï¼Œè‹¥è¾¹å…·æœ‰æ–¹å‘æ—¶ï¼Œç»„æˆæœ‰å‘å›¾ï¼ˆdirected graphï¼‰
- Weight æƒé‡ï¼šä¸€ä¸ªé¡¶ç‚¹åˆ°å…¶ä»–é¡¶ç‚¹çš„è·ç¦»ä¸åŒï¼Œå¯¹åº”è¾¹å…·æœ‰çš„æƒé‡ä¹Ÿä¸åŒ
- Path è·¯å¾„ï¼šä¸€ä¸ªé¡¶ç‚¹åˆ°å¦ä¸€ä¸ªé¡¶ç‚¹æ‰€ç»è¿‡çš„æ‰€æœ‰è¾¹çš„é›†åˆ
- Cycle å›è·¯ï¼šåœ¨æœ‰å‘å›¾ä¸­ï¼Œä»ä¸€ä¸ªé¡¶ç‚¹å¼€å§‹ï¼Œæœ€ååˆå›åˆ°èµ·å§‹é¡¶ç‚¹çš„è·¯å¾„ä¸ºä¸€ä¸ªå›è·¯

å›¾å¯ä»¥è¡¨ç¤ºä¸º G = {Vï¼ŒE}ï¼Œå…¶ä¸­ V ä¸ºé¡¶ç‚¹çš„é›†åˆï¼ŒE ä¸ºè¾¹çš„é›†åˆã€‚

ä¾‹å¦‚ï¼š
    
     G = {Vï¼ŒE}

     V = {ğœ0, ğœ1, ğœ2, ğœ3, ğœ4 ...}

     E = {(ğœ0, ğœ1 1), (ğœ1, ğœ2, 3), (ğœ3, ğœ4, 1) ...}

éå†å›¾èŠ‚ç‚¹æ—¶ï¼Œæœ‰ä»¥ä¸‹ä¸¤æœç´¢ç®—æ³•ï¼š

- å®½åº¦ä¼˜å…ˆæœç´¢ BFS - Breadth First Searchï¼šå…ˆæœç´¢åŒçº§çš„é¡¶ç‚¹ï¼Œå†æœç´¢ä¸‹ä¸€çº§çš„é¡¶ç‚¹ã€‚
- æ·±åº¦ä¼˜å…ˆæœç´¢ DFS - Depth First Searchï¼šå…ˆæ‰¾ä¸‹ä¸€çº§çš„é¡¶ç‚¹ï¼Œå†æ‰¾åŒçº§çš„é¡¶ç‚¹ã€‚

å¯ä»¥é€šè¿‡é‚»æ¥çŸ©é˜µï¼ˆadjacency matrixï¼‰æˆ–é¢†æ¥è¡¨ï¼ˆadjacency listï¼‰æ¥å®ç°å›¾ã€‚

é‚»æ¥çŸ©é˜µè¡¨ç¤ºå›¾çš„ç»“æ„å¦‚ä¸‹ï¼Œå›¾ä¸­çš„æ•°å­—è¡¨ç¤ºä¸¤ä¸ªé¡¶ç‚¹ç›¸è¿ï¼Œä¸”è¾¹çš„æƒé‡ä¸ºè¯¥å€¼ã€‚å¯ä»¥å‘ç°é‚»æ¥çŸ©é˜µæ›´åŠ é€‚åˆäºè¾¹è¾ƒå¤šçš„å›¾ï¼Œä¸ç„¶ä¼šé€ æˆå†…å­˜ç©ºé—´çš„æµªè´¹ã€‚

|    | ğœ0 | ğœ1 | ğœ2 | ğœ3 | ğœ4 |
|----|----|----|----|----|----|
| ğœ0 |    |  1 |    |    |    |
|----|----|----|----|----|----|
| ğœ1 |    |    |  3 |    |    |
|----|----|----|----|----|----|
| ğœ2 |    |    |    |    |    |
|----|----|----|----|----|----|
| ğœ3 |    |    |    |    |  1 |
|----|----|----|----|----|----|
| ğœ4 |    |    |    |    |    |


é‚»æ¥è¡¨è¡¨ç¤ºå›¾çš„ç»“æ„å¦‚ä¸‹ï¼Œä¸€ä¸ªä¸»åˆ—è¡¨ä¸­åŒ…å«å›¾çš„æ‰€æœ‰é¡¶ç‚¹ï¼Œæ¯ä¸ªé¡¶ç‚¹åˆå„åŒ…å«åˆ—è¡¨è®°å½•ä¸å…¶ç›¸è¿çš„è¾¹ã€‚å¯ä»¥å‘ç°é‚»æ¥è¡¨æ›´é€‚åˆè¾¹è¾ƒå°‘çš„å›¾ã€‚

    Graph: numVertices = 5

    List       Vertexes
    +====+     +==================+
    | ğœ0 | --> | ID:ğœ0 adj:{v1:1} |
    +====+     +==================+
    +====+     +==================+
    | ğœ1 | --> | ID:ğœ1 adj:{v2:3} |
    +====+     +==================+
    +====+     +==================+
    | ğœ2 | --> | ID:ğœ2 adj:{}     |
    +====+     +==================+
    +====+     +==================+
    | ğœ3 | --> | ID:ğœ3 adj:{v4:1} |
    +====+     +==================+
    +====+     +==================+
    | ğœ4 | --> | ID:ğœ4 adj:{}     |
    +====+     +==================+



å›¾ç¥ç»ç½‘ç»œ(Graph Neural Network)çš„å†å²å‘å±•åˆ†æ”¯éå¸¸ä¹‹å¤šï¼Œè¿™é‡Œæ‘˜è¦ä½œä¸€ä¸ªç®€è¦ä»‹ç»ï¼š

1. 2005 å¹´ï¼Œæå‡ºå›¾ç¥ç»ç½‘ç»œçš„æ¦‚å¿µã€‚2009 å¹´ Franco åšå£«åœ¨ the Graph Neural Network Model è®ºæ–‡ä¸­å®šä¹‰äº†å›¾ç¥ç»ç½‘ç»œçš„ç†è®ºåŸºç¡€ã€‚
2. æœ€æ—©çš„ GNN ä¸»è¦è§£å†³çš„è¿˜æ˜¯å¦‚åˆ†å­ç»“æ„åˆ†ç±»ç­‰ä¸¥æ ¼æ„ä¹‰ä¸Šçš„å›¾è®ºé—®é¢˜ã€‚ä½†å®é™…ä¸Šæ¬§å¼ç©ºé—´(æ¯”å¦‚åƒå›¾åƒ Image)æˆ–è€…æ˜¯åºåˆ—(æ¯”å¦‚åƒæ–‡æœ¬ Text)ï¼Œè®¸å¤šå¸¸è§åœºæ™¯ä¹Ÿéƒ½å¯ä»¥è½¬æ¢æˆå›¾(Graph)ï¼Œç„¶åå°±èƒ½ä½¿ç”¨å›¾ç¥ç»ç½‘ç»œæŠ€æœ¯æ¥å»ºæ¨¡ã€‚
3. 2013 å¹´ï¼Œåœ¨å›¾ä¿¡å·å¤„ç†çš„åŸºç¡€ä¸Šï¼ŒGraph Signal Processingï¼ŒBruna åœ¨æ–‡çŒ® Spectral Networks and Locally Connected Networks on Graphs ä¸­é¦–æ¬¡æå‡ºå›¾ä¸Šçš„åŸºäºé¢‘åŸŸ Spectral-domain å’ŒåŸºäºç©ºåŸŸ Spatial-domain çš„å·ç§¯ç¥ç»ç½‘ç»œã€‚
4. å…¶åè‡³ä»Šï¼Œå­¦ç•Œæå‡ºäº†å¾ˆå¤šåŸºäºç©ºåŸŸçš„å›¾å·ç§¯æ–¹å¼ï¼Œä¹Ÿæœ‰ä¸å°‘å­¦è€…è¯•å›¾é€šè¿‡ç»Ÿä¸€çš„æ¡†æ¶å°†å‰äººçš„å·¥ä½œç»Ÿä¸€èµ·æ¥ã€‚è€ŒåŸºäºé¢‘åŸŸçš„å·¥ä½œç›¸å¯¹è¾ƒå°‘ï¼Œåªå—åˆ°éƒ¨åˆ†å­¦è€…çš„é’çã€‚
5. å€¼å¾—ä¸€æçš„æ˜¯ï¼Œå›¾ç¥ç»ç½‘ç»œä¸å›¾è¡¨ç¤ºå­¦ä¹  Represent Learning for Graph çš„å‘å±•å†ç¨‹ä¹ŸæƒŠäººåœ°ç›¸ä¼¼ã€‚
6. 2014 å¹´ï¼Œåœ¨ Tomas Mikolov word2vec çš„å¯å‘ä¸‹ï¼ŒPerozzi ç­‰äººæå‡ºäº† DeepWalkï¼Œå¼€å¯äº†æ·±åº¦å­¦ä¹ æ—¶ä»£å›¾è¡¨ç¤ºå­¦ä¹ çš„å¤§é—¨ã€‚å°±åœ¨å‡ ä¹ä¸€æ ·çš„æ—¶é—´ï¼ŒBordes ç­‰äººæå‡ºäº†å¤§åé¼é¼çš„ Translating Embeddingsï¼Œä¸ºçŸ¥è¯†å›¾è°±çš„åˆ†å¸ƒå¼è¡¨ç¤º Represent Learning for Knowledge Graph å¥ å®šäº†åŸºç¡€ã€‚


# ğŸš© PAT 1088 ä¸‰äººè¡Œ
- https://pintia.cn/problem-sets/994805260223102976/problems/1038429286185074688

å­æ›°ï¼šâ€œä¸‰äººè¡Œï¼Œå¿…æœ‰æˆ‘å¸ˆç„‰ã€‚æ‹©å…¶å–„è€…è€Œä»ä¹‹ï¼Œå…¶ä¸å–„è€…è€Œæ”¹ä¹‹ã€‚â€

æœ¬é¢˜ç»™å®šç”²ã€ä¹™ã€ä¸™ä¸‰ä¸ªäººçš„èƒ½åŠ›å€¼å…³ç³»ä¸ºï¼šç”²çš„èƒ½åŠ›å€¼ç¡®å®šæ˜¯ 2 ä½æ­£æ•´æ•°ï¼›æŠŠç”²çš„èƒ½åŠ›å€¼çš„ 2 ä¸ªæ•°å­—è°ƒæ¢ä½ç½®å°±æ˜¯ä¹™çš„èƒ½åŠ›å€¼ï¼›ç”²ä¹™ä¸¤äººèƒ½åŠ›å·®æ˜¯ä¸™çš„èƒ½åŠ›å€¼çš„ X å€ï¼›ä¹™çš„èƒ½åŠ›å€¼æ˜¯ä¸™çš„ Y å€ã€‚è¯·ä½ æŒ‡å‡ºè°æ¯”ä½ å¼ºåº”â€œä»ä¹‹â€ï¼Œè°æ¯”ä½ å¼±åº”â€œæ”¹ä¹‹â€ã€‚

è¾“å…¥æ ¼å¼ï¼š
è¾“å…¥åœ¨ä¸€è¡Œä¸­ç»™å‡ºä¸‰ä¸ªæ•°ï¼Œä¾æ¬¡ä¸ºï¼šMï¼ˆä½ è‡ªå·±çš„èƒ½åŠ›å€¼ï¼‰ã€X å’Œ Yã€‚ä¸‰ä¸ªæ•°å­—å‡ä¸ºä¸è¶…è¿‡ 1000 çš„æ­£æ•´æ•°ã€‚

è¾“å‡ºæ ¼å¼ï¼š
åœ¨ä¸€è¡Œä¸­é¦–å…ˆè¾“å‡ºç”²çš„èƒ½åŠ›å€¼ï¼Œéšåä¾æ¬¡è¾“å‡ºç”²ã€ä¹™ã€ä¸™ä¸‰äººä¸ä½ çš„å…³ç³»ï¼šå¦‚æœå…¶æ¯”ä½ å¼ºï¼Œè¾“å‡º Congï¼›å¹³ç­‰åˆ™è¾“å‡º Pingï¼›æ¯”ä½ å¼±åˆ™è¾“å‡º Gaiã€‚å…¶é—´ä»¥ 1 ä¸ªç©ºæ ¼åˆ†éš”ï¼Œè¡Œé¦–å°¾ä¸å¾—æœ‰å¤šä½™ç©ºæ ¼ã€‚

æ³¨æ„ï¼šå¦‚æœè§£ä¸å”¯ä¸€ï¼Œåˆ™ä»¥ç”²çš„æœ€å¤§è§£ä¸ºå‡†è¿›è¡Œåˆ¤æ–­ï¼›å¦‚æœè§£ä¸å­˜åœ¨ï¼Œåˆ™è¾“å‡º No Solutionã€‚

    è¾“å…¥æ ·ä¾‹ 1ï¼š
    48 3 7
    è¾“å‡ºæ ·ä¾‹ 1ï¼š
    48 Ping Cong Gai

é¢˜ç›®è¯„ä»·ï¼Œä½œä¸ºä¸€é“ Basic Level çš„é¢˜ç›®ï¼Œæ„Ÿè§‰æ˜¯åœ¨ç©æ–‡å­—æ¸¸æˆï¼

é€»è¾‘è¯­è¨€ï¼š

A B C ä¸‰äººèƒ½åŠ›å€¼çš„å…³ç³»ï¼Œè¾“å…¥å€¼ M X Y æœ€å¤§å€¼ä¸è¶…è¿‡ 1000 çš„æ­£æ•´æ•°ï¼š

- A èƒ½åŠ›æ˜¯ç¡®å®šçš„ 2 ä½æ•´æ•°ï¼›
- B èƒ½åŠ›æ˜¯ A èƒ½åŠ›å€¼ä¸¤ä½æ•°å­—è°ƒæ¢åçš„å€¼ï¼Œä¸”æ˜¯ C èƒ½åŠ›å€¼çš„ Y å€ï¼›
- C èƒ½åŠ›å€¼æ˜¯ A B å·®å€¼çš„ X å€ï¼›

æ•°å­¦è¯­è¨€å¦‚ä¸‹ï¼Œå·²çŸ¥ X Yï¼Œæ±‚ A B Cï¼š

    A = ab
    B = ba = Y * C
    | A - B | = X * C


# ğŸš© 08.12. å…«çš‡å
- https://leetcode-cn.com/problems/eight-queens-lcci/
- https://algorithm-visualizer.org/backtracking/n-queens-problem

è®¾è®¡ä¸€ç§ç®—æ³•ï¼Œæ‰“å° N çš‡ååœ¨ N Ã— N æ£‹ç›˜ä¸Šçš„å„ç§æ‘†æ³•ï¼Œå…¶ä¸­æ¯ä¸ªçš‡åéƒ½ä¸åŒè¡Œã€ä¸åŒåˆ—ï¼Œä¹Ÿä¸åœ¨å¯¹è§’çº¿ä¸Šã€‚è¿™é‡Œçš„â€œå¯¹è§’çº¿â€æŒ‡çš„æ˜¯æ‰€æœ‰çš„å¯¹è§’çº¿ï¼Œä¸åªæ˜¯å¹³åˆ†æ•´ä¸ªæ£‹ç›˜çš„é‚£ä¸¤æ¡å¯¹è§’çº¿ã€‚

ç¤ºä¾‹:

    è¾“å…¥ï¼š4
    è¾“å‡ºï¼š[[".Q..","...Q","Q...","..Q."],["..Q.","Q...","...Q",".Q.."]]
    è§£é‡Š: 4 çš‡åé—®é¢˜å­˜åœ¨å¦‚ä¸‹ä¸¤ä¸ªä¸åŒçš„è§£æ³•ã€‚
    [[
    " . Q . . ",  // è§£æ³• 1
    " . . . Q ",
    " Q . . . ",
    " . . Q . "
    ], [
    " . . Q . ",  // è§£æ³• 2
    " Q . . . ",
    " . . . Q ",
    " . Q . . "
    ]]

é¦–å…ˆï¼Œå®šæ€§é—®é¢˜æ˜¯å¾ˆå…³é”®çš„ä¸€æ­¥ï¼Œé”™è¯¯çš„å®šæ€§ä¼šå¯¼è‡´ä½¿ç”¨é”™è¯¯çš„è§£é¢˜åŠæ³•ã€‚

N çš‡åæœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªæšä¸¾é—®é¢˜ï¼Œå’Œå…¨æ’åˆ—ã€ç»„åˆä»€ä¹ˆçš„ä¸€ä¸ªé“ç†ï¼Œæšä¸¾é—®é¢˜éƒ½å¯ä»¥è€ƒè™‘ä½¿ç”¨ DFS æ¥è§£å†³ã€‚


# ğŸš© getTopN

å‡å®šè¾“å…¥ä¸€ä¸ªäºŒç»´æ•°ç»„ï¼Œå…ƒç´ æ˜¯é™åºçš„æ•°å€¼ï¼Œå®ç°ä¸€ä¸ª getTopN() æ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ªæ•°ç»„åŒ…å«äºŒç»´æ•°ç»„ä¸­æœ€å¤§çš„ N ä¸ªå€¼ã€‚

ç¬¬ä¸€ä¸ªç‰ˆæœ¬ï¼Œä½¿ç”¨ç°æˆçš„ API å¿«é€Ÿå®ç°ï¼Œä¸è¿‡å¿½ç•¥äº†æ•°æ®å·²ç»é™åºçš„æ¡ä»¶ï¼š

```
function getTopNv1(arrs, n){
  let can = [];
  for(var ix in arrs){
    can = can.concat(arrs[ix]);
  }
  can = can.sort((a, b)=>b-a);
  return can.slice(0, n);
}
```

æ›´å¥½çš„å®ç°ç‰ˆæœ¬æ˜¯åˆ©ç”¨æ•°æ®çš„é™åºæ€§è´¨ï¼Œç”¨é€’å½’æ–¹æ³•é€ä¸€è·å–ï¼š

```
function getTopN(arrs, n, ix = null){
  if(!ix){
    ix = [];
    for(var i in arrs){
      ix[i] = 0;
    }
  }
  let max = arrs[0][ix[0]];
  let mp = 0;
  for(var i in arrs){
    let v = arrs[i][ix[i]];
    if(max<v) mp = i;
    max = max<v? v:max;
  }
  ix[mp]+=1;
  if(n>1) {
    let more = getTopN(arrs, n-1, ix);
    return [max, ...more];
  }
  return [max];
}

let test = [
  [11, 8, 7, 4, 3],
  [10, 8, 6, 4, 3],
  [6, 5, 3],
  [20, 6, 3],
]
let top3 = getTopN(test, 3);
console.log(top3);
```

# ğŸš© Tail-Recursive æ¯” Recursive æ›´å¿«ï¼
- TCO - Tail call optimization https://exploringjs.com/es6/ch_tail-calls.html

æœ‰ä¸ªæ¯”å–»å¯ä»¥å¸®ä½ ç†è§£`å°¾é€’å½’` Tail-Recursive ä¸`é€’å½’` Recursive çš„åŒºåˆ«ï¼š

å‡è®¾ç©ä¸€ä¸ªæ¸¸æˆï¼Œä½ éœ€è¦å»æ”¶é›†æ•£è½äº†ä¸€è·¯ï¼Œå¹¶é€šå‘è¿œæ–¹çš„ç¡¬å¸ã€‚

äºæ˜¯ä½ ä¸€ä¸ªä¸€ä¸ªçš„æ¡ï¼Œä¸€è¾¹æ¡ä¸€è¾¹å¾€å‰èµ°ï¼Œä½†æ˜¯ä½ å¿…é¡»å¾€åœ°ä¸Šæ’’äº›çº¸æ¡åšè®°å·ï¼Œå› ä¸ºä¸åšè®°å·ä½ å°±å¿˜äº†å›æ¥çš„è·¯ã€‚äºæ˜¯ä½ ä¸€è·¯èµ°ï¼Œä¸€è·¯æ¡ï¼Œä¸€è·¯æ’’çº¸æ¡ã€‚ç­‰ä½ æ¡åˆ°æœ€åä¸€ä¸ªç¡¬å¸æ—¶ï¼Œä½ å¼€å§‹æ²¿ç€è®°å·å›æ¥äº†ï¼Œä¸€è·¯èµ°ï¼Œä¸€è·¯æ¡çº¸æ¡(ä¿æŠ¤ç¯å¢ƒ)ã€‚ç­‰å›åˆ°å‡ºå‘ç‚¹æ—¶ï¼Œä½ æŠŠç¡¬å¸è£…ä½ åŒ…é‡Œï¼ŒæŠŠçº¸æ¡æ‰”è¿›åƒåœ¾æ¡¶ã€‚
è¿™å°±æ˜¯éå°¾é€’å½’ï¼Œçº¸æ¡å°±æ˜¯ä½ çš„è°ƒç”¨æ ˆï¼Œæ˜¯å†…å­˜è®°å½•ã€‚

ä¸‹æ¬¡å†ç©è¿™ä¸ªæ¸¸æˆæ—¶ï¼Œä½ å­¦èªæ˜äº†ï¼Œä½ ç›´æ¥èƒŒç€åŒ…è¿‡å»äº†ï¼Œä¸€è·¯èµ°ï¼Œä¸€è·¯æ¡ï¼Œä¸€è·¯å¾€åŒ…é‡Œå¡ã€‚ç­‰åˆ°äº†ç»ˆç‚¹æ—¶ï¼Œæœ€åä¸€ä¸ªç¡¬å¸è¿›åŒ…äº†ï¼Œä»»åŠ¡å®Œæˆäº†ï¼Œä½ ä¸å›æ¥äº†ï¼è¿™å°±æ˜¯å°¾é€’å½’ï¼Œçœå»äº†è°ƒç”¨æ ˆçš„æ¶ˆè€—ã€‚è¿™å°±æ˜¯ TCO - Tail call optimization å°¾é€’å½’ä¼˜åŒ–ã€‚

å°¾é€’å½’ä¹Ÿæ˜¯é€’å½’ï¼Œæ˜¯ä¸€ç§ç‰¹æ®Šçš„å°¾è°ƒç”¨ï¼Œå³åœ¨å°¾éƒ¨ç›´æ¥è°ƒç”¨è‡ªèº«çš„é€’å½’å‡½æ•°ã€‚å°¾è°ƒç”¨ä¸ä¸€å®šæ˜¯é€’å½’è°ƒç”¨ï¼Œä½†æ˜¯å°¾é€’å½’ç‰¹åˆ«æœ‰ç”¨ï¼Œä¹Ÿæ¯”è¾ƒå®¹æ˜“å®ç°ã€‚

å°¾é€’å½’åœ¨æ™®é€šå°¾è°ƒç”¨çš„åŸºç¡€ä¸Šï¼Œå¤šå‡ºäº†2ä¸ªç‰¹å¾ï¼š

1. åœ¨å°¾éƒ¨è°ƒç”¨çš„æ˜¯å‡½æ•°è‡ªèº« (Self-called)ï¼›
2. å¯é€šè¿‡ä¼˜åŒ–ï¼Œä½¿å¾—è®¡ç®—ä»…å ç”¨å¸¸é‡æ ˆç©ºé—´ (Stack Space)ã€‚

ç”¨ n çš„é˜¶ä¹˜å‡½æ•°æ¥æ¯”è¾ƒä¸¤ç§é€’å½’æ–¹å¼ï¼š

```c
function fact_(n) {
  if (n <= 1n) {
      return 1n;
  } else {
      return n * fact(n - 1n);
  }
}

function fact(n, v) {
  v =  v || n;
  if (n <= 1n) {
      return v * 1n;
  } else {
      return fact(n - 1n, v * (n - 1n));
  }
}
console.log(fact_(1000n))
console.log(fact(1000n))
```

è·Ÿæ™®é€šé€’å½’å‡½æ•°æ¯”èµ·æ¥ï¼Œå°¾é€’å½’å‡½æ•°å› ä¸ºåœ¨å±•å¼€çš„è¿‡ç¨‹ä¸­è®¡ç®—å¹¶ä¸”ç¼“å­˜äº†ç»“æœï¼Œç»è¿‡ç¼–è¯‘ä¼˜åŒ–åï¼Œä¸ä¼šåƒæ™®é€šé€’å½’å‡½æ•°é‚£æ ·å±•å¼€å‡ºéå¸¸åºå¤§çš„ä¸­é—´ç»“æœã€‚

è¿™ä¸ª fact(n - 1, r * n) è¿”å›çš„æ—¶å€™ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸Šä¸€å±‚çš„ fact(n, r) è¿”å›ï¼Œæ‰€ä»¥ä¿å­˜æ ˆæ˜¯æ²¡æœ‰ä»»ä½•æ„ä¹‰çš„ï¼Œç¼–è¯‘å™¨å¯ä»¥æ ¹æ®è¿™ç‚¹æ¥å®ç°ä¼˜åŒ–ï¼Œä»è¿™ç‚¹æ¥çœ‹ï¼Œå°¾é€’å½’ä¼˜åŒ–æœ¬èº«å®Œå…¨ç­‰æ•ˆäºä¸€ä¸ªæ— æ ˆçš„å¾ªç¯ç»“æ„ã€‚


# ğŸš© Tower of Hanoi æ±‰è¯ºå¡”

è¿™æ˜¯ä¸€ä¸ªæºäºå°åº¦å¤è€ä¼ è¯´çš„ç›Šæ™ºç©å…·ï¼Œå¤§æ¢µå¤©åˆ›é€ ä¸–ç•Œçš„æ—¶å€™åšäº†ä¸‰æ ¹é‡‘åˆšçŸ³æŸ±å­ï¼Œåœ¨ä¸€æ ¹æŸ±å­ä¸Šä»ä¸‹å¾€ä¸ŠæŒ‰ç…§å¤§å°é¡ºåºæ‘ç€ 64 ç‰‡é»„é‡‘åœ†ç›˜ã€‚å¤§æ¢µå¤©å‘½ä»¤å©†ç½—é—¨æŠŠåœ†ç›˜ä»ä¸‹é¢å¼€å§‹æŒ‰å¤§å°é¡ºåºé‡æ–°æ‘†æ”¾åœ¨å¦ä¸€æ ¹æŸ±å­ä¸Šï¼Œå¹¶ä¸”è§„å®šï¼Œåœ¨å°åœ†ç›˜ä¸Šä¸èƒ½æ”¾å¤§åœ†ç›˜ï¼Œåœ¨ä¸‰æ ¹æŸ±å­ä¹‹é—´ä¸€æ¬¡åªèƒ½ç§»åŠ¨ä¸€ä¸ªåœ†ç›˜ã€‚

æ¡ä»¶ï¼š

ï¼ˆ1ï¼‰æ¯æ¬¡åªèƒ½ç§»åŠ¨ä¸€ä¸ªåœ†ç›˜
ï¼ˆ2ï¼‰åœ†ç›˜å¯ä»¥æ’åˆ° Xï¼ŒYï¼ŒZ ä¸­ä»»ä¸€æŸ±ä¸Š
ï¼ˆ3ï¼‰ä»»ä½•æ—¶å€™ä¸èƒ½å°†ä¸€ä¸ªè¾ƒå¤§çš„åœ†ç›˜å‹åœ¨è¾ƒå°çš„åœ†ç›˜ä¹‹ä¸Š

é€’å½’æ€æƒ³è§£å†³é—®é¢˜æ ¸å¿ƒåœ¨äºï¼šé€’ ä¸ å½’ï¼Œåœ¨å±‚å±‚é€’è¿›ä¸­å°†é—®é¢˜åˆ†è§£ï¼Œå›å½’è¿‡ç¨‹ä¸­å°†åˆ†è§£åˆ°ç»ˆç‚¹æˆ–ä¸´ç•Œç‚¹çš„ç®€å•é—®é¢˜çš„è§£å†³å¹¶ä¸”å›æº¯è§£å†³ä¸Šä¸€ä¸ªé—®é¢˜ç›´åˆ°è§£å†³æœ€åˆå§‹çš„é—®é¢˜ã€‚

ä¸è¦ç®¡æœ‰å‡ ä¸ªç›˜ï¼Œä½ å…³å¿ƒçš„å§‹ç»ˆåº”è¯¥æ˜¯æœ€åº•ä¸‹çš„é‚£ä¸ªç›˜ï¼Œä½ è¦å°†å®ƒç§»åˆ°åˆ°ç›®æ ‡ä½ç½®ä¸Šå»ï¼Œç›´æ¥ç§»åŠ¨å®ƒã€‚åˆ°äºè¿™ä¸Šé¢çš„æ‰€æœ‰ç›˜éƒ½çœ‹å½“ä¸€ä¸ªæ•´ä½“ï¼Œæ¬¡é€’å½’å‡½æ•°å»å¤„ç†ã€‚

```c
function hanoi(n, a, b, c) {
  if(n<=1){
    console.log("Move %s -> %s", a, c);
    return ;
  }
  hanoi(n - 1, a, c, b)
  console.log("Move %s -> %s", a, c);
  hanoi(n - 1, b, a, c)
}
hanoi(3, "A", "B", "C");
```

ç”¨ç²—æš´çš„ç†è§£å°±æ˜¯æ±‰è¯ºå¡”æ°¸è¿œåªæœ‰ä¸‰æ­¥ï¼š

- æŠŠæœ€åº•ä¸‹åœ†ç›˜ä»¥ä¸Šçš„æ‰“åŒ…å¼„èµ°ï¼›
- æŠŠæœ€åº•ä¸‹åœ†ç›˜ç§»åˆ°ç›®æ ‡ä½ä¸Šï¼›
- é€’å½’å¤„ç†ä¸‹ä¸€ä¸ªï¼›

æœ¬è´¨å°±æ˜¯ä»æœ«ç«¯å€’æ¨ï¼Œå³æœ€ç»ˆåº•å±‚ç›˜è¦å¾€ç›®æ ‡ä½ç½®ç§»åŠ¨ã€‚

# ğŸš© 1. two-sum EASY
- https://leetcode-cn.com/problems/two-sum/

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ numsÂ å’Œä¸€ä¸ªæ•´æ•°ç›®æ ‡å€¼ targetï¼Œè¯·ä½ åœ¨è¯¥æ•°ç»„ä¸­æ‰¾å‡º å’Œä¸ºç›®æ ‡å€¼ çš„é‚£Â ä¸¤ä¸ªÂ æ•´æ•°ï¼Œå¹¶è¿”å›å®ƒä»¬çš„æ•°ç»„ä¸‹æ ‡ã€‚

ä½ å¯ä»¥å‡è®¾æ¯ç§è¾“å…¥åªä¼šå¯¹åº”ä¸€ä¸ªç­”æ¡ˆã€‚ä½†æ˜¯ï¼Œæ•°ç»„ä¸­åŒä¸€ä¸ªå…ƒç´ ä¸èƒ½ä½¿ç”¨ä¸¤éã€‚

ä½ å¯ä»¥æŒ‰ä»»æ„é¡ºåºè¿”å›ç­”æ¡ˆã€‚

ç¤ºä¾‹ 1ï¼š

    è¾“å…¥ï¼šnums = [2,7,11,15], target = 9
    è¾“å‡ºï¼š[0,1]
    è§£é‡Šï¼šå› ä¸º nums[0] + nums[1] == 9 ï¼Œè¿”å› [0, 1] ã€‚

ç¤ºä¾‹ 2ï¼š

    è¾“å…¥ï¼šnums = [3,2,4], target = 6
    è¾“å‡ºï¼š[1,2]

ç¤ºä¾‹ 3ï¼š

    è¾“å…¥ï¼šnums = [3,3], target = 6
    è¾“å‡ºï¼š[0,1]

æç¤ºï¼š

- 2 <= nums.length <= 10^3
- -10^9 <= nums[i] <= 10^9
- -10^9 <= target <= 10^9
- åªä¼šå­˜åœ¨ä¸€ä¸ªæœ‰æ•ˆç­”æ¡ˆ

å¯ä»¥ä½¿ç”¨ä¸¤æ¬¡å¾ªç¯ï¼Œéå†æ•´ä¸ªæ•°ç»„è§£å†³ï¼š

- æ—¶é—´å¤æ‚åº¦ï¼šO(n^2)
- ç©ºé—´å¤æ‚åº¦ï¼šO(1)

ä»¥ä¸‹ä½¿ç”¨ Hash Map ä¸€æ¬¡å¾ªç¯éå†æ£€æŸ¥ï¼Œé™ä½æ—¶é—´å¤æ‚åº¦ä¸º O(n)ï¼Œä½†æå‡äº†ç©ºé—´å¤æ‚åº¦ O(n)ï¼š

```js
/**
 * JavaScript Solution
 * @param {number[]} nums
 * @param {number} target
 * @return {number[]}
 */
var twoSum = function(nums, target) {
    let map = new Map();
    for(let i=0; i<nums.length; i++){
        if(map.has(nums[i])){
            return [map.get(nums[i]), i];
        }
        map.set(target-nums[i], i);
    }
};
```

# ğŸš© 2. add-two-numbers NORMAL
- https://leetcode-cn.com/problems/add-two-numbers/

ç»™ä½ ä¸¤ä¸ªÂ éç©º çš„é“¾è¡¨ï¼Œè¡¨ç¤ºä¸¤ä¸ªéè´Ÿçš„æ•´æ•°ã€‚å®ƒä»¬æ¯ä½æ•°å­—éƒ½æ˜¯æŒ‰ç…§Â é€†åºÂ çš„æ–¹å¼å­˜å‚¨çš„ï¼Œå¹¶ä¸”æ¯ä¸ªèŠ‚ç‚¹åªèƒ½å­˜å‚¨Â ä¸€ä½Â æ•°å­—ã€‚

è¯·ä½ å°†ä¸¤ä¸ªæ•°ç›¸åŠ ï¼Œå¹¶ä»¥ç›¸åŒå½¢å¼è¿”å›ä¸€ä¸ªè¡¨ç¤ºå’Œçš„é“¾è¡¨ã€‚

ä½ å¯ä»¥å‡è®¾é™¤äº†æ•°å­— 0 ä¹‹å¤–ï¼Œè¿™ä¸¤ä¸ªæ•°éƒ½ä¸ä¼šä»¥ 0Â å¼€å¤´ã€‚


ç¤ºä¾‹ 1ï¼š

    è¾“å…¥ï¼šl1 = [2,4,3], l2 = [5,6,4]
    è¾“å‡ºï¼š[7,0,8]
    è§£é‡Šï¼š342 + 465 = 807.

ç¤ºä¾‹ 2ï¼š

    è¾“å…¥ï¼šl1 = [0], l2 = [0]
    è¾“å‡ºï¼š[0]

ç¤ºä¾‹ 3ï¼š

    è¾“å…¥ï¼šl1 = [9,9,9,9,9,9,9], l2 = [9,9,9,9]
    è¾“å‡ºï¼š[8,9,9,9,0,0,0,1]

æç¤ºï¼š

- æ¯ä¸ªé“¾è¡¨ä¸­çš„èŠ‚ç‚¹æ•°åœ¨èŒƒå›´ [1, 100] å†…
- 0 <= Node.val <= 9
- é¢˜ç›®æ•°æ®ä¿è¯åˆ—è¡¨è¡¨ç¤ºçš„æ•°å­—ä¸å«å‰å¯¼é›¶

è§£é¢˜ï¼Œå°†é—®é¢˜æŠ½è±¡ï¼Œåˆ†ç¦»å„ä¸ªéœ€æ±‚ä¸ºå‡½æ•°å®ç°ï¼Œå°†å…³æ³¨ç‚¹æ”¾åœ¨å¯ä»¥ç›´æ¥è§£å†³çš„é—®é¢˜ä¸Šï¼š

- é—®é¢˜ä¸€ï¼ŒæŠ½è±¡ä¸€ä¸ª list2number å‡½æ•°å®ç°é“¾è¡¨ä¸ºå¯è®¡ç®—çš„æ•°å€¼ï¼›
- é—®é¢˜äºŒï¼ŒæŠ½è±¡ä¸€ä¸ª number2list å‡½æ•°å®ç°æ•°å€¼åˆ°é“¾è¡¨çš„è½¬æ¢ï¼›

å‘ç°å­é—®é¢˜å°±æŠ½è±¡ä¸€ä¸ªå‡½æ•°è§£å†³ï¼Œå…ˆä¸ç®¡ç»†èŠ‚ï¼Œå°†å…³æ³¨ç‚¹æ”¾åœ¨èƒ½ç›´æ¥è§£å†³é—®é¢˜çš„æ€è€ƒä¸Šï¼Œå®Œæˆä¸€ä¸ªæŠ½è±¡è§£å†³æ–¹æ¡ˆå†å»é€æ­¥å®ç°ç»†èŠ‚çš„å®ç°ã€‚

ä½†æ˜¯è¿™ä¸ªæ–¹æ³•ï¼Œæ¶‰åŠçš„è½¬æ¢è¿‡ç¨‹å¤ªå¤šï¼Œå¹¶ä¸”å¤„ç†çš„æ•°å€¼æœ‰é•¿åº¦é™åˆ¶ï¼Œå¦‚ JavaScript åªæœ‰ 52bit ç²¾åº¦ï¼Œæœ€å¤§ç²¾åº¦è¡¨ç¤ºçš„æœ€å¤§å€¼ä¸º 2^53-1ï¼Œå¤„ç†ä¸äº†è¶…é•¿ç²¾åº¦çš„æ•°å€¼ã€‚ä»è¿™ä¸ªé¢˜ç›®åº”è¯¥è¦äº†è§£åˆ°ï¼Œå®ƒå€¾å‘äºå®ç°ä¸€ä¸ªç±»ä¼¼ BigInt çš„æ•°æ®ç»“æ„ï¼Œåªä¸è¿‡è¦æ±‚å®ç°çš„æ˜¯ BigInt åŠ æ³•å™¨ã€‚

JavaScript å®ç°ï¼š

```js
/**
 * Definition for singly-linked list.
 * function ListNode(val, next) {
 *     this.val = (val===undefined ? 0 : val)
 *     this.next = (next===undefined ? null : next)
 * }
 */
/**
 * @param {ListNode} l1
 * @param {ListNode} l2
 * @return {ListNode}
 */
var addTwoNumbers = function(l1, l2) {
  let vs = [];
  while(l1 || l2){
      let s = (l1? l1.val:0) + (l2? l2.val:0);
      vs.push(s);
      if(l1 !== null) l1 = l1.next;
      if(l2 !== null) l2 = l2.next;
  }
  return makeList(vs);
}

var makeList = function(vs) {
  let v = vs.shift();
  let carry = (v-v%10)/10;
  if(carry){
    if(vs.length === 0) vs[0] = 0;
    vs[0] += carry;
  }
  if(vs.length === 0) return new ListNode(v%10);
  let cn = makeList(vs);
  return new ListNode(v%10, cn);
}
```



# ğŸš© 13. strStr() EASY
- https://www.lintcode.com/problem/implement-strstr/

For a given source string and a target string, you should output the first index(from 0) of target string in source string.

If target does not exist in source, just return -1.

O(n2) is acceptable. Can you implement an O(n) algorithm? (hint: KMP)

Do I need to implement KMP Algorithm in a real interview?

Not necessary. When you meet this problem in a real interview, the interviewer may just want to test your basic implementation ability. But make sure you confirm with the interviewer first.

```java
public class Solution {
    /**
     * @param source: 
     * @param target: 
     * @return: return the index
     */
    public int strStr(String source, String target) {
        // Write your code here
        for(int ik = 0; ik < source.length()-target.length()+1; ik++){
            int ij = 0;
            for(; ij < target.length(); ij++){
                if(source.charAt(ik+ij) != target.charAt(ij)) break;
            }
            if(ij==target.length()) return ik;
        }
        return -1;
    }
}
```

KMP ç®—æ³•çš„æ ¸å¿ƒæ˜¯å­˜æ”¾éƒ¨åˆ†åŒ¹é…è¡¨ Partial Match Table çš„æ•°ç»„ã€‚

å¯¹äºå­—ç¬¦ä¸² abababcaï¼Œå®ƒçš„ PMT å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š

    char  a b a b a b c a
    index 1 2 3 4 5 6 7 8
    value 0 0 1 2 3 4 0 1
    next  - 0 0 1 2 3 4 0

å°±åƒä¾‹å­ä¸­æ‰€ç¤ºçš„ï¼Œå¦‚æœå¾…åŒ¹é…çš„æ¨¡å¼å­—ç¬¦ä¸²æœ‰ 8 ä¸ªå­—ç¬¦ï¼Œé‚£ä¹ˆ PMT å°±ä¼šæœ‰ 8 ä¸ªå€¼ã€‚

è§£é‡Šä¸€ä¸‹å­—ç¬¦ä¸²çš„**å‰ç¼€**å’Œ**åç¼€**ï¼š

- å­—ç¬¦ä¸² A å’Œ B å­˜åœ¨ A=BSï¼Œå…¶ä¸­ S æ˜¯ä»»æ„çš„éç©ºå­—ç¬¦ä¸²ï¼Œé‚£å°±ç§° B ä¸º A çš„å‰ç¼€ã€‚
- åŒæ ·å¯ä»¥å®šä¹‰åç¼€ A=SBï¼Œå…¶ä¸­ S æ˜¯ä»»æ„çš„éç©ºå­—ç¬¦ä¸²ï¼Œé‚£å°±ç§° B ä¸º A çš„åç¼€ã€‚

ä¾‹å¦‚ï¼ŒHarry çš„å‰ç¼€é›†åˆæ˜¯ { H, Ha, Har, Harr}ï¼ŒåŒä¾‹å¦‚ï¼ŒPotter çš„åç¼€é›†åˆæ˜¯ { otter, tter, ter, er, r}ã€‚

æœ‰äº†è¿™ä¸¤ä¸ªæ¦‚å¿µï¼Œå°±å¯ä»¥çŸ¥é“ PMT ä¸­çš„å€¼æ„ä¹‰æ˜¯å­—ç¬¦ä¸²çš„å‰ç¼€é›†åˆä¸åç¼€é›†åˆçš„äº¤é›†ä¸­æœ€é•¿å…ƒç´ çš„é•¿åº¦ã€‚è¦æ³¨æ„çš„æ˜¯ï¼Œå­—ç¬¦ä¸²æœ¬èº«å¹¶ä¸æ˜¯è‡ªå·±çš„åç¼€ã€‚

ä¾‹å¦‚ï¼Œå¯¹äº abaï¼Œå®ƒçš„å‰ç¼€é›†åˆä¸º { a, ab }ï¼Œåç¼€é›†åˆä¸º { ba, a }ã€‚ä¸¤ä¸ªé›†åˆçš„äº¤é›†ä¸º { a }ï¼Œé‚£ä¹ˆé•¿åº¦æœ€é•¿çš„å…ƒç´ å°±æ˜¯å­—ç¬¦ä¸² a äº†ï¼Œé•¿åº¦ä¸º 1ï¼Œæ‰€ä»¥å¯¹äº aba è€Œè¨€ï¼Œå®ƒåœ¨ PMT è¡¨ä¸­å¯¹åº”çš„å€¼å°±æ˜¯ 1ã€‚å†æ¯”å¦‚ï¼Œå¯¹äºå­—ç¬¦ä¸² ababa ï¼Œå®ƒçš„å‰ç¼€é›†åˆä¸º{ a, ab, aba, abab }ï¼Œå®ƒçš„åç¼€é›†åˆä¸º { baba, aba, ba, a }ï¼Œ ä¸¤ä¸ªé›†åˆçš„äº¤é›†ä¸º { a, aba }ï¼Œå…¶ä¸­æœ€é•¿çš„å…ƒç´ ä¸º abaï¼Œé•¿åº¦ä¸º 3ã€‚

å†æ¥çœ‹å¦‚ä½•ä½¿ç”¨è¿™ä¸ªè¡¨æ¥åŠ é€Ÿå­—ç¬¦ä¸²çš„æŸ¥æ‰¾ï¼Œä»¥åŠè¿™æ ·ç”¨çš„é“ç†æ˜¯ä»€ä¹ˆã€‚

è¦åœ¨ä¸»å­—ç¬¦ä¸² `ababababca` ä¸­æŸ¥æ‰¾æ¨¡å¼å­—ç¬¦ä¸² `abababca`ï¼Œå¦‚æœåœ¨ j å¤„å­—ç¬¦ä¸åŒ¹é…ï¼Œé‚£ä¹ˆç”±äºå‰è¾¹æ‰€è¯´çš„æ¨¡å¼å­—ç¬¦ä¸² PMT çš„æ€§è´¨ï¼Œä¸»å­—ç¬¦ä¸²ä¸­ i æŒ‡é’ˆä¹‹å‰çš„ `PMT[jâˆ’1]` æŒ‡å®šçš„ä½æ•°å°±ä¸€å®šä¸æ¨¡å¼å­—ç¬¦ä¸²çš„ç¬¬ 0 ä½è‡³ç¬¬ `PMT[jâˆ’1]` ä½æ˜¯ç›¸åŒçš„ã€‚è¿™æ˜¯å› ä¸ºä¸»å­—ç¬¦ä¸²åœ¨ i ä½å¤±é…ï¼Œä¹Ÿå°±æ„å‘³ç€ä¸»å­—ç¬¦ä¸²ä» iâˆ’j åˆ° i è¿™ä¸€æ®µæ˜¯ä¸æ¨¡å¼å­—ç¬¦ä¸²çš„ 0 åˆ° j è¿™ä¸€æ®µæ˜¯å®Œå…¨ç›¸åŒçš„ã€‚è€Œæ¨¡å¼å­—ç¬¦ä¸²ä» 0 åˆ° jâˆ’1 ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­å°±æ˜¯ `ababab`ï¼Œå…¶å‰ç¼€é›†åˆä¸åç¼€é›†åˆçš„äº¤é›†çš„æœ€é•¿å…ƒç´ ä¸º `abab`ï¼Œ é•¿åº¦ä¸º4ã€‚æ‰€ä»¥å°±å¯ä»¥æ–­è¨€ï¼Œä¸»å­—ç¬¦ä¸²ä¸­iæŒ‡é’ˆä¹‹å‰çš„ 4 ä½ä¸€å®šä¸æ¨¡å¼å­—ç¬¦ä¸²çš„ç¬¬ 0 ä½è‡³ç¬¬ 4 ä½æ˜¯ç›¸åŒçš„ï¼Œå³é•¿åº¦ä¸º 4 çš„åç¼€ä¸å‰ç¼€ç›¸åŒã€‚è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°†è¿™äº›å­—ç¬¦æ®µçš„æ¯”è¾ƒçœç•¥æ‰ã€‚å…·ä½“çš„åšæ³•æ˜¯ï¼Œä¿æŒ i æŒ‡é’ˆä¸åŠ¨ï¼Œç„¶åå°† j æŒ‡é’ˆæŒ‡å‘æ¨¡å¼å­—ç¬¦ä¸²çš„ PMT[jâˆ’1] ä½å³å¯ã€‚

                v(i)              v(i)
    main  ababababca        ababababca
    char  abababca            abababca
                ^(j)              ^(j)

æœ‰äº†ä¸Šé¢çš„æ€è·¯ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨PMTåŠ é€Ÿå­—ç¬¦ä¸²çš„æŸ¥æ‰¾äº†ã€‚é€šå¸¸ä¸ç›´æ¥ä½¿ç”¨ PMT æ•°ç»„ï¼Œè€Œæ˜¯å°†æ•°ç»„å‘ååç§»ä¸€ä½ï¼Œæ–°å¾—åˆ°çš„è¿™ä¸ªæ•°ç»„ç§°ä¸º next æ•°ç»„ã€‚

# ğŸš© 804. Unique Morse Code Words EASY
- https://leetcode-cn.com/problems/unique-morse-code-words/
- å¦‚ä½•åœ¨ 15 åˆ†é’Ÿå†…å­¦ä¼šæ‘©æ–¯å¯†ç ï¼ŸNelson https://www.bilibili.com/video/av628068656/
- https://github.com/trekhleb/javascript-algorithms/tree/master/src/data-structures/tree

å›½é™…æ‘©å°”æ–¯å¯†ç å®šä¹‰ä¸€ç§æ ‡å‡†ç¼–ç æ–¹å¼ï¼Œå°†æ¯ä¸ªå­—æ¯å¯¹åº”äºä¸€ä¸ªç”±ä¸€ç³»åˆ—ç‚¹å’ŒçŸ­çº¿ç»„æˆçš„å­—ç¬¦ä¸²ï¼ŒÂ æ¯”å¦‚: "a" å¯¹åº” ".-", "b" å¯¹åº” "-...", "c" å¯¹åº” "-.-.", ç­‰ç­‰ã€‚

ä¸ºäº†æ–¹ä¾¿ï¼Œæ‰€æœ‰ 26 ä¸ªè‹±æ–‡å­—æ¯å¯¹åº”æ‘©å°”æ–¯å¯†ç è¡¨å¦‚ä¸‹ï¼š

    [".-","-...","-.-.","-..",".","..-.","--.","....","..",".---","-.-",".-..","--","-.","---",".--.","--.-",".-.","...","-","..-","...-",".--","-..-","-.--","--.."]

ç»™å®šä¸€ä¸ªå•è¯åˆ—è¡¨ï¼Œæ¯ä¸ªå•è¯å¯ä»¥å†™æˆæ¯ä¸ªå­—æ¯å¯¹åº”æ‘©å°”æ–¯å¯†ç çš„ç»„åˆã€‚ä¾‹å¦‚ï¼Œ"cab" å¯ä»¥å†™æˆ "-.-..--..."ï¼Œ(å³ "-.-." + ".-" + "-..." å­—ç¬¦ä¸²çš„ç»“åˆ)ã€‚æˆ‘ä»¬å°†è¿™æ ·ä¸€ä¸ªè¿æ¥è¿‡ç¨‹ç§°ä½œå•è¯ç¿»è¯‘ã€‚

è¿”å›æˆ‘ä»¬å¯ä»¥è·å¾—æ‰€æœ‰è¯ä¸åŒå•è¯ç¿»è¯‘çš„æ•°é‡ã€‚

ä¾‹å¦‚:

    è¾“å…¥: words = ["gin", "zen", "gig", "msg"]
    è¾“å‡º: 2
    è§£é‡Š: 
    å„å•è¯ç¿»è¯‘å¦‚ä¸‹:
    "gin" -> "--...-."
    "zen" -> "--...-."
    "gig" -> "--...--."
    "msg" -> "--...--."

å…±æœ‰ 2 ç§ä¸åŒç¿»è¯‘, "--...-." å’Œ "--...--.".
Â 

æ³¨æ„:

- å•è¯åˆ—è¡¨wordsÂ çš„é•¿åº¦ä¸ä¼šè¶…è¿‡ 100ã€‚
- æ¯ä¸ªå•è¯Â words[i]çš„é•¿åº¦èŒƒå›´ä¸ºÂ [1, 12]ã€‚
- æ¯ä¸ªå•è¯Â words[i]åªåŒ…å«å°å†™å­—æ¯ã€‚


Morse Binary Tree

                             â€¢ â‡¦              Morse Binary Tree            â‡¨ â€”     EX.
                                                      â”‚                             SOS  â€¢â€¢â€¢ --- â€¢â€¢â€¢
                             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    DENO -â€¢â€¢ â€¢ -â€¢
                           â€¢ E                                                 T â€”  RUST â€¢-â€¢ â€¢â€¢- â€¢â€¢â€¢ -
               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â€¢ I                       A                         N                       M â€”
         â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
       â€¢ S           U           R           W             D           K           G           O â€”
      â”Œâ”€â”€â”´â”€â”€â”     â”Œâ”€â”€â”´â”€â”€â”     â”Œâ”€â”€â”´â”€â”€â”     â”Œâ”€â”€â”´â”€â”€â”       â”Œâ”€â”€â”´â”€â”€â”     â”Œâ”€â”€â”´â”€â”€â”     â”Œâ”€â”€â”´â”€â”€â”     â”Œâ”€â”€â”´â”€â”€â”
    â€¢ H     V     F     _     L     _     P     J       B     X     C     Y     Z     Q     _     _
    â”Œâ”€â”´â”€â” â”Œâ”€â”´â”€â” â”Œâ”€â”´â”€â” â”Œâ”€â”´â”€â” â”Œâ”€â”´â”€â” â”Œâ”€â”´â”€â” â”Œâ”€â”´â”€â” â”Œâ”€â”´â”€â”   â”Œâ”€â”´â”€â” â”Œâ”€â”´â”€â” â”Œâ”€â”´â”€â” â”Œâ”€â”´â”€â” â”Œâ”€â”´â”€â” â”Œâ”€â”´â”€â” â”Œâ”€â”´â”€â” â”Œâ”€â”´â”€â”
  â€¢ 5   4     3           2       +               1   6   = /                 7           8     9   0

åˆ†ç»„åŠ©è®°ï¼š

- E.T. ---- å¤–æ˜Ÿäººï¼Œæ–¯çš®å°”ä¼¯æ ¼çš„å½±ç‰‡è™šæ„ä¸»è§’
- IANM ---- I'm no body
- SU RW DK GO ---- Sure Read Write Drink Go
- HVF L PJ BXCY ZQ ---- Have a half Let's PJ Boxing CY Zero
- 53 3 2 + 1 6=/ 7 8 90 ---- äº”å››è¿åŠ¨ 030002 

ç»ƒä¹ ï¼š

    SOS  ... --- ...
    work .-- --- .-. -.-
    gook --. --- --- -.-


# ğŸš© è“çœ¼ç›é©±é€ä»¤
- https://blog.csdn.net/midi666/article/details/105230879
- https://www.jianshu.com/p/49b4d6e99d29

æœ‰ä¸ªå²›ä¸Šä½ç€ä¸€ç¾¤äººï¼Œæœ‰ä¸€å¤©æ¥äº†ä¸ªæ¸¸å®¢ï¼Œå®šäº†ä¸€æ¡å¥‡æ€ªçš„è§„çŸ©ï¼šæ‰€æœ‰è“çœ¼ç›çš„äººéƒ½å¿…é¡»å°½å¿«ç¦»å¼€è¿™ä¸ªå²›ã€‚æ¯æ™š 8 ç‚¹ä¼šæœ‰ä¸€ä¸ªèˆªç­ç¦»å²›ã€‚æ¯ä¸ªäººéƒ½çœ‹å¾—è§åˆ«äººçœ¼ç›çš„é¢œè‰²ï¼Œä½†ä¸çŸ¥é“è‡ªå·±çš„ï¼ˆåˆ«äººä¹Ÿä¸å¯ä»¥å‘ŠçŸ¥ï¼‰ã€‚æ­¤å¤–ï¼Œä»–ä»¬ä¸çŸ¥é“å²›ä¸Šåˆ°åº•æœ‰å¤šå°‘äººæ˜¯è“çœ¼ç›çš„ï¼ŒåªçŸ¥é“è‡³å°‘æœ‰ä¸€ä¸ªäººçš„çœ¼ç›æ˜¯è“è‰²çš„ã€‚æ‰€æœ‰è“çœ¼ç›çš„äººè¦èŠ±å‡ å¤©æ‰èƒ½ç¦»å¼€è¿™ä¸ªå²›ï¼Ÿ 

è§£ç­”ï¼šä¸‹é¢å°†é‡‡ç”¨ç®€å•æ„é€ æ³•ã€‚å‡å®šè¿™ä¸ªå²›ä¸Šä¸€å…±æœ‰ n äººï¼Œå…¶ä¸­ c äººæœ‰è“çœ¼ç›ã€‚ç”±é¢˜ç›®å¯çŸ¥ï¼Œc > 0ã€‚ 

1ï¼‰ æƒ…å†µ c = 1ï¼šåªæœ‰ä¸€äººæ˜¯è“çœ¼ç›çš„ 

å‡è®¾å²›ä¸Šæ‰€æœ‰äººéƒ½æ˜¯èªæ˜çš„ï¼Œè“çœ¼ç›çš„äººå››å¤„è§‚å¯Ÿä¹‹åï¼Œå‘ç°æ²¡æœ‰äººæ˜¯è“çœ¼ç›çš„ã€‚ä½†ä»–çŸ¥é“è‡³å°‘æœ‰ä¸€äººæ˜¯è“çœ¼ç›çš„ï¼Œäºæ˜¯å°±èƒ½æ¨å¯¼å‡ºè‡ªå·±ä¸€å®šæ˜¯è“çœ¼ç›çš„ã€‚å› æ­¤ï¼Œä»–ä¼šæ­ä¹˜å½“æ™šçš„é£æœºç¦»å¼€ã€‚ 

2ï¼‰æƒ…å†µ c = 2ï¼šåªæœ‰ä¸¤äººæ˜¯è“çœ¼ç›çš„ 

ä¸¤ä¸ªè“çœ¼ç›çš„äººçœ‹åˆ°å¯¹æ–¹ï¼Œå¹¶ä¸ç¡®å®šcæ˜¯1è¿˜æ˜¯2ï¼Œä½†æ˜¯ç”±ä¸Šä¸€ç§æƒ…å†µï¼Œä»–ä»¬çŸ¥é“ï¼Œå¦‚æœc = 1ï¼Œé‚£ä¸ªè“çœ¼ç›çš„äººç¬¬ä¸€æ™šå°±ä¼šç¦»å²›ã€‚å› æ­¤ï¼Œå‘ç°å¦ä¸€ä¸ªè“çœ¼ç›çš„äººä»åœ¨å²›ä¸Šï¼Œä»–ä¸€å®šèƒ½æ¨æ–­å‡ºc = 2ï¼Œä¹Ÿå°±æ„å‘³ç€ä»–è‡ªå·±ä¹Ÿæ˜¯è“çœ¼ç›çš„ã€‚äºæ˜¯ï¼Œä¸¤ä¸ªè“çœ¼ç›çš„äººéƒ½ä¼šåœ¨ç¬¬äºŒæ™šç¦»å²›ã€‚ 

3ï¼‰æƒ…å†µ c > 2ï¼šä¸€èˆ¬æƒ…å†µ 

é€æ­¥æé«˜ c æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºä¸Šè¿°é€»è¾‘ä»æ—§é€‚ç”¨ã€‚å¦‚æœ c = 3ï¼Œé‚£ä¹ˆï¼Œè¿™ä¸‰ä¸ªäººä¼šç«‹å³æ„è¯†åˆ°æœ‰ 2 åˆ° 3 äººæ˜¯è“çœ¼ç›çš„ã€‚å¦‚æœæœ‰ä¸¤äººæ˜¯è“çœ¼ç›çš„ï¼Œé‚£ä¹ˆè¿™ä¸¤äººä¼šåœ¨ç¬¬äºŒæ™šç¦»å²›ã€‚å› æ­¤ï¼Œå¦‚æœè¿‡äº†ç¬¬äºŒæ™šå¦å¤–ä¸¤äººè¿˜åœ¨å²›ä¸Šï¼Œæ¯ä¸ªè“çœ¼ç›çš„äººéƒ½èƒ½æ¨æ–­å‡ºc = 3ï¼Œå› æ­¤è¿™ä¸‰äººéƒ½æœ‰è“çœ¼ç›ã€‚ä»–ä»¬ä¼šåœ¨ç¬¬ä¸‰æ™šç¦»å²›ã€‚ 

ä¸è®º c ä¸ºä»€ä¹ˆå€¼ï¼Œéƒ½å¯ä»¥å¥—ç”¨è¿™ä¸ªæ¨¡å¼ã€‚æ‰€ä»¥ï¼Œå¦‚æœæœ‰ c äººæ˜¯è“çœ¼ç›çš„ï¼Œåˆ™æ‰€æœ‰è“çœ¼ç›çš„äººè¦ç”¨ c æ™šæ‰èƒ½ç¦»å²›ï¼Œä¸”éƒ½åœ¨åŒä¸€æ™šç¦»å¼€ã€‚

